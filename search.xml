<?xml version="1.0" encoding="utf-8"?>
<search>
  
    
    <entry>
      <title><![CDATA[JS èŠ‚æµä¸Žåˆ†æ—¶]]></title>
      <url>%2F2017%2F07%2F26%2FJS%E8%8A%82%E6%B5%81%2F</url>
      <content type="text"><![CDATA[é€šå¸¸æˆ‘ä»¬æåˆ°æ€§èƒ½ä¼˜åŒ–ï¼Œæ€»æ˜¯ä¼šå¿½ç•¥JSæœ¬èº«ï¼Œå› ä¸ºäº‹ä»¶è§¦å‘çš„æœºåˆ¶ï¼Œæœ‰æ—¶å€™ç”¨æˆ·çš„æœªçŸ¥æ“ä½œå¯èƒ½ä¼šå¼•èµ·å¤§é‡çš„å‡½æ•°ã€äº‹ä»¶è°ƒç”¨ï¼Œè™½ç„¶å¤§å¤šæ•°æƒ…å†µæ˜¯ç”¨æˆ·ä¸»åŠ¨è°ƒç”¨è§¦å‘çš„ï¼Œé™¤éžæ˜¯å‡½æ•°æœ¬èº«å®žçŽ°ä¸åˆç†ï¼Œå¦åˆ™æˆ‘ä»¬ä¸€èˆ¬ä¸ä¼šé‡åˆ°å’Œæ€§èƒ½ç›¸å…³çš„é—®é¢˜ã€‚åœ¨ä¸€äº›åœºæ™¯ä¸‹ï¼Œå‡½æ•°å¯èƒ½ä¼šè¢«éžå¸¸é¢‘ç¹åœ°è°ƒç”¨ï¼Œä»Žè€Œé€ æˆå¤§çš„æ€§èƒ½é—®é¢˜ã€‚è¿™é‡Œè®°å½•ä¸€ä¸‹å‡½æ•°èŠ‚æµã€äº‹ä»¶èŠ‚æµï¼Œåˆ†æ—¶åŠ è½½ï¼ è§¦å‘åœºæ™¯ window.onresize äº‹ä»¶ mouseover äº‹ä»¶ ç”¨æˆ·è¾“å…¥è§¦å‘ ajax æŸ¥è¯¢ ä¸Šä¼ è¿›åº¦ â€¦ å¤è‘£æ‹å–ä¼š èŠ‚æµåŽŸç†å½’ç»“ä¸Šè¿°é—®é¢˜çš„å…±åŒç‚¹ï¼šå‡½æ•°è¢«è§¦å‘çš„é¢‘çŽ‡å¤ªé«˜ã€‚ ä¾‹å¦‚åœ¨ window.onresize äº‹ä»¶ä¸­ï¼Œæµè§ˆå™¨é»˜è®¤1ç§’é’Ÿè§¦å‘10æ¬¡ã€‚è€Œæˆ‘ä»¬å®žé™…ä¸Šåªéœ€è¦2æ¬¡åˆ°3æ¬¡ã€‚å› æ­¤æˆ‘ä»¬éœ€è¦æŒ‰æ—¶é—´æ®µæ¥å¿½ç•¥æŽ‰ä¸€äº›äº‹ä»¶è¯·æ±‚ï¼Œä¾‹å¦‚ç¡®ä¿åœ¨500mså†…åªæ‰“å°ä¸€æ¬¡ã€‚ å€ŸåŠ© setTimeout æ¥å®Œæˆã€‚ å‡½æ•°èŠ‚æµwindow.onresize 12345678910111213141516171819202122232425262728293031323334353637383940/* * å°†å³å°†è¢«æ‰§è¡Œçš„å‡½æ•° fn ç”¨ setTimeout å»¶è¿Ÿä¸€æ®µäº‹ä»¶æ‰§è¡Œ * ç¬¬ä¸€æ¬¡ firstTime è§¦å‘ï¼Œè°ƒç”¨å‡½æ•° * ä¸Šæ¬¡è°ƒç”¨ timer è¿˜æ²¡æ‰§è¡Œï¼Œåˆ™å¿½ç•¥æŽ¥ä¸‹æ¥çš„è°ƒç”¨è¯·æ±‚ * éœ€è¦ä¸€ä¸ªæ—¶é—´é—´éš” interval */var throttle = function(fn, interval)&#123; var _self = fn, timer, firstTime = true, interval = interval || 500; return function()&#123; var args = arguments, _me = this; if(firstTime)&#123;_self.apply(_me, args);return firstTime = false; &#125; if(timer)&#123; return false; &#125; timer = setTimeout(function()&#123; clearTimeout(timer); timer = null; _self.apply(_me, args); &#125;, interval); &#125;;&#125;;window.onresize = throttle(function()&#123; console.log(1);&#125;, 500); å¤„ç†ç”¨æˆ·è¾“å…¥æŸ¥è¯¢ï¼š 1234567891011121314151617181920/* * keyup äº‹ä»¶ç»‘å®šå¤„ç†ç¨‹åº * å¦‚æžœä¸è®¾ç½®èŠ‚æµï¼Œæ¯æ¬¡é”®ç›˜è¾“å…¥éƒ½ä¼šè°ƒç”¨å‡½æ•° * å½“ç”¨æˆ·è¾“å…¥åœæ­¢åŽé—´éš”200msä»¥ä¸Šè§¦å‘å¤æ‚çš„æŸ¥è¯¢æ“ä½œ * è¿™æ ·åšçš„ç›®çš„ï¼ˆç›¸æ¯”ä¹‹ä¸‹ï¼Œå®šæ—¶å™¨çš„è®¾ç½®ä¸Žæ¸…é™¤ä»£ä»·ä¼šå°å¾ˆå¤šï¼‰ */var textarea = document.getElementById('text')var timeoutIdtextarea.addEventListener('keyup', function() &#123; if(timeoutId) &#123; clearTimeout(timeoutId) &#125; timeoutId = setTimeout(function() &#123; // åœ¨æ­¤è§¦å‘ keyup äº‹ä»¶å¤„ç†ç¨‹åºï¼Œæ³¨æ„ç»‘å®š context // å‘é€ ajax æŸ¥è¯¢ç­‰... &#125;, 200)&#125;) åˆ†æ—¶å‡½æ•°å‡½æ•°èŠ‚æµæ˜¯ä¸€ç§åˆ©ç”¨å®šæ—¶å™¨æ¥é™åˆ¶å‡½æ•°è¢«é¢‘ç¹è°ƒç”¨çš„è§£å†³æ–¹æ³•ã€‚ï¼ˆè¯•æƒ³ä¸€ä¸‹æ‹å–ä¼šçš„åœºæ™¯ï¼‰ è¿˜æœ‰ä¸€ç§æƒ…å†µæ˜¯ï¼Œå•æ¬¡è°ƒç”¨æ—¶ä¸¥é‡å½±å“æ€§èƒ½ã€‚ï¼ˆä¾‹å¦‚ä¸€æ¬¡æ€§æ¸²æŸ“1000ä¸ªdomèŠ‚ç‚¹ï¼‰ 123456789101112131415var arr = [];for (var i=1; i&lt;1000; i++)&#123; arr.push(i);&#125;var renderDomList = function(data)&#123; for (var i=0,l=data.length; i&lt;l; i++)&#123; var node = document.createElement('div') node.innerHtml = i; document.body.appendChild(node); &#125;&#125;renderDomList(arr); ä½¿ç”¨åˆ†æ—¶å‡½æ•°çš„æ–¹å¼æ¥æ”¹è¿› 12345678910111213141516171819202122232425262728293031323334353637383940414243/* * æž„å»ºä¸€ä¸ªå‡½æ•°ï¼Œè®©èŠ‚ç‚¹åˆ†æ‰¹ä¼ å…¥ * åˆ›å»ºèŠ‚ç‚¹çš„æ•°æ® arr * åˆ›å»ºèŠ‚ç‚¹çš„é€»è¾‘å‡½æ•° fn * æ¯ä¸€æ‰¹åˆ›å»ºçš„æ•°é‡ count = count || 8 */var timeChunk = function(arr, fn, count) &#123; var _arr, timer; var length = arr.length; var start = function() &#123; for (var i=0; i&lt; Math.min( count || 1, arr.length); i++) &#123; var _arr = arr.shift(); fn(_arr); &#125; &#125;; return function()&#123; timer = setInterval(function()&#123; if (arr.length === 0)&#123; return clearInterval( timer ); &#125; start(); &#125;, 200) &#125;&#125;// åˆ›å»ºæµ‹è¯•var arr = [];for (var i=1; i&lt;1000; i++)&#123; arr.push(i);&#125;var renderDomList = timeChunk(arr, function( n )&#123; var node = document.createElement('div') node.innerHTML = n; document.body.appendChild(node);&#125;, 8)renderDomList(); æ€»ç»“å‡½æ•°æˆ–äº‹ä»¶èŠ‚æµä¸Žåˆ†æ—¶åŠ è½½å‡½æ•°çš„åŒºåˆ«åœ¨äºŽï¼Œä¸€ä¸ªä¸æ˜¯ç”¨æˆ·ä¸»åŠ¨è°ƒç”¨ï¼Œå¦ä¸€ä¸ªæ˜¯ç”¨æˆ·ä¸»åŠ¨å‘èµ·çš„ã€‚ å‡½æ•°äº‹ä»¶èŠ‚æµä¸»è¦åŽŸç†æ˜¯ï¼šå»¶è¿Ÿå‡½æ•°çš„æ‰§è¡Œï¼Œå¦‚æžœè¯¥æ¬¡å»¶è¿Ÿæ‰§è¡Œæœªå®Œæˆï¼Œåˆ™å¿½ç•¥ä¸‹æ¬¡è¯·æ±‚ï¼›æˆ–è€…å»¶è¿Ÿå‡½æ•°æ‰§è¡Œï¼Œä¸€æ—¦æœ‰æ–°çš„è¯·æ±‚ï¼Œå–æ¶ˆä¸Šæ¬¡å»¶è¿Ÿé˜Ÿåˆ—ï¼Œé‡æ–°è®¾ç½®å®šæ—¶å™¨ï¼Œç›´åˆ°åœ¨ç‰¹å®šæ¡ä»¶ä¸‹ä¸å†å‘èµ·è¯·æ±‚ã€‚ åˆ†æ—¶å‡½æ•°å¤„ç†ç”¨æˆ·ä¸»åŠ¨è°ƒç”¨çš„å‡½æ•°ï¼Œç¡®ä¿æ€§èƒ½ç¨³å®šçš„å‰æä¸‹ï¼Œåˆ†æ—¶æ®µæ‰§è¡Œå‡½æ•°ï¼Œæˆ–å°†æ•°æ®åˆ†æ®µåŠ è½½ï¼Œæ‰§è¡Œå‡½æ•°ä¾ç„¶ä¸å˜ï¼Œå¼±åŒ–å‡½æ•°æ‰§è¡Œå¯¹æ€§èƒ½äº§ç”Ÿé—®é¢˜ã€‚ å‚è€ƒã€ŠJavaScript è®¾è®¡æ¨¡å¼ä¸Žå¼€å‘å®žè·µã€‹]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[jQuery--extendå®žçŽ°]]></title>
      <url>%2F2017%2F06%2F24%2FjQuery--extend%2F</url>
      <content type="text"><![CDATA[å¸¸è§çš„é¢è¯•é—®é¢˜ï¼Œè§£è¯»æºç ã€‚ï¼ˆjQuery-2.0.3.jsï¼‰ ç®€å•å®žçŽ° extendã€‚ extend() çš„ç”¨æ³•123456789$.extend( [deep], target, object1 [,objectN] )$.fn.extend( object )// ä¼ å…¥ä¸€ä¸ªå¯¹è±¡å­—é¢é‡ï¼Œä½œä¸ºJQæ’ä»¶çš„å†™æ³•// ä¼ å…¥å¤šä¸ªå¯¹è±¡å­—é¢é‡ï¼Œå…¨éƒ¨æ‰©å±•åˆ°ç¬¬ä¸€ä¸ªå¯¹è±¡ä¸­// ç¬¬ä¸€ä¸ªä¼ å…¥å¸ƒå°”å€¼ trueï¼Œä»£è¡¨æ·±æ‹·è´ï¼Œä¸ä¼ é»˜è®¤æµ…æ‹·è´ æ³¨æ„ extend çš„ this å¯¹è±¡123456789101112131415161718// jquery-2.0.3.js:285jQuery.extend = jQuery.fn.extend = func()&#123;&#125;;// åŒä¸€ä¸ªæ–¹æ³•ï¼Œè¢«ä¸¤ä¸ªå¯¹è±¡å¼•ç”¨ï¼Œæ³¨æ„é‡Œé¢çš„åŒºåˆ«var a = &#123; aaa: function()&#123; console.log('aaa'); &#125;, bbb: function()&#123; console.log('bbb'); &#125;&#125;;$.extend( a );// è¿™é‡Œ $.extend =&gt; this =&gt; $/jQuery =&gt; $.aaa()$.fn.extend( a );// è¿™é‡Œ $.fn.extend =&gt; this =&gt; $.fn/æ‰©å±•å®žä¾‹ =&gt; $().aaa()// åŒºåˆ«å°±æ˜¯ä¸€ä¸ªæ‰©å±•jQueryå‡½æ•°ï¼Œä¸€ä¸ªæ˜¯æ‰©å±•jQueryå¯¹è±¡æ–¹æ³•(å®žä¾‹æ–¹æ³•)// åªæ˜¯è¿™ä¸¤è€…æ‰©å±•è°ƒç”¨çš„æ–¹æ³•éƒ½æŒ‡å‘åŒä¸€ä¸ªå‡½æ•°ï¼Œå®žçŽ°æ–¹å¼å·®å¼‚ä¸å¤§ jQuery ä¸­çš„å®žçŽ°é€»è¾‘123456789101112131415161718$.extend = $.fn.extend = function()&#123; // å®šä¹‰ä¸€äº›å˜é‡ if()&#123;&#125; // çœ‹æ˜¯å¦ä¸ºæ·±æ‹·è´ if()&#123;&#125; // çœ‹çœ‹å‚æ•°æ˜¯å¦æ­£ç¡® if()&#123;&#125; // çœ‹æ˜¯å¦ä¸ºæ’ä»¶ for()&#123; // å¯èƒ½æœ‰å¤šä¸ªå¯¹è±¡çš„æƒ…å†µ if()&#123;&#125; // é˜²æ­¢å¾ªçŽ¯å¼•ç”¨ if()&#123;&#125; // æ·±æ‹·è´ else if&#123;&#125; // æµ…æ‹·è´ &#125;&#125;; extend æºç 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364// jquery-2.0.3.js:285jQuery.extend = jQuery.fn.extend = function()&#123; var options, name, src, copy, copyIsArray, clone, target = arguments[0] || &#123;&#125;, i = 1, length = arguments.length, deep = false; // æ˜¯å¦ä¸ºæ·±æ‹·è´ if( typeof target === 'boolean' )&#123; deep = target; target = arguments[1] || &#123;&#125;; // skip the boolean and target i = 2; &#125; // æ£€æŸ¥å‚æ•°ï¼Œå¦‚æžœæ—¢ä¸æ˜¯å¯¹è±¡ä¹Ÿä¸æ˜¯å‡½æ•°è€Œæ˜¯å­—ç¬¦ä¸² if( typeof target !== "object" &amp;&amp; !jQuery.isFunction(target) )&#123; target = &#123;&#125;; &#125; // å¦‚æžœåªä¼ å…¥ä¸€ä¸ªå¯¹è±¡ if( length === i )&#123; target = this; --i; &#125; // å…¶ä»–æƒ…å†µè¯´æ˜Ž for( ; i&lt;length; i++ )&#123; // åªå¤„ç†ä¸ä¸ºç©ºã€undefinedçš„å€¼ if( (options = arguments[ i ]) != null )&#123; // ç»§æ‰¿å¯¹è±¡ for( name in options )&#123; src = target[ name ]; copy = options[ name ]; // é˜²æ­¢å¾ªçŽ¯å¼•ç”¨ if( target === copy )&#123; continue; &#125; // æ·±æ‹·è´ if( deep &amp;&amp; copy &amp;&amp; ( jQuery.isPlainObject(copy) || ( copyIsArray = jQuery.isArray(copy) ) )&#123; if( copyIsArray )&#123; copyIsArray = false; clone = src &amp;&amp; jQuery.isArray(src) ? src : []; &#125; else &#123; clone = src &amp;&amp; jQuery.isPlainObject(src) ? src : &#123;&#125;; &#125; // ä¸åŠ¨åŽŸå¯¹è±¡ï¼Œç›´æŽ¥å¤åˆ¶ï¼Œå¦‚æžœåŽŸå¯¹è±¡ä¹Ÿæ˜¯æ•°ç»„æˆ–å¯¹è±¡ target[ name ] = jQuery.extend( deep, clone, copy ); // don't bring undefined values &#125; else if ( copy !== undefined )&#123; // æµ…æ‹·è´ target[ name ] = copy; &#125; &#125; &#125; &#125; return target;&#125;; ç®€å•å®žçŽ° extend å‡½æ•°æµ…æ‹·è´es5ä¸­å·²ç»æœ‰ Object.assign()ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä½¿ç”¨è¯¥æ–¹æ³•ã€‚ æ·±æ‹·è´ï¼š 1234567891011121314151617181920212223242526// ç±»åž‹åˆ¤æ–­æ–¹æ³•var class2type = &#123;&#125;function type(obj) &#123; return obj == null ? String(obj) : class2type[toString.call(obj)] || "object"&#125;function isFunction(value)&#123; return type(value) == "function" &#125;function isWindow(obj) &#123; return obj != null &amp;&amp; obj == obj.window &#125;function isDocument(obj) &#123; return obj != null &amp;&amp; obj.nodeType == obj.DOCUMENT_NODE &#125;function isObject(obj) &#123; return type(obj) === "object" &#125;function isPlainObject(obj) &#123; return isObject(obj) &amp;&amp; !isWindow(obj) &amp;&amp; Object.getPrototypeOf(obj) == Object.prototype&#125;var isArray = Array.isArray || function(object)&#123; return object instanceof Array&#125;function extend(target, source, deep) &#123; for (key in source) if (deep &amp;&amp; (isPlainObject(source[key])) || isArray(source[key])) &#123; if (isPlainObject(source[key]) &amp;&amp; !isPlainObject(target[key])) target[key] = &#123;&#125; if (isArray(source[key]) &amp;&amp; !isArray(target[key])) target[key] = [] extend(target[key], source[key], deep) &#125; else if (source[key] !== undefined) target[key] = source[key]&#125; æµ‹è¯•ä¸€ä¸‹ 12345678var obj1 = &#123; iger: &#123;age: 30&#125;&#125;var obj2 = &#123; iger: &#123;sex: 'man'&#125;&#125;var obj3 = extend(obj1, obj2, true);console.log(obj3); å…¶ä»–æ–¹å¼å®žçŽ° 12345// json åºåˆ—åŒ–å’Œååºåˆ—åŒ–å®žçŽ°ç®€å•æ·±æ‹·è´var origin = &#123;"a": "aaa"&#125;var copy = JSON.parse(JSON.stringify(origin)) ç»§æ‰¿ extend å°ç»“jQuery ä¸­ä½¿ç”¨çš„ç»§æ‰¿æ˜¯æ‹·è´ç»§æ‰¿ ç±»å¼ç»§æ‰¿ é€šè¿‡ new æž„é€ å‡½æ•° åŽŸåž‹ç»§æ‰¿ é€šè¿‡ {} æ‹·è´ç»§æ‰¿ï¼šç”¨çš„æ›´æ™®éï¼Œä¸­æ‹¬å·è¿ç®—ç¬¦æ€»èƒ½ä»£æ›¿ç‚¹è¿ç®—ç¬¦]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[jQuery(4)--äº‹ä»¶]]></title>
      <url>%2F2017%2F06%2F06%2FjQuery(4)--%E4%BA%8B%E4%BB%B6%2F</url>
      <content type="text"><![CDATA[JavaScript æ ¸å¿ƒAPIè®¾è®¡è™½ç„¶ç®€å•ï¼Œä½†æ˜¯æµè§ˆå™¨ä¹‹é—´å´ä¸¥é‡ä¸å…¼å®¹ï¼Œä»¥è‡´äºŽå®¢æˆ·ç«¯APIè¿‡äºŽå¤æ‚ã€‚jQuery çš„è®¾è®¡æ€æƒ³ å°±æ˜¯ â€”â€”â€”â€” write less, do more. ç®€åŒ–é€šç”¨æ“ä½œï¼Œéšè—æµè§ˆå™¨ä¹‹é—´çš„å·®å¼‚ï¼Œä½¿å¾—webå¼€å‘å˜å¾—æ›´åŠ ç®€å•ã€‚ jQueryå¤„ç†äº‹ä»¶å¤„ç†äº‹ä»¶ä¸€ç›´æœ‰ä¸ªéš¾ç‚¹å°±æ˜¯IE9ä»¥ä¸‹çš„äº‹ä»¶APIä¸Žå…¶ä»–æµè§ˆå™¨éƒ½ä¸ç›¸åŒã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒjQueryå®žçŽ°äº†ä¸€ä¸ªç»Ÿä¸€äº‹ä»¶APIï¼Œå¯å·¥ä½œåœ¨æ‰€æœ‰æµè§ˆå™¨ä¸­ï¼ˆå½“ç„¶éšç€ç‰ˆæœ¬è¿­ä»£ï¼Œæ—§æµè§ˆå™¨ä¹Ÿé€æ­¥è¢«æŠ›å¼ƒï¼‰ã€‚ äº‹ä»¶å¤„ç†ç¨‹åºçš„ç®€å•æ³¨å†Œ1234//å•æœºä»»æ„pæ®µè½æ—¶ï¼Œæ”¹å˜èƒŒæ™¯è‰²$("p").click(function() &#123; $(this).css("background-color", "gray") &#125;); ç®€å•äº‹ä»¶å¤„ç†ç¨‹åºæ³¨å†Œçš„æ–¹æ³•ï¼š blur() focusin() mousedown() mouseup() change() focusout() mouseenter() resize() click() keydown() mouseleave() scroll() dbclick() keypress() mousemove() select() error() keyup() mouseout() submit() focus() load() mouseover() unload() æ³¨æ„äº‹é¡¹ï¼š focuså’Œbluräº‹ä»¶ä¸æ”¯æŒå†’æ³¡ï¼Œfocusinå’Œfocusoutæ”¯æŒã€‚ mouseoverå’Œmouseoutäº‹ä»¶æ”¯æŒå†’æ³¡ï¼Œmouseenterå’Œmouseleaveæ˜¯éžå†’æ³¡äº‹ä»¶ï¼Œè§£å†³å‰ä¸¤è€…å†’æ³¡å¸¦æ¥çš„é—®é¢˜ã€‚ resizeå’Œunloadäº‹ä»¶ç±»åž‹åªåœ¨windowå¯¹è±¡ä¸­è§¦å‘ï¼Œåº”åœ¨$(window)å¯¹è±¡ä¸Šè°ƒç”¨ã€‚ scroll()ç»å¸¸ç”¨äºŽ$(window)å¯¹è±¡ï¼Œä½†å®ƒä¹Ÿç”¨äºŽå¸¦æ»šåŠ¨æ¡çš„ä»»ä½•å…ƒç´ ã€‚ load()æ–¹æ³•ä¹Ÿèƒ½åœ¨$(window)ä¸Šè°ƒç”¨ï¼Œç”¨æ¥ç»™çª—å£æ³¨å†ŒåŠ è½½äº‹ä»¶å¤„ç†ç¨‹åºï¼Œä½†æœ€å¥½è¿˜æ˜¯å°†åˆå§‹åŒ–å‡½æ•°ä¼ ç»™$()ã€‚ error()æ–¹æ³•å¯ç”¨äºŽå…ƒç´ ä¸Šï¼Œç”¨æ¥æ³¨å†Œå›¾ç‰‡åŠ è½½å¤±è´¥æ—¶è°ƒç”¨çš„å¤„ç†ç¨‹åºã€‚ hover()ç”¨æ¥ç»™mouseenterå’Œmouseleaveæ³¨å†Œå¤„ç†ç¨‹åºã€‚ hover(f,g)ç›¸å½“äºŽè°ƒç”¨mouseenter(f) &amp; mouseleave(g) toggle()å°†äº‹ä»¶å¤„ç†ç¨‹åºå‡½æ•°å’Œå•æœºäº‹ä»¶ç»‘å®šï¼Œå¯ä»¥æŒ‡å®šå¤šä¸ªå‡½æ•°ã€‚ toggle(f,g,h),ç¬¬ä¸€æ¬¡å•å‡»è°ƒç”¨è§¦å‘f()ï¼Œç¬¬äºŒæ¬¡å•å‡»è§¦å‘g()ï¼Œä»¥æ­¤ç±»æŽ¨ã€‚è¯¥æ–¹æ³•åœ¨1.8ç‰ˆæœ¬ä¸­è¢«å¼ƒç”¨ äº‹ä»¶æ³¨å†Œçš„å…¶ä»–æ–¹æ³•ï¼š 123456$("img", &#123; src: image_url, alt: img_description, className: "translucent_image", click: function()&#123; $(this).css("opacity","0"); &#125;&#125;) éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¯¥æ–¹æ³•ä¸­ç¬¬äºŒä¸ªå‚æ•°ä»»æ„ä¸€ä¸ªå±žæ€§ä¸Žäº‹ä»¶æ³¨å†Œæ–¹æ³•é‡åï¼Œå°±ä¼šè¢«å½“åšå¤„ç†ç¨‹åºå‡½æ•°ï¼Œå¹¶æ³¨å†Œä¸ºå‘½åäº‹ä»¶ç±»åž‹çš„å¤„ç†ç¨‹åºã€‚ jQueryäº‹ä»¶å¤„ç†ç¨‹åºå¾ˆå¤šäº‹ä»¶å¤„ç†ç¨‹åºå‡½æ•°è¢«å½“åšæ˜¯ä¸å¸¦å‚æ•°ä»¥åŠè¿”å›žå€¼çš„ï¼Œä½†jQueryè°ƒç”¨æ¯ä¸€ä¸ªäº‹ä»¶å¤„ç†ç¨‹åºæ˜¯çš„ç¡®ä¼ å…¥äº†ä¸€ä¸ªæˆ–è€…å¤šä¸ªå‚æ•°ï¼Œå¹¶ä¸”å¯¹å¤„ç†ç¨‹åºçš„è¿”å›žå€¼è¿›è¡Œäº†å¤„ç†ã€‚ æ¯ä¸€ä¸ªäº‹ä»¶å¤„ç†ç¨‹åºéƒ½ä¼ å…¥ä¸€ä¸ªjQueryäº‹ä»¶å¯¹è±¡ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ã€‚è¯¥å¯¹è±¡çš„å­—æ®µæä¾›äº†ä¸Žè¯¥äº‹ä»¶ç›¸å…³çš„è¯¦ç»†ä¿¡æ¯ã€‚ jQueryæ¨¡æ‹Ÿæ ‡å‡†Eventå¯¹è±¡ï¼Œå³ä½¿åœ¨ä¸æ”¯æŒçš„æ ‡å‡†äº‹ä»¶å¯¹è±¡çš„æµè§ˆå™¨ä¸­ï¼ˆåƒIE8åŠå…¶ä»¥ä¸‹ï¼‰ï¼ŒjQueryäº‹ä»¶å¯¹è±¡åœ¨æ‰€æœ‰æµè§ˆå™¨ä¸Šä¸å†æ‹¥æœ‰ä¸€ç»„ç›¸åŒçš„å­—æ®µã€‚ jQueryäº‹ä»¶å¤„ç†ç¨‹åºçš„è¿”å›žå€¼å§‹ç»ˆæœ‰æ„ä¹‰ï¼Œå¦‚æžœè¿”å›žfalseï¼Œä¸Žè¯¥äº‹ä»¶ç›¸å…³è”çš„é»˜è®¤è¡Œä¸ºï¼Œä»¥åŠè¯¥äº‹ä»¶æŽ¥ä¸‹æ¥çš„å†’æ³¡éƒ½ä¼šè¢«å–æ¶ˆã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿”å›žfalseç­‰åŒäºŽè°ƒç”¨Eventå¯¹è±¡çš„preventDefault()å’ŒstopPropagation()æ–¹æ³•ã€‚å½“è¿”å›žä¸€ä¸ªå€¼ï¼ˆéžundefinedï¼‰æ—¶ï¼ŒjQueryä¼šå°†è¯¥å€¼ å­˜å‚¨åœ¨resultå±žæ€§ ä¸­ï¼Œè¯¥å±žæ€§å¯ä»¥è¯¶åŽç»­è°ƒç”¨çš„äº‹ä»¶å¤„ç†ç¨‹åºè®¿é—®ã€‚ jQueryäº‹ä»¶çš„å¯¹è±¡jQueryé€šè¿‡å®šä¹‰è‡ªå·±çš„eventå¯¹è±¡æ¥éšè—æµè§ˆå™¨ä¹‹é—´çš„å®žçŽ°å·®å¼‚ã€‚å½“ä¸€ä¸ªjQueryäº‹ä»¶å¤„ç†ç¨‹åºè¢«è°ƒç”¨æ—¶ï¼Œæ€»ä¼šä¼ å…¥ä¸€ä¸ªjQueryäº‹ä»¶å¯¹è±¡ä½œä¸ºå…¶ç¬¬ä¸€ä¸ªå‚æ•°ã€‚jQueryå¤åˆ¶äº†æ‰€æœ‰åŽŸç”Ÿeventå¯¹è±¡åˆ°jQuery Eventå¯¹è±¡ä¸Šï¼š altKey ctrlKey newValue screenX attrChange currentTarget offsetX screenY attrName detail offsetY shiftKey bubbles eventPhase originalTarget srcElement button fromElement pageX target cancelable keycode pageY toElement charCode layerX prevValue view clientX layerY relatedNode wheelDelta clientY metaKey relatedTarget which é™¤äº†ä»¥ä¸Šè¿™äº›å±žæ€§ï¼ŒEventå¯¹è±¡è¿˜å®šä¹‰äº†ä¸‹åˆ—æ–¹æ³•ï¼š preventDefault() isDefaultPrevented() stopPropagation() isPropagationStopped() stopImmediatePropagation() isImmediatePropagationStopped() éœ€è¦æ³¨æ„çš„jQueryåšäº†ç‰¹æ®Šå¤„ç†çš„äº‹ä»¶å¯¹è±¡ï¼š metaKey pageX,pageY target,currentTarget,relatedTarget timeStamp which è¿˜æœ‰ä»¥ä¸‹jQueryè‡ªå®šä¹‰çš„ç‰¹å®šäºŽjQueryçš„å¯¹è±¡ï¼š dataï¼šå¦‚æžœæ³¨å†Œäº‹ä»¶æŒ‡å®šäº†é¢å¤–çš„æ•°æ®ï¼Œå¤„ç†ç¨‹åºå¯ä»¥ç”¨è¯¥å­—æ®µè®¿é—® handlerï¼šå½“å‰æ­£è¢«è°ƒç”¨çš„äº‹ä»¶å¤„ç†ç¨‹åºå‡½æ•°çš„å¼•ç”¨ resultï¼šè¯¥äº‹ä»¶æœ€è¿‘è°ƒç”¨çš„å¤„ç†ç¨‹åºçš„è¿”å›žå€¼ï¼Œå¿½ç•¥æ²¡æœ‰è¿”å›žå€¼çš„å¤„ç†ç¨‹åº originalEventï¼šæµè§ˆå™¨ç”Ÿæˆçš„åŽŸç”Ÿäº‹ä»¶å¯¹è±¡çš„å¼•ç”¨ äº‹ä»¶å¤„ç†ç¨‹åºçš„é«˜çº§æ³¨å†Œ.bind() æ–¹æ³•å³ä¸ºå‘½åçš„äº‹ä»¶ç»‘å®šå¤„ç†ç¨‹åºï¼Œè¯¥å¤„ç†ç¨‹åºä¼šç»‘å®šåˆ°jQueryå¯¹è±¡çš„æ¯ä¸€ä¸ªå…ƒç´ ä¸Šã€‚ç›´æŽ¥ä½¿ç”¨bind()å¯ä»¥è®©æˆ‘ä»¬ä½¿ç”¨äº‹ä»¶æ³¨å†Œçš„é«˜çº§ç‰¹æ€§ï¼Œè¿™äº›ç‰¹æ€§åœ¨è¾ƒç®€å•çš„æ–¹æ³•ä¸Šæ˜¯ä¸å¯ç”¨çš„ã€‚ æ³¨ï¼šjQueryä½¿ç”¨â€œbindâ€æ¥è¡¨ç¤ºäº‹ä»¶å¤„ç†ç¨‹åºçš„æ³¨å†Œã€‚ES5ç»™å‡½æ•°å®šä¹‰äº†bind()æ–¹æ³•ï¼Œä½¿ç”¨â€œbindâ€æœ¯è¯­è¡¨ç¤ºå¯¹è±¡ä¸Žå‡½æ•°ä¹‹é—´çš„å…³è”ï¼Œè¿™äº›å‡½æ•°ä¼šåœ¨è¿™äº›å¯¹è±¡ä¸Šè°ƒç”¨ã€‚Function.bind()æ–¹æ³•çš„jQueryç‰ˆæœ¬æ˜¯ä¸€ä¸ªåä¸ºjQuery.proxy()çš„å·¥å…·å‡½æ•°ã€‚ 12$('p').click(f);$('p').bind('click', f); å¯ä»¥çœ‹åˆ°ï¼Œbind()æ–¹æ³•éœ€è¦ä¸€ä¸ªäº‹ä»¶ç±»åž‹å­—ç¬¦ä¸²ä½œä¸ºå…¶ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œä¸€ä¸ªäº‹ä»¶å¤„ç†ç¨‹åºå‡½æ•°ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ã€‚ jQueryå…è®¸ä¼ å…¥ä¸‰ä¸ªå‚æ•°ï¼Œæ­¤æ—¶ç¬¬ä¸€ä¸ªå‚æ•°ä»ä¸ºäº‹ä»¶ç±»åž‹ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºäº‹ä»¶å¤„ç†å‡½æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºå¯ä»¥ä¸ºä»»ä½•å€¼ï¼ŒjQueryä¼šåœ¨è°ƒç”¨å¤„ç†ç¨‹åºå‰ï¼Œå°†æŒ‡å®šçš„å€¼è®¾ç½®ä¸ºeventå¯¹è±¡çš„dataå±žæ€§ã€‚é€šè¿‡è¿™ç§æ–¹å¼ä¼ é€’é¢å¤–çš„æ•°æ®ç»™å¤„ç†ç¨‹åºï¼Œä¸éœ€è¦ä½¿ç”¨é—­åŒ…ï¼Œæœ‰æ—¶éžå¸¸æœ‰ç”¨ã€‚ bind()çš„å…¶ä»–ç‰¹æ€§ï¼š 123456789101112131415$('a').hover(f);$('a').bind('mouseenter mouseleave', f);// ä¸¤è€…ç­‰ä»·ï¼Œå…è®¸ç¬¬ä¸€ä¸ªå‚æ•°ç”±ç©ºæ ¼åˆ†éš”äº‹ä»¶ç±»åž‹// å¤„ç†ç¨‹åºä¼šä¸ºæ¯ä¸€ä¸ªäº‹ä»¶ç±»åž‹æ³¨å†Œ$('a').bind('mouseover.myMod', f);// ä½œä¸ºmouseoverå¤„ç†ç¨‹åºåœ¨å‘½åç©ºé—´myModä¸­æŠŠfç»‘å®šåˆ°æ‰€æœ‰å…ƒç´ $('a').bind('mouseout.myMod.yourMod', f)// åœ¨å‘½åç©ºé—´â€˜myModâ€™å’Œâ€˜yourModâ€™ä¸­ä½œä¸ºmouseoutå¤„ç†ç¨‹åºç»‘å®š f// å…è®¸ä¸ºæ³¨å†Œçš„äº‹ä»¶å¤„ç†ç¨‹åºæŒ‡å®šå‘½åç©ºé—´$('a').hover(f, g)$('a').bind(&#123;mouseenter:f, mouseleave:g&#125;)// ä¸¤è€…ç­‰ä»·// ç¬¬ä¸€ä¸ªå‚æ•°å¯ä»¥æ˜¯å¯¹è±¡ï¼Œè¯¥å¯¹è±¡å§äº‹ä»¶åæ˜ å°„åˆ°å¤„ç†ç¨‹åºå‡½æ•° .one() æ–¹æ³•å°±å’Œ .bind()æ–¹æ³•ä¸€æ ·ï¼ŒäºŒè€…å”¯ä¸€çš„åŒºåˆ«å°±æ˜¯ one() æ³¨å†Œçš„äº‹ä»¶å¤„ç†å™¨æ°¸è¿œåªä¼šè§¦å‘ä¸€æ¬¡ã€‚ æ³¨é”€äº‹ä»¶å¤„ç†ç¨‹åº.unbind() æ–¹æ³•åªå¯ä»¥ç”¨æ¥æ³¨é”€ä½¿ç”¨bind()æ³¨å†Œçš„äº‹ä»¶å¤„ç†ç¨‹åºï¼Œé˜²æ­¢åœ¨å°†æ¥çš„äº‹ä»¶ä¸­è¢«è§¦å‘ã€‚ ä¸å¸¦å‚æ•°æ—¶ï¼Œunbind()ä¼šæ³¨é”€jQueryå¯¹è±¡ä¸­æ‰€æœ‰å…ƒç´ çš„ï¼ˆæ‰€æœ‰äº‹ä»¶ç±»åž‹çš„ï¼‰æ‰€æœ‰äº‹ä»¶å¤„ç†ç¨‹åºï¼š 1234567891011121314151617181920212223242526$('*').unbind();// ä»Žæ‰€æœ‰å…ƒç´ ä¸­ç§»é™¤æ‰€æœ‰jQueryäº‹ä»¶å¤„ç†ç¨‹åº$('a').unbind("mouseover mouseout");// ä»Žæ‰€æœ‰aå…ƒç´ ä¸­å–æ¶ˆç»‘å®šæ‰€æœ‰mouseoverå’Œmouseoutå¤„ç†ç¨‹åº$('a').unbind("mouseover.myMod mouseout.myMod");// å–æ¶ˆç»‘å®šåœ¨â€˜myModâ€™ä¸‹æ‰€æœ‰çš„mouseoverå’Œmouseoutå¤„ç†ç¨‹åº$('a').unbind(".myMod");// å–æ¶ˆç»‘å®šåœ¨â€˜myModâ€™ä¸‹æ‰€æœ‰çš„äº‹ä»¶ç±»åž‹çš„å¤„ç†ç¨‹åº$('a').unbind("click.ns1.ns2");// åŒæ—¶å–æ¶ˆç»‘å®šåœ¨â€˜ns1â€™å’Œâ€˜ns2â€™å‘½åç©ºé—´ä¸‹çš„å•æœºå¤„ç†ç¨‹åº$("#muButton").unbind('click', myClickHandler);// æ³¨é”€ç‰¹å®šç±»åž‹çš„äº‹ä»¶å¤„ç†ç¨‹åºå‡½æ•°ï¼Œå¯ç”¨äºŽä¼ å…¥3ä¸ªå‚æ•°çš„bind()$('a').unbind(&#123; mouseover: mouseoverHandler, mouseout: mouseoutHandler&#125;);// unbind()ä¼šè½®è¯¢è¯¥å¯¹è±¡ï¼Œç§»é™¤å¯¹åº”çš„äº‹ä»¶ç±»åž‹å¤„ç†ç¨‹åºå‡½æ•°unbind(ev);unbind(ev.type, ev.handler);// ä»¥ä¸Šä¸¤è€…ç­‰ä»·ï¼Œä¼ é€’ä¸€ä¸ªjQuery eventç»™unbind()//ä»–ä¼šè‡ªåŠ¨å–æ¶ˆä¼ å…¥äº‹ä»¶çš„å¤„ç†ç¨‹åºå‡½æ•° è§¦å‘äº‹ä»¶å½“ç‚¹å‡»é¼ æ ‡ã€é”®ç›˜æˆ–è§¦å‘å…¶ä»–æ—¶é—´ç±»åž‹æ—¶ï¼Œæ³¨å†Œçš„äº‹ä»¶å¤„ç†ç¨‹åºä¼šè‡ªåŠ¨è°ƒç”¨ã€‚è€Œæœ‰æ—¶æˆ‘ä»¬éœ€è¦æ‰‹åŠ¨è§¦å‘â€¦ä¸Žå¾ˆå¤šjQueryæ–¹æ³•åŒæ—¶ç”¨ä½œgetterå’Œsetterç±»ä¼¼ã€‚ äº‹ä»¶æ–¹æ³•ä¸å¸¦å‚æ•°è°ƒç”¨æ—¶ï¼šæ‰‹åŠ¨è§¦å‘äº‹ä»¶ å¸¦å‚æ•°è°ƒç”¨æ—¶ï¼šæ³¨å†Œäº‹ä»¶å¤„ç†ç¨‹åº å½“æ‰‹åŠ¨è°ƒç”¨äº‹ä»¶æ–¹æ³•æ—¶ï¼Œå¦‚æžœå¤„ç†ç¨‹åºæ²¡æœ‰è¿”å›žfalseæˆ–è€…è°ƒç”¨äº‹ä»¶å¯¹è±¡çš„preventDefault()ï¼Œå®žé™…ä¸Šå°†ä¼šæ‰§è¡Œå¤„ç†ç¨‹åºã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå†’æ³¡äº‹ä»¶ä¾ç„¶ä¼šå†’æ³¡ï¼ æ‰‹åŠ¨è°ƒç”¨äº‹ä»¶æ–¹æ³•æ— æ³•è§¦å‘addEventListener()æˆ–è€…attachEvent()æ³¨å†Œçš„äº‹ä»¶å¤„ç†ç¨‹åºã€‚ .trigger()æ–¹æ³•ä¼šåœ¨jQueryå¯¹è±¡ä¸­çš„æ‰€æœ‰å…ƒç´ ä¸Šè§¦å‘ä¸ºè¯¥ç±»åž‹äº‹ä»¶æ³¨å†Œçš„æ‰€æœ‰å¤„ç†ç¨‹åºã€‚ 123456789101112131415161718192021222324252627$("#my_form").submit();$("#my_form").trigger("submit");// ä¸¤è€…ç­‰ä»·ï¼Œéƒ½æ˜¯è§¦å‘è¯¥äº‹ä»¶// ä½†åŽè€…ä¼ å…¥çš„å­—ç¬¦ä¸²ä¸èƒ½æ˜¯å¤šä¸ªäº‹ä»¶ç±»åž‹$("button").trigger("click.ns1");// è§¦å‘æŸä¸ªå‘½åç©ºé—´ä¸‹çš„clickå¤„ç†ç¨‹åº$("button").trigger("click!");// è§¦å‘æ²¡æœ‰å‘½åç©ºé—´çš„clickå¤„ç†ç¨‹åº$("#button1").click(function(e) &#123; $("#button2").trigger(e);&#125;);// æŽ¥å—eventå¯¹è±¡ï¼ˆæˆ–è€…å¸¦æœ‰typeå±žæ€§çš„å¯¹è±¡ï¼‰ä¸ºå‚æ•°// btn1ä¸Šçš„å•å‡»å¤„ç†ç¨‹åºè§¦å‘btn2ä¸Šçš„ç›¸åŒäº‹ä»¶$("#button1").trigger(&#123;type: 'click', synthetic: true&#125;);// è§¦å‘äº‹ä»¶æ—¶ï¼Œæ·»åŠ é¢å¤–çš„å±žæ€§ç»™æ—¶é—´å¯¹è±¡$("#btn1").click(function(e) &#123; if (e.synthetic) &#123;...&#125;;&#125;);// æ£€æµ‹é¢å¤–å±žæ€§æ¥åŒºåˆ†æ˜¯å¦æ˜¯çœŸå®žäº‹ä»¶è¿˜æ˜¯è™šå‡äº‹ä»¶$("btn1").trigger("click", true);$("btn1").trigger("click", [x,y,z]);// å¯ä»¥é€‰æ‹©ä¼ å…¥å•ä¸€æˆ–è€…å¤šä¸ªé¢å¤–çš„å‚æ•° jQuery.event.trigger()è¯¥jQueryå‡½æ•°æŽ¥å—ä¸Ž.trigger()æ–¹æ³•ä¸€æ ·çš„å‚æ•°ï¼Œä½†åœ¨æ•´ä¸ªæ–‡æ¡£ä¸­è§¦å‘æŒ‡å®šäº‹ä»¶ç±»åž‹çš„å¤„ç†ç¨‹åºæ˜¯æ›´åŠ é«˜æ•ˆã€‚å¹¶ä¸”ï¼Œä»¥è¿™ç§æ–¹æ³•è§¦å‘çš„å…¨å±€äº‹ä»¶ä¸ä¼šå†’æ³¡ï¼Œå¹¶ä¸”åªä¼šè§¦å‘ä½¿ç”¨jQueryæ–¹æ³•æ³¨å†Œçš„å¤„ç†ç¨‹åºã€‚ï¼ˆä¸åŒ…æ‹¬ä½¿ç”¨onclickç­‰DOMå±žæ€§æ³¨å†Œçš„äº‹ä»¶å¤„ç†ç¨‹åºï¼‰ å¦‚æžœæƒ³è°ƒç”¨äº‹ä»¶å¤„ç†ç¨‹åºï¼Œä½†æ˜¯ä¸æ‰§è¡Œé»˜è®¤æ“ä½œï¼Œå¯ä»¥ä½¿ç”¨triggerHandler()æ›¿ä»£trigger()ã€‚è¯¥æ–¹æ³•å’Œtrigger()ç±»ä¼¼ï¼Œé™¤äº†ä¼šé¦–å…ˆè°ƒç”¨Eventå¯¹è±¡çš„preventDefault()å’ŒcancelBubble()æ–¹æ³•ã€‚è¿™æ„å‘³ç€triggerHandler()æ–¹æ³•æ‰‹åŠ¨è§¦å‘çš„äº‹ä»¶ä¸ä¼šå†’æ³¡å’Œè§¦å‘é»˜è®¤è¡Œä¸ºã€‚ è‡ªå®šä¹‰äº‹ä»¶ä½¿ç”¨.bind()æ³¨å†Œè‡ªå®šä¹‰äº‹ä»¶çš„å¤„ç†ç¨‹åºï¼Œä½¿ç”¨.trigger()è°ƒç”¨è¿™äº›å¤„ç†ç¨‹åºã€‚ 1234567$("#logoff").click(function() &#123;] $.event.trigger("logoff"); //å¹¿æ’­äº‹ä»¶ window.location = "logoff.php"; //å¯¼èˆªåˆ°æ–°é¡µé¢&#125;);// ç”¨æˆ·å•æœºâ€œlogoffâ€æŒ‰é’®æ—¶ï¼Œå¹¿æ’­ä¸€ä¸ªè‡ªå®šä¹‰äº‹ä»¶// ç»™ä»»ä½•éœ€è¦ä¿å­˜çŠ¶æ€çš„æ„Ÿå…´è¶£çš„è§‚å¯Ÿè€…ï¼Œç„¶åŽå¯¼èˆªåˆ°æ–°é¡µé¢ å®žæ—¶äº‹ä»¶egï¼šæ¯”å¦‚åŠ¨æ€æ·»åŠ åˆ°domçš„æ—¥ç¨‹ï¼Œéœ€è¦ä¿®æ”¹çŠ¶æ€æ·»åŠ ç‚¹å‡»äº‹ä»¶ ä½¿ç”¨.bind()ç»™æ–‡æ¡£ä¸­æ‰€ä»¥aå…ƒç´ ç»‘å®šäº†äº‹ä»¶å¤„ç†ç¨‹åºï¼ŒæŽ¥ç€åˆåˆ›å»ºäº†å¸¦æœ‰aå…ƒç´ çš„æ–°æ–‡æ¡£å†…å®¹ï¼Œè¿™æ˜¯æ–°å…ƒç´ å’Œè€å…ƒç´ ä¸ä¼šæœ‰ç›¸åŒçš„äº‹ä»¶å¤„ç†ç¨‹åºï¼Œè¡Œä¸ºå°†ä¸ä¸€è‡´ã€‚ .delegate() &amp; .undelegate() é€šå¸¸åœ¨ $(document) ä¸Šè°ƒç”¨ï¼Œå¹¶ä¼ å…¥ä¸€ä¸ªjQueryé€‰æ‹©å™¨å­—ç¬¦ä¸²ã€ä¸€ä¸ªjQueryäº‹ä»¶ç±»åž‹å­—ç¬¦ä¸²ä»¥åŠä¸€ä¸ªjQueryäº‹ä»¶å¤„ç†ç¨‹åºå‡½æ•°ã€‚ 1234$(document).delegate('a', "mouseover", linkHandler);// ä½¿ç”¨bind()æ¥å¤„ç†æ–‡æ¡£é™æ€éƒ¨åˆ†// delegate()å¤„ç†åŠ¨æ€ä¿®æ”¹çš„éƒ¨åˆ† .live() &amp; .die() ä¹Ÿç”¨æ¥æ³¨å†Œå®žæ—¶äº‹ä»¶ã€‚live()ç›¸æ¯”delegete()æ›´éš¾ç†è§£ï¼Œä½†æ˜¯ä½¿ç”¨æ›´æ™®éã€‚ 1234567$('a').live("mouseover", linkHandler);$("a", $(".dynamic")).live("mouseover", linkHandler);// æ³¨æ„ä¼ ç»™$()çš„å‚æ•°x.live(type, handler);$(x.context).delegate(x.selector, type ,handler);// å¯¹äºŽjQueryå¯¹è±¡xï¼Œä¸Šé¢ä¸¤ä¸ªæ–¹æ³•æ‰€åšäº‹æƒ…ç›¸åŒã€‚ åœ¨jQueryå¯¹è±¡ä¸Šè°ƒç”¨live()æ–¹æ³•æ—¶ï¼Œè¯¥å¯¹è±¡ä¸­çš„å…ƒç´ å¹¶æ²¡æœ‰èµ·ä½œç”¨ï¼ŒçœŸæ­£èµ·ä½œç”¨çš„æ˜¯ä¼ é€’ç»™$()æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°é€‰æ‹©å™¨å’Œç¬¬äºŒä¸ªå‚æ•°ä¸Šä¸‹æ–‡ï¼ŒjQueryå¯¹è±¡é€šè¿‡contextå’Œselectorå¯¹è±¡æ¥ä½¿å¾—è¿™äº›å€¼å¯ç”¨ã€‚é€šå¸¸ä¸å¸¦ç¬¬äºŒä¸ªå‚æ•°è°ƒç”¨$()æ—¶ï¼Œcontextå¯¹è±¡æ˜¯å½“å‰æ–‡æ¡£ã€‚ å°ç»“è¦å­¦ä¼šäº‹ä»¶ï¼Œéœ€è¦æŽŒæ¡äº‹ä»¶åŸºæœ¬ç±»åž‹ï¼Œäº‹ä»¶å¯¹è±¡ï¼Œæ³¨å†Œæ–¹æ³•ä»¥åŠå¦‚ä½•æ³¨é”€äº‹ä»¶ï¼Œæ³¨å†Œå®žæ—¶äº‹ä»¶ï¼Œè‡ªå®šä¹‰äº‹ä»¶ï¼ŒæŽŒæ¡äº‹ä»¶çš„è§¦å‘ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[jQuery(3)--ä¿®æ”¹æ–‡æ¡£ç»“æž„]]></title>
      <url>%2F2017%2F06%2F05%2FjQuery(3)--%E4%BF%AE%E6%94%B9%E6%96%87%E6%A1%A3%2F</url>
      <content type="text"><![CDATA[JavaScript æ ¸å¿ƒAPIè®¾è®¡è™½ç„¶ç®€å•ï¼Œä½†æ˜¯æµè§ˆå™¨ä¹‹é—´å´ä¸¥é‡ä¸å…¼å®¹ï¼Œä»¥è‡´äºŽå®¢æˆ·ç«¯APIè¿‡äºŽå¤æ‚ã€‚jQuery çš„è®¾è®¡æ€æƒ³ å°±æ˜¯ â€”â€”â€”â€” write less, do more. ç®€åŒ–é€šç”¨æ“ä½œï¼Œéšè—æµè§ˆå™¨ä¹‹é—´çš„å·®å¼‚ï¼Œä½¿å¾—webå¼€å‘å˜å¾—æ›´åŠ ç®€å•ã€‚ æ’å…¥å’Œæ›¿æ¢å…ƒç´  æ“ä½œ $(target).method(content) $(content).method(target) ç›®æ ‡å…ƒç´ ç»“å°¾æ’å…¥ append() appendTo() ç›®æ ‡å…ƒç´ èµ·å§‹æ’å…¥ prepend() prependTo() ç›®æ ‡å…ƒç´ åŽæ’å…¥ after() insertAfter() ç›®æ ‡å…ƒç´ å‰é¢æ’å…¥ before() insertBefore() æ›¿æ¢ç›®æ ‡å…ƒç´  replaceWith() replaceAll() 12345678910111213141516171819202122232425262728293031323334353637$("#log").append("&lt;br/&gt;"+message);// åœ¨#logå…ƒç´ ç»“å°¾æ·»åŠ å†…å®¹$("&lt;br/&gt;"+message).appendTo("#log");// æ·»åŠ htmlåˆ°#logæœ«å°¾ä¸­$("h1").prepend("Â§");// åœ¨æ‰€æœ‰h1å…ƒç´ å¼€å¤´æ·»åŠ ç« èŠ‚ç¬¦å·$(document.createTextNode("Â§")).prependTo("h1");// ç»™æ¯ä¸ª&lt;h1&gt;å…ƒç´ å†…èµ·å§‹å¤„æ·»åŠ ç« èŠ‚ç¬¦å·$("h1").before("&lt;hr/&gt;");// åœ¨æ‰€æœ‰h1å…ƒç´ ä¹‹å‰æ·»åŠ æ°´å¹³çº¿$("&lt;hr/&gt;").insertBefore("h1");// åœ¨æ¯ä¸ªh1å…ƒç´ ä¹‹å‰æ’å…¥æ°´å¹³çº¿$("h1").after("&lt;hr/&gt;");// åœ¨æ‰€æœ‰h1å…ƒç´ ä¹‹åŽæ·»åŠ æ°´å¹³çº¿$("&lt;hr/&gt;").insertAfter("h1");// åœ¨æ¯ä¸ªh1å…ƒç´ ä¹‹åŽæ’å…¥æ°´å¹³çº¿$("hr").replaceWirh("&lt;br/&gt;");// å°†æ‰€æœ‰&lt;hr/&gt;å…ƒç´ æ›¿æ¢ä¸º&lt;br/&gt;å…ƒç´ $("&lt;br/&gt;").replaceAll("hr");// ç”¨&lt;br/&gt;æ›¿æ¢æ‰€æœ‰çš„&lt;hr/&gt;$("h2").each(function() &#123; var h2 = $(this); h2.replaceWith("&lt;h1&gt;" + h2.html() + "&lt;h1/&gt;"); &#125;);// å°†h2æ›¿æ¢ä¸ºh1ï¼Œä¿æŒå†…å®¹ä¸å˜$("h1").map(function() &#123; return this.firstChild; &#125;).before("Â§");// ç»™æ¯ä¸ª&lt;h1&gt;ä¹‹å‰æ·»åŠ ç« èŠ‚æ ‡è¯†// ä»¥ä¸Šæ–¹æ³•éƒ½æŽ¥å—å‡½æ•°å‚æ•°ï¼Œç”¨äºŽè®¡ç®—éœ€è¦æ’å…¥çš„å€¼ã€‚// å¦‚æžœä¼ å…¥å‡½æ•°ï¼Œæ¯ä¸ªé€‰ä¸­å…ƒç´ éƒ½ä¼šè°ƒç”¨è¯¥å‡½æ•°ã€‚// åŒæ—¶ï¼Œä»¥ä¸Šæ–¹æ³•éƒ½æ‰¾åˆ°å¯¹åº”çš„æ–¹æ³•åœ¨å†…å®¹ä¸Šè°ƒç”¨ä¼ å…¥åˆ°ç›®æ ‡å…ƒç´ ã€‚// å‚è€ƒè¡¨æ ¼ç¬¬ä¸‰åˆ—ã€‚ å¤åˆ¶å…ƒç´ .clone() æ–¹æ³•åˆ›å»ºå¹¶è¿”å›žæ¯ä¸€ä¸ªé€‰ä¸­å…ƒç´ ï¼ˆåŒ…å«å…ƒç´ çš„æ‰€æœ‰å­å­™ï¼‰çš„ä¸€ä¸ªå‰¯æœ¬ã€‚è¿”å›žçš„jQueryå¯¹è±¡è¿˜ä¸æ˜¯æ–‡æ¡£çš„ä¸€éƒ¨åˆ†ï¼Œç„¶åŽå¯ä»¥ä½¿ç”¨å‰é¢çš„æ–¹æ³•æ’å…¥åˆ°æ–‡æ¡£ä¸­ã€‚ 123456$(document.body).append("&lt;div id='linklist'&gt;&lt;/div&gt;");// åœ¨æ–‡æ¡£ç»“å°¾åŠ å…¥ä¸€ä¸ªå¸¦æœ‰ linklist IDçš„æ–°div$('a').clone().appendTo("#linklist");// å¤åˆ¶æ–‡æ¡£ä¸­æ‰€æœ‰é“¾æŽ¥å¹¶æ’å…¥åˆ°è¯¥divä¸­$("#linklist &gt; a").after("&lt;br/&gt;");// ç»™æ¯ä¸ªé“¾æŽ¥åŽé¢åŠ ä¸ªæ¢è¡Œç¬¦å·ï¼Œç‹¬è¡Œæ˜¾ç¤º éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ.clone()æ–¹æ³•å¹¶ä¸ä¼šå¤åˆ¶ä¸Žå…ƒç´ ç›¸å…³çš„æ•°æ®ã€‚å¦‚éœ€è¦ä¼ å…¥trueå‚æ•°ã€‚ åŒ…è£…å…ƒç´  .wrap() æ–¹æ³•åŒ…è£…æ¯ä¸€ä¸ªé€‰ä¸­å…ƒç´ ã€‚ .wrapInner() æ–¹æ³•åŒ…è£…æ¯ä¸€ä¸ªé€‰ä¸­å…ƒç´ çš„å†…å®¹ã€‚ .wrapAll() æ–¹æ³•å°†é€‰ä¸­å…ƒç´ ä½œä¸ºä¸€ç»„æ¥åŒ…è£…ã€‚ é€šå¸¸ä¼ å…¥ä¸€ä¸ªæ–°åˆ›å»ºçš„åŒ…è£…å…ƒç´ æˆ–ç”¨æ¥åˆ›å»ºæ–°åŒ…è£…å…ƒç´ çš„HTMLå­—ç¬¦ä¸² è¿™äº›æ–¹æ³•æŽ¥å—å‡½æ•°ä½œä¸ºå‚æ•°ï¼Œä¼šåœ¨æ¯ä¸ªå…ƒç´ çš„ä¸Šä¸‹æ–‡ä¸­è°ƒç”¨ä¸€æ¬¡ï¼ŒthisæŒ‡å‘è¯¥å…ƒç´ ï¼Œç´¢å¼•æ˜¯å”¯ä¸€å‚æ•°ï¼Œè¿”å›žè¡¨ç¤ºåŒ…è£…å…ƒç´ çš„å­—ç¬¦ä¸²ã€elementæˆ–jQueryå¯¹è±¡ã€‚ 12345678$("h1").wrap(document.createElement("i"));// ç”¨&lt;i&gt;å…ƒç´ åŒ…è£…æ‰€æœ‰&lt;h1&gt;å…ƒç´ ï¼Œäº§ç”Ÿ&lt;i&gt;&lt;h1&gt;...&lt;h1/&gt;&lt;i/&gt;$("h1").wrap("&lt;div class='new' /&gt;");// åŒ…è£…æ‰€æœ‰&lt;h1&gt;å…ƒç´ çš„å†…å®¹ï¼Œä½¿ç”¨å­—ç¬¦ä¸²å‚æ•°æ›´ç®€å•$("body&gt;p:first").wrap("&lt;a name='lead'&gt;&lt;div class='first'&gt;&lt;/div&gt;&lt;/a&gt;");// å°†ç¬¬ä¸€ä¸ªæ®µè½åŒ…è£¹åœ¨ä¸€ä¸ªé”šç‚¹å’Œdivé‡Œ$("body&gt;p:not(:first)").wrap(&lt;div class='resst'&gt;&lt;/div&gt;);// å°†å…¶ä»–æ‰€æœ‰æ®µè½åŒ…è£¹åœ¨å¦ä¸€ä¸ªdivé‡Œ åˆ é™¤å…ƒç´  .empty() æ–¹æ³•ä¼šåˆ é™¤æ¯ä¸ªé€‰ä¸­å…ƒç´ çš„æ‰€æœ‰å­å­™èŠ‚ç‚¹ï¼ˆåŒ…æ‹¬æ–‡æœ¬èŠ‚ç‚¹ï¼‰ï¼Œä½†ä¸ä¼šä¿®æ”¹è‡ªèº«å…ƒç´ ã€‚ .remove() æ–¹æ³•ä¼šä»Žæ–‡æ¡£ä¸­ç§»é™¤æ‰€é€‰å…ƒç´ ï¼ˆåŠæ‰€æœ‰å…ƒç´ å†…å®¹ï¼‰ã€‚å¦‚æžœä¼ å…¥å‚æ•°ä¼šè¢«å½“åšé€‰æ‹©å™¨ï¼ŒjQueryå¯¹è±¡ä¸­åªæœ‰åŒ¹é…è¯¥é€‰æ‹©å™¨çš„å…ƒç´ æ‰ä¼šè¢«ç§»é™¤ã€‚ï¼ˆå¦‚æžœä»…ä»…æƒ³ä»ŽjQueryå¯¹è±¡è€Œéžæ–‡æ¡£ä¸­ç§»é™¤ï¼Œå¯ä»¥ä½¿ç”¨.filter()æ–¹æ³•ã€‚ï¼‰åŒæ—¶éœ€è¦æ³¨æ„çš„æ˜¯è¯¥æ–¹æ³•ä¼šç§»é™¤æ‰€æœ‰äº‹ä»¶å¤„ç†ç¨‹åºå·²ç»ç»‘å®šæ•°æ®ã€‚ .detach() æ–¹æ³•å’Œ .remove()æ–¹æ³•ç±»ä¼¼ï¼Œä½†ä¸ä¼šç§»é™¤äº‹ä»¶å¤„ç†ç¨‹åºå’Œæ•°æ®ã€‚ .unwrap() æ–¹æ³•æ˜¯ .wrap()æˆ– .wrapAll()æ–¹æ³•çš„åæ“ä½œï¼šç§»é™¤æ¯ä¸€ä¸ªé€‰ä¸­å…ƒç´ çš„çˆ¶å…ƒç´ ï¼Œä¸å½±å“é€‰ä¸­å…ƒç´ åŠå…¶å…„å¼ŸèŠ‚ç‚¹ å°ç»“æ–‡æ¡£èŠ‚ç‚¹çš„åˆ é™¤ã€å¢žåŠ ã€æ›¿æ¢ã€åŒ…è£…çš„æ–¹æ³•å°±è¿™äº›ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯å¦‚ä½•çµæ´»ä½¿ç”¨å®ƒä»¬ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[jQuery(2)--getter&setter]]></title>
      <url>%2F2017%2F06%2F04%2FjQuery(2)--getter%26setter%2F</url>
      <content type="text"><![CDATA[JavaScript æ ¸å¿ƒAPIè®¾è®¡è™½ç„¶ç®€å•ï¼Œä½†æ˜¯æµè§ˆå™¨ä¹‹é—´å´ä¸¥é‡ä¸å…¼å®¹ï¼Œä»¥è‡´äºŽå®¢æˆ·ç«¯APIè¿‡äºŽå¤æ‚ã€‚jQuery çš„è®¾è®¡æ€æƒ³ å°±æ˜¯ â€”â€”â€”â€” write less, do more. ç®€åŒ–é€šç”¨æ“ä½œï¼Œéšè—æµè§ˆå™¨ä¹‹é—´çš„å·®å¼‚ï¼Œä½¿å¾—webå¼€å‘å˜å¾—æ›´åŠ ç®€å•ã€‚ getter &amp; setter æ¦‚è¦jQuery æœ€ç®€å•å¸¸è§çš„æ“ä½œæ˜¯èŽ·å–ï¼ˆgetï¼‰å’Œè®¾ç½®ï¼ˆsetï¼‰HTMLå±žæ€§ã€CSSæ ·å¼ã€å…ƒç´ å†…å®¹å’Œä½ç½®å®½é«˜ã€‚ jQuery ä½¿ç”¨åŒä¸€ä¸ªæ–¹æ³•æ—¢å½“getterç”¨åˆåšsetterç”¨ï¼Œè€Œä¸æ˜¯å®šä¹‰ä¸€å¯¹æ–¹æ³•ã€‚å¦‚æžœä¼ å…¥ä¸€ä¸ªæ–°å€¼ç»™è¯¥æ–¹æ³•ï¼Œåˆ™å®ƒè®¾ç½®æ­¤å€¼ï¼Œå¦‚æžœæ²¡æœ‰æŒ‡å®šçš„å€¼ï¼Œåˆ™å®ƒè¿”å›žå½“å‰å€¼ã€‚ ç”¨åšsetteræ—¶ï¼Œè¿™äº›æ–¹æ³•ä¼šç»™jQueryå¯¹è±¡ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ è®¾ç½®å€¼ï¼Œç„¶åŽè¿”å›žè¯¥jQueryå¯¹è±¡ä»¥æ–¹ä¾¿é“¾å¼è°ƒç”¨ã€‚ ç”¨åšgetteræ—¶ï¼Œè¿™äº›æ–¹æ³•åªä¼šæŸ¥è¯¢å…ƒç´ é›†ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œè¿”å›žå•ä¸ªå€¼ã€‚ï¼ˆå¦‚æžœè¦éåŽ†æ‰€æœ‰å…ƒç´ ï¼Œç”¨map().ï¼‰getterä¸ä¼šè¿”å›žè°ƒç”¨è‡ªèº«çš„jQueryå¯¹è±¡ï¼Œå› æ­¤ä»–åªèƒ½å‡ºçŽ°åœ¨é“¾å¼è°ƒç”¨çš„æœ«å°¾ã€‚ ç”¨ä½œsetteræ—¶ï¼Œè¿™äº›æ–¹æ³•ç»å¸¸æŽ¥å—å¯¹è±¡å‚æ•°ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¯¥å¯¹è±¡çš„æ¯ä¸€ä¸ªå±žæ€§éƒ½æŒ‡å®šä¸€ä¸ªéœ€è¦è®¾ç½®çš„å/å€¼å¯¹ã€‚ ç”¨ä½œsetteræ—¶ï¼Œè¿™äº›æ–¹æ³•ç»å¸¸æŽ¥å—å‡½æ•°å‚æ•°ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¼šè°ƒç”¨è¯¥å‡½æ•°æ¥è®¡ç®—éœ€è¦è®¾ç½®çš„å€¼ã€‚è°ƒç”¨è¯¥å‡½æ•°æ—¶çš„thiså¯¹è±¡æ˜¯å¯¹åº”çš„å…ƒç´ ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¯¥å…ƒç´ çš„ç´¢å¼•å€¼ï¼Œå½“å‰å€¼åˆ™ä½œä¸ºç¬¬äºŒå‚æ•°ä¼ å…¥ã€‚ï¼ˆkey,valueï¼‰ èŽ·å–å’Œè®¾ç½®HTMLå±žæ€§.attr()æ–¹æ³•ï¼šjQueryä¸­ç”¨äºŽHTMLå±žæ€§çš„getter/setterï¼Œä»–ç¬¦åˆä¸Šé¢æè¿°çš„æ¦‚è¦ç†è§£ä¸­çš„æ¯ä¸€æ¡ã€‚attr()å¤„ç†æµè§ˆå™¨çš„å…¼å®¹æ€§å’Œä¸€äº›ç‰¹æ®Šæƒ…å†µï¼Œè¿˜è®©HTMLå±žæ€§åå’ŒJavaScriptå±žæ€§åå¯ä»¥ç­‰åŒä½¿ç”¨ï¼ˆå½“äºŒè€…å­˜åœ¨å·®å¼‚æ—¶ï¼‰ã€‚ 12345678910111213141516171819$("form").attr("action"); // èŽ·å–ç¬¬ä¸€ä¸ªformå…ƒç´ çš„actionå±žæ€§$("#icon").attr("src","icon.gif"); // è®¾ç½®srcå±žæ€§$("#banner").attr(&#123;src: "banner.gif", alt: "Advertisement", width: 720,height: 64&#125;); // ä¸€æ¬¡æ€§è®¾ç½®4ä¸ªå±žæ€§$("a").attr("target", "_blank"); // ä½¿æ‰€æœ‰é“¾æŽ¥åœ¨æ–°çª—å£ä¸­æ‰“å¼€$("a").attr("target", function()&#123; if (this.host == location.host) return "_self" else return "_blank";&#125;) // éžç«™å†…é“¾æŽ¥ä½¿ç”¨æ–°çª—å£æ‰“å¼€$("a").attr(&#123;target: function()&#123;...&#125;&#125;) // å¯ä»¥åƒè¿™æ ·ä¼ å…¥å‡½æ•°$("a").removeAttr("target"); // è®©æ‰€æœ‰è¿žæŽ¥åœ¨æœ¬çª—å£ä¸­æ‰“å¼€ èŽ·å–å’Œè®¾ç½®CSSå±žæ€§.css() æ–¹æ³•å’Œ .attr()æ–¹æ³•å¾ˆç±»ä¼¼ï¼Œåªæ˜¯ css() æ–¹æ³•ä½œç”¨äºŽå…ƒç´ çš„CSSæ ·å¼ï¼Œè€Œä¸æ˜¯å…ƒç´ çš„HTMLå±žæ€§ã€‚æ³¨æ„è¿™é‡Œçš„æ ·å¼æ˜¯å•ä¸ªæ ·å¼è€Œéžå¤åˆæ ·å¼ï¼Œä¾‹å¦‚ï¼Œæ— æ³•èŽ·å–â€™fontâ€™ã€â€™marginâ€™ï¼Œè€Œåº”è¯¥èŽ·å–â€™font-weightâ€™,â€™font-familyâ€™,â€™margin-topâ€™ã€‚ è®¾ç½®æ ·å¼æ—¶ï¼Œcss() æ–¹æ³•ä¼šå°†æ ·å¼ç®€å•æ·»åŠ åˆ°è¯¥å…ƒç´ çš„styleå±žæ€§ä¸­ï¼Œcss()æ–¹æ³•å…è®¸ä½¿ç”¨è¿žå­—ç¬¦æˆ–è€…é©¼å³°å¼JavaScriptæ ·å¼åã€‚èŽ·å–æ ·å¼å€¼æ—¶ï¼Œcss()ä¼šæŠŠæ•°å€¼è½¬æ¢æˆå¸¦æœ‰å•ä½åŽç¼€çš„å­—ç¬¦ä¸²è¿”å›žã€‚è€Œåœ¨è®¾ç½®æ ·å¼å€¼çš„æ—¶å€™ï¼Œåˆ™ä¼šå°†æ•°å€¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œæ‰€ä»¥å¿…è¦æ—¶éœ€è¦æ·»åŠ â€œpxâ€åŽç¼€ã€‚ 1234567891011121314151617181920$("h1").css("font-weight");// èŽ·å–ç¬¬ä¸€ä¸ª&lt;h1&gt;çš„å­—ä½“é‡é‡$("h1").css("fontWeight");// é‡‡ç”¨é©¼å³°å¼çš„æ ·å¼å‘½åæ³•åˆ™âœ˜ $("h1").css("font");// âœ˜ é”™è¯¯çš„ç¤ºèŒƒï¼Œæ— æ³•èŽ·å–å¤åˆæ ·å¼$("h1").css(&#123; "font-variant", "smallcaps"&#125;)ï¼›// å°†æ ·å¼è®¾ç½®åœ¨æ‰€æœ‰çš„&lt;h1&gt;å…ƒç´ ä¸Š$("h1").css(&#123; "border", "2px solid #000"&#125;)// è®¾ç½®å¤åˆæ ·å¼æ˜¯okçš„$("h1").css(&#123;backgroundColor: "black", color: "white", fontVariant: "small-caps", padding: "10px 2px 2px 4px", border: "2px solid black"&#125;)// å¯ä»¥ä¸€æ¬¡æ€§è®¾ç½®å¤šä¸ªæ ·å¼$("h1").css("font-size", function(i, curval)&#123; return Math.round(1.25*parseInt(curval));&#125;)// è®©æ‰€æœ‰&lt;h1&gt; å­—ä½“å¤§å°å¢žåŠ  25% èŽ·å–å’Œè®¾ç½® CSS ç±»class å±žæ€§å€¼ï¼ˆåœ¨JavaScriptä¸­é€šè¿‡ className è®¿é—®ï¼‰ä¼šè¢«è§£æžæˆä¸ºä¸€ä¸ªç”±ç©ºæ ¼åˆ†éš”çš„CSSç±»ååˆ—è¡¨ã€‚å› æ­¤jQueryè®¾è®¡äº†ä¸€ç³»åˆ—æ–¹æ³•æ¥æ“ä½œåˆ—è¡¨ï¼Œä¾‹å¦‚æ·»åŠ ã€åˆ é™¤æŸä¸€é¡¹ï¼Œæˆ–è€…åˆ¤æ–­ä¸€é¡¹æ˜¯å¦åœ¨åˆ—è¡¨ä¸­ï¼Œè€Œä¸æ˜¯æ›¿æ¢æ•´ä¸ªåˆ—è¡¨ã€‚ .addClass():æ·»åŠ ç±».removeClass():åˆ é™¤ç±».toggleClass():å½“å…ƒç´ æ²¡æœ‰è¯¥ç±»æ—¶æ·»åŠ ï¼Œåä¹‹åˆ é™¤ã€‚è¯¥æ–¹æ³•æŽ¥å—ç¬¬äºŒä¸ªå‚æ•° switch å¸ƒå°”ç±»åž‹ï¼Œç”¨äºŽæ ·å¼æ˜¯å¦åº”è¯¥è¢«æ·»åŠ æˆ–è€…åˆ é™¤ï¼ˆaddOrRemoveï¼‰ã€‚ä»Ž1.4å¼€å§‹ï¼Œå…è®¸ä¸ä¼ å…¥å‚æ•°ï¼Œå½“æ²¡æœ‰å‚æ•°æ—¶ç¬¬ä¸€æ¬¡è°ƒç”¨ä¼šç§»é™¤æ‰€æœ‰ç±»ï¼Œç¬¬äºŒæ¬¡é‡æ–°æ·»åŠ ã€‚.hasClass():åˆ¤æ–­æŸç±»æ˜¯å¦å­˜åœ¨ï¼Œåªèƒ½æŽ¥å—å•ä¸ªç±»åä½œä¸ºå‚æ•°ï¼Œä¸æ”¯æŒå‡½æ•°å‚æ•° 1234567891011121314151617181920212223242526272829303132333435363738$("h1").addClass("hilite");// ç»™æ‰€ä»¥å…ƒç´ æ·»åŠ ç±»$("h1+p").addClass("hitile first");// ç»™&lt;h1&gt;åŽé¢çš„&lt;p&gt;å…ƒç´ æ·»åŠ å¤šä¸ªç±»$("section").addClass(function(n)&#123; return "section" + n;&#125;);// ä¼ é€’å‡½æ•°æ¥æ·»åŠ è‡ªå®šä¹‰ç±»$("div").removeClass();// åˆ é™¤æ‰€æœ‰&lt;div&gt;å…ƒç´ ä¸­æ‰€æœ‰çš„ç±»$("p").removeClass("hilite");// åˆ é™¤æ‰€æœ‰&lt;p&gt;å…ƒç´ çš„hiliteç±»$("p").removeClass("hilite first");// ä¸€æ¬¡åˆ é™¤å¤šä¸ªç±»$("section").removeClass(function(n)&#123; return "section" + n;&#125;);// ä¼ é€’å‡½æ•°æ¥ç§»é™¤ç±»$("tr:odd").toggleClass("oddrow");// å¦‚æžœç±»ä¸å­˜åœ¨ï¼Œå°±æ·»åŠ è¯¥ç±»ï¼Œå­˜åœ¨åˆ™åˆ é™¤$("h1").toggleClass("big bold");// ä¸€æ¬¡åˆ‡æ¢ä¸¤ä¸ªç±»$("h1").toggleClass(function(n)&#123; return "big bold h1-" + n;&#125;);// åˆ‡æ¢ç”¨å‡½æ•°è®¡ç®—å‡ºæ¥çš„ç±»$("h1").toggleClass("hitile", true);// ä½œç”¨ç±»ä¼¼äºŽ addClass$("h1").toggleClass("hitile", false);// ä½œç”¨ç±»ä¼¼äºŽ removeClass$("p").hasClass("first");// åˆ¤æ–­æ˜¯å¦æ‰€æœ‰&lt;p&gt;å…ƒç´ ä¸Šéƒ½æœ‰è¯¥ç±»ï¼Ÿä¸€æ¬¡åªèƒ½æŽ¥å—ä¸€ä¸ªç±»$("#lead").is(".first");// åŠŸèƒ½ä¸Žä¸Šç›¸åŒ$("#lead").is(".first.hitile")// .is() æ›´åŠ çµæ´» è®¾ç½®å’ŒèŽ·å–HTMLè¡¨å•å€¼.val() æ–¹æ³•ç”¨æ¥è®¾ç½®å’ŒèŽ·å–HTMLè¡¨å•å…ƒç´ çš„valueå±žæ€§ï¼Œè¿˜å¯ä»¥èŽ·å–å’Œè®¾ç½®å¤é€‰æ¡†ã€å•é€‰æŒ‰é’®ä»¥åŠ\å…ƒç´ çš„é€‰æ‹©çŠ¶æ€ã€‚ 12345678910111213141516$("#surname").val();// èŽ·å–surnameæ–‡æœ¬åŸŸçš„å€¼$("#usstate").val();// ä»Ž&lt;select&gt;èŽ·å–å•ä¸€å€¼$("select#extras").val();// ä»Ž&lt;select multiple&gt;ä¸­èŽ·å–ä¸€ç»„å€¼$("input:radio[name=ship]:checked").val();// èŽ·å–é€‰ä¸­çš„å•é€‰æŒ‰é’®çš„å€¼$("#email").val("Ivalid email address");// ç»™æ–‡æœ¬åŸŸè®¾ç½®å€¼$("input:checkbox").val(["opt1","opt2"]);// é€‰ä¸­å¸¦æœ‰è¿™äº›åå­—æˆ–å€¼çš„å¤é€‰æ¡†$("input:text").val(function()&#123; return this.defaultValue;&#125;)// é‡ç½®æ‰€æœ‰æ–‡æœ¬åŸŸçš„é»˜è®¤å€¼ è®¾ç½®å’ŒèŽ·å–å…ƒç´ å†…å®¹.text() å’Œ .html()æ–¹æ³•éƒ½æ˜¯ç”¨æ¥èŽ·å–å’Œè®¾ç½®å…ƒç´ çš„çº¯æ–‡æœ¬æˆ–HTMLå†…å®¹ã€‚.text() ä¸å¸¦å‚æ•°è°ƒç”¨æ—¶ä¼šè¿”å›žæ‰€æœ‰åŒ¹é…å…ƒç´ çš„å­å­™èŠ‚ç‚¹çš„æ–‡æœ¬å†…å®¹ã€‚ .html() ä¸å¸¦å‚æ•°è°ƒç”¨æ—¶ä¼šè¿”å›žç¬¬ä¸€ä¸ªåŒ¹é…å…ƒç´ çš„HTMLçš„å†…å®¹ã€‚x.html() å’Œ x[0].innerHTMLä¸€æ ·é«˜æ•ˆã€‚ å¦‚æžœä¼ å…¥å­—ç¬¦ä¸²ç»™.text()æˆ–.html()ï¼Œè¯¥å­—ç¬¦ä¸²ä¼šç”¨ä½œè¯¥å…ƒç´ çš„çº¯æ–‡æœ¬æˆ–æ ¼å¼åŒ–çš„HTMLå†…å®¹ï¼Œå®ƒä¼šæ›¿æ¢æŽ‰æ‰€æœ‰å­˜åœ¨çš„å†…å®¹ï¼Œå’Œå…¶ä»–çš„setteræ–¹æ³•ä¸€æ ·ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä¼ å…¥å‡½æ•°ï¼Œè¯¥å‡½æ•°ç”¨æ¥è®¡ç®—å‡ºè¡¨ç¤ºæ–°å†…å®¹çš„å­—ç¬¦ä¸²ï¼š 12345678var title = $("head title").text()// èŽ·å–æ–‡æ¡£æ ‡é¢˜var headline = $("h1").html()// èŽ·å–ç¬¬ä¸€ä¸ª&lt;h1&gt;å…ƒç´ çš„htmlå†…å®¹$("h1").text(function(n, current)&#123; return "Â§" + (n+1) + ": " + current&#125;)// ç»™æ¯ä¸ªæ ‡é¢˜æ·»åŠ ç« èŠ‚ç¬¦å· èŽ·å–å’Œè®¾ç½®å…ƒç´ ä½ç½®å®½é«˜.offset() å¯ä»¥èŽ·å–æˆ–è€…è®¾ç½®å…ƒç´ çš„ä½ç½®ã€‚è¯¥æ–¹æ³•ç›¸å¯¹æ–‡æ¡£æ¥è®¡ç®—ä½ç½®å€¼ï¼Œè¿”å›žä¸€ä¸ªå¯¹è±¡ï¼Œå¸¦æœ‰leftå’Œtopå±žæ€§ï¼Œç”¨è€è¡¨ç¤ºXå’ŒYåæ ‡ã€‚å¦‚æžœä¼ å…¥å¸¦æœ‰è¿™äº›å±žæ€§çš„å¯¹è±¡ç»™è¯¥æ–¹æ³•ï¼Œä»–ä¼šç»™å…ƒç´ è®¾ç½®æŒ‡å®šçš„ä½ç½®ã€‚å¿…è¦æ—¶ä¼šè®¾ç½®CSSçš„positionå±žæ€§æ¥ä½¿å¾—å…ƒç´ å¯å®šä½ï¼š 123456789var elt = $("#sprite"); // éœ€è¦ç§»åŠ¨çš„å…ƒç´ var position = elt.offset(); // èŽ·å–å½“å‰ä½ç½®position.top += 100; // æ”¹å˜Yåæ ‡elt.offset(position); // è®¾ç½®æ–°ä½ç½®// å°†æ‰€æœ‰&lt;h1&gt;å…ƒç´ å‘å³ç§»åŠ¨ï¼Œç§»åŠ¨çš„è·ç¦»å–å†³äºŽä»–ä»¬åœ¨æ–‡æ¡£ä¸­çš„ä½ç½®$("h1").offset(function(index,curpos)&#123; return &#123;left: curpos.left + 25*index, top: curpos.top&#125;;&#125;); .position() æ–¹æ³•å¾ˆåƒ.offset() æ–¹æ³•ï¼Œä½†å®ƒåªèƒ½ç”¨ä½œgetterï¼Œå®ƒè¿”å›žçš„å…ƒç´ ä½ç½®æ˜¯ç›¸å¯¹äºŽå…¶åç§»çˆ¶å…ƒç´ çš„ï¼Œè€Œä¸æ˜¯ç›¸å¯¹äºŽæ–‡æ¡£ã€‚ jQueryå¯¹è±¡çš„.offsetParent()æ–¹æ³•:å®ƒè¿”å›žç¬¬ä¸€ä¸ªåŒ¹é…å…ƒç´ ç”¨äºŽå®šä½çš„çˆ¶èŠ‚ç‚¹ã€‚è¿”å›žçˆ¶å…ƒç´ ä¸­ç¬¬ä¸€ä¸ªå…¶positionè®¾ä¸ºrelativeæˆ–è€…absoluteçš„å…ƒç´ ã€‚æ²¡æœ‰çš„è¯å°±æ˜¯ï¼Œæ­¤æ–¹æ³•ä»…å¯¹å¯è§å…ƒç´ æœ‰æ•ˆã€‚ .offset()è¿”å›žå…ƒç´ çš„ç»å¯¹ä½ç½®ï¼Œåæ ‡ç›¸å¯¹äºŽæ–‡æ¡£ï¼Œè€Œ.position()åˆ™è¿”å›žç›¸å¯¹äºŽå…ƒç´ çš„.offsetParent()çš„åç§»é‡ã€‚ ç”¨äºŽèŽ·å–å…ƒç´ é«˜åº¦å’Œå®½åº¦çš„getteréƒ½æœ‰ä¸‰ä¸ªã€‚ .width() &amp; .height()è¿”å›žå®½åº¦å’Œé«˜åº¦ï¼Œä¸å«å†…è¾¹è·ã€è¾¹æ¡†å’Œå¤–è¾¹è·ã€‚.innerWidth() &amp; .innerHeight()åˆ™æ˜¯åŒ…å«å†…è¾¹è·å®½é«˜ã€‚.outerWidth() &amp; .outerHeight()åˆ™æ˜¯åŒ…å«è¾¹æ¡†å†…è¾¹è·çš„å®½é«˜ã€‚.outerWidth(true) &amp; .outerHeight(true)è¿˜åŒ…å«å¤–è¾¹è·ã€‚ 1234567891011var body = $("body");var contentWidth = body.width();var paddingWidth = body.innerWidth();var borderWidth = body.outerWidth();var marginWidth = body.outerWidth(true);var paddings = paddingWidth - contentWidth;// å·¦å³å†…è¾¹è·ä¹‹å’Œvar borders = borderWdith - paddingWdith;// å·¦ã€å³è¾¹æ¡†ä¹‹å’Œvar margins = marginWdith - borderWidth;// å·¦å³å¤–è¾¹è·ä¹‹å’Œ éœ€è¦æ³¨æ„çš„æ˜¯ .width() &amp; .height()æ–¹æ³•çš„ä¸å¯¹ç§°æ€§ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•å¯ä»¥ä½œä¸º getterå’Œsetter ä½¿ç”¨ï¼Œä½†æ˜¯getteræ—¶è¿”å›žçš„æ˜¯ä¸å«å†…è¾¹è·å’Œè¾¹æ¡†çš„å†…å®¹å®½é«˜ï¼Œä½†æ˜¯ä½œä¸ºsetteræ—¶ä»–è®¾ç½®çš„æ˜¯ç›’æ¨¡åž‹ä¸‹cssçš„widthå’Œheightå±žæ€§ï¼Œå¯èƒ½åŒ…å«å†…è¾¹è·å’Œè¾¹æ¡†ã€‚ box-sizing:content-box/border-box```123456789101112131415.scrollTop() &amp; .scrollLeft():å¯ä»¥èŽ·å–æˆ–è®¾ç½®æ»šåŠ¨æ¡ä½ç½®ã€‚è¿™äº›æ–¹æ³•å¯ä»¥ç”¨äºŽWindowå¯¹è±¡æˆ–è€…Documentå…ƒç´ ä¸Šï¼Œå½“ç”¨åœ¨Documentå¯¹è±¡ä¸Šæ—¶ï¼Œä¼šèŽ·å–æˆ–è®¾ç½®å­˜æ”¾è¯¥Documentçš„windowå¯¹è±¡çš„æ»šåŠ¨æ¡ä½ç½®ï¼Œä¸Žå…¶ä»–setterä¸åŒçš„æ—¶ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•ä¸èƒ½æŽ¥å—å‡½æ•°ä½œä¸ºå‚æ•°ã€‚```javascript // æ ¹æ®é¡µé¢æ•° n æ¥æ»šåŠ¨çª—å£ï¼Œå¯ä»¥æ˜¯åˆ†æ•°æˆ–è´Ÿæ•° function page(n) &#123; var w = $(window); // å°†windowå°è£…ä¸ºjQueryå¯¹è±¡ var pagesize = w.height(); // å¾—åˆ°é¡µé¢çš„é«˜åº¦ var current = w.scrollTop(); // å¾—åˆ°å½“å‰çš„æ»šåŠ¨æ¡ä½ç½® w.scrollTop(current + n*pagesize); // è®¾ç½®æ–°çš„æ»šåŠ¨æ¡ä½ç½® &#125;; èŽ·å–å’Œè®¾ç½®å…ƒç´ æ•°æ®jQueryå®šä¹‰äº†ä¸€ä¸ªåä¸º.data()çš„getter/setteræ–¹æ³•ï¼Œå¯ä»¥ç”¨æ¥è®¾ç½®æˆ–è€…èŽ·å–å’Œæ–‡æ¡£å…ƒç´ ã€Documentã€windowå¯¹è±¡ç›¸å…³è”çš„æ•°æ®ã€‚ï¼ˆå°†æ•°æ®ä¸Žä»»æ„å…ƒç´ å…³è”æ˜¯å¾ˆé‡è¦å’Œå¼ºå¤§çš„ä¸€é¡¹èƒ½åŠ›ï¼šè¿™ä¹Ÿæ˜¯jQueryçš„äº‹ä»¶å¤„ç†ç¨‹åºæ³¨å†Œå’Œæ•ˆæžœé˜Ÿåˆ—æœºåˆ¶çš„åŸºç¡€ï¼Œæœ‰æ—¶æˆ‘ä»¬è¿˜ä¼šåœ¨è‡ªå·±çš„ä»£ç ä¸­ä½¿ç”¨.data()æ–¹æ³•ã€‚ï¼‰ .removeData()æ–¹æ³•ç”¨æ¥ä»Žå…ƒç´ ä¸­åˆ é™¤æ•°æ®ã€‚ 12345678910111213$("div").data("x", 1);// è®¾ç½®ä¸€äº›æ•°æ®$("#mydiv").data("x");// èŽ·å–æ•°æ®â€œxâ€çš„å€¼$("div.nodata").removeData("x");// åˆ é™¤ä¸€äº›æ•°æ®$(el).data(...) // dataçš„æ–¹æ³•å½¢å¼$.data(el, ...) // dataçš„å‡½æ•°å½¢å¼// å‡ºäºŽä¸€äº›æµè§ˆå™¨çš„é™åˆ¶ï¼Œç±»ä¼¼&lt;applet&gt;ã€// &lt;object&gt;ã€&lt;embed&gt;å…ƒç´ æ— æ³•å…³è”æ•°æ®ã€‚ æ€»ç»“ç†è®ºç»“åˆå®žè·µï¼Œé€šè¿‡ç§‘å­¦çš„æ–¹æ³•ï¼Œåˆç†çš„æ—¶é—´æŽŒæŽ§æ¥åšåˆ°é«˜æ•ˆçš„å­¦ä¹ ã€‚ ç•ªèŒ„å·¥ä½œæ³•ã€å‘¨æœŸæ€§å¤ä¹  etc]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[jQuery(1)--åŸºç¡€æ¦‚å¿µ]]></title>
      <url>%2F2017%2F06%2F04%2FjQuery(1)--%E5%9F%BA%E7%A1%80%2F</url>
      <content type="text"><![CDATA[JavaScript æ ¸å¿ƒAPIè®¾è®¡è™½ç„¶ç®€å•ï¼Œä½†æ˜¯æµè§ˆå™¨ä¹‹é—´å´ä¸¥é‡ä¸å…¼å®¹ï¼Œä»¥è‡´äºŽå®¢æˆ·ç«¯APIè¿‡äºŽå¤æ‚ã€‚jQuery çš„è®¾è®¡æ€æƒ³ å°±æ˜¯ â€”â€”â€”â€” write less, do more. ç®€åŒ–é€šç”¨æ“ä½œï¼Œéšè—æµè§ˆå™¨ä¹‹é—´çš„å·®å¼‚ï¼Œä½¿å¾—webå¼€å‘å˜å¾—æ›´åŠ ç®€å•ã€‚ jQuery å¥½åœ¨å“ªé‡Œ ä¸°å¯Œå¼ºå¤§çš„è¯­æ³•ï¼ˆCSSé€‰æ‹©å™¨ï¼‰ï¼Œç”¨æ¥æŸ¥è¯¢æ–‡æ¡£å…ƒç´  é«˜æ•ˆçš„æŸ¥è¯¢æ–¹æ³•ï¼Œç”¨æ¥æ‰¾åˆ°ä¸ŽCSSé€‰æ‹©å™¨åŒ¹é…çš„æ–‡æ¡£å…ƒç´ é›† ä¸€å¥—æœ‰ç”¨çš„æ–¹æ³•ï¼Œç”¨æ¥æ“ä½œé€‰ä¸­çš„å…ƒç´  å¼ºå¤§çš„å‡½æ•°å¼ç¼–ç¨‹æŠ€å·§ï¼Œç”¨æ¥æ‰¹é‡æ“ä½œå…ƒç´ é›†ï¼Œè€Œä¸æ˜¯æ¯æ¬¡æ“ä½œå•ä¸ª ç®€å•çš„è¯­è¨€ç”¨æ³•ï¼Œé“¾å¼è°ƒç”¨ï¼Œè¡¨ç¤ºä¸€ç³»åˆ—æ“ä½œ jQuery èƒ½åšä»€ä¹ˆ æŸ¥è¯¢å¹¶æ“ä½œç»“æžœ è®¾ç½®HTMLå±žæ€§ã€CSSæ ·å¼å’Œç±»ã€HTMLè¡¨å•çš„å€¼å’Œå…ƒç´ å†…å®¹ã€ä½ç½®å®½é«˜ã€ä»¥åŠæ•°æ® æ”¹å˜æ–‡æ¡£ç»“æž„ï¼šå¯¹å…ƒç´ è¿›è¡Œæ’å…¥ã€æ›¿æ¢ã€åŒ…è£…å’Œåˆ é™¤æ“ä½œ è·¨æµè§ˆå™¨æ—¶é—´æ¨¡åž‹ å®žçŽ°åŠ¨ç”»è§†è§‰æ•ˆæžœ Ajaxå·¥å…·ï¼Œç”¨è„šæœ¬å‘èµ·httpè¯·æ±‚ å·¥å…·å‡½æ•° é€‰æ‹©å™¨çš„è¯­æ³•ä»¥åŠé«˜çº§é€‰æ‹©æ–¹æ³• ç¼–å†™æ’ä»¶æ‰©å±•jQuery UIç±»åº“ jQuery åŸºç¡€jQuery(): jQuery():è¿™æ˜¯jQueryç±»åº“å®šä¹‰çš„ä¸€ä¸ªå…¨å±€å‡½æ•°ï¼Œ$æ˜¯åˆ«åã€‚æ³¨æ„è¿™æ˜¯ä¸€ä¸ªå·¥åŽ‚å‡½æ•°ï¼Œè€Œä¸æ˜¯æž„é€ å‡½æ•°ï¼Œå®ƒè¿”å›žä¸€ä¸ªæ–°åˆ›å»ºçš„å¯¹è±¡ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰å’Œ new ä¸€èµ·ä½¿ç”¨ã€‚ å››ç§è°ƒç”¨æ–¹å¼ ä¼ å…¥CSSé€‰æ‹©å™¨ï¼Œè¿”å›žå½“å‰æ–‡æ¡£ä¸­åŒ¹é…çš„å…ƒç´ é›† 123- $() ç®€å•çš„å°†ä¼ å…¥çš„Elementã€Documentæˆ–Windowå¯¹è±¡å°è£…æˆjQueryå¯¹è±¡å¹¶è¿”å›žï¼Œä½¿å¾—å¯ä»¥ä½¿ç”¨jQueryæ–¹æ³•æ¥æ“ä½œè€ŒéžåŽŸç”ŸDOMæ–¹æ³• ```$(document) $(this) ä¼ å…¥HTMLæ–‡æœ¬ï¼Œæ ¹æ®ä¼ å…¥çš„æ–‡æœ¬åˆ›å»ºHTMLå…ƒç´ å¹¶å°è£…ä¸ºjQueryå¯¹è±¡è¿”å›žï¼Œä½†æ˜¯å¹¶ä¸æ’å…¥åˆ°æ–‡æ¡£ä¸­ï¼Œä½†å¯ä»¥ä½¿ç”¨jQueryæ–¹æ³•å¾ˆæ–¹ä¾¿çš„æ’å…¥åˆ°ä½ æƒ³è¦çš„ä½ç½®ã€‚ img = $("", &#123; src: url,css: &#123;borderWidth: 5&#125;,click: handleClick&#125;);``` ç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»åŒ…å«ä¸€ä¸ªå¸¦æœ‰å°–è§’æ‹¬å·çš„HTMLæ ‡ç­¾ï¼ŒæŽ¥å—å¯é€‰çš„ç¬¬äºŒå‚æ•°ï¼Œå¯ä»¥ä¼ é€’Documentå¯¹è±¡æ¥æŒ‡å®šä¸Žæ‰€åˆ›å»ºå…ƒç´ ç›¸å…³è”çš„æ–‡æ¡£ã€‚12- ä¼ å…¥ä¸€ä¸ªå‡½æ•°ï¼Œå½“æ–‡æ¡£åŠ è½½å®Œæ¯•æ—¶ä¸”DOMå¯ä»¥æ“ä½œæ—¶è°ƒç”¨è¯¥å‡½æ•°ã€‚ ``` jQuery(function()&#123; //do something &#125;); ``` è€å¼çš„å†™æ³•ä¸º ``` $(document).ready(f) jQuery æœ¯è¯­jQuery å‡½æ•°jQueryå‡½æ•°æ˜¯ jQuery æˆ– $() çš„å€¼ã€‚è¯¥å‡½æ•°ç”¨æ¥åˆ›å»º jQuery å¯¹è±¡ï¼Œç”¨æ¥æ³¨å†Œ DOM å°±ç»ªæ—¶éœ€è¦è°ƒç”¨çš„å¤„ç†ç¨‹åºï¼Œè¿˜ç”¨ä½œ jQuery çš„å‘½åç©ºé—´ã€‚ jQuery å¯¹è±¡jQueryå¯¹è±¡æ˜¯ç”±jQueryå‡½æ•°è¿”å›žçš„å¯¹è±¡ã€‚ä¸€ä¸ªjQueryå¯¹è±¡è¡¨ç¤ºä¸€ç»„æ–‡æ¡£å…ƒç´ ï¼Œä¹Ÿå«åšâ€œjQueryç»“æžœâ€ã€â€œjQueryé›†â€ æˆ– â€œåŒ…è£…é›†â€ã€‚ â€œé€‰ä¸­å…ƒç´ â€å½“ä¼ é€’CSSé€‰æ‹©å™¨ç»™jQueryå‡½æ•°æ—¶è¿”å›žçš„æ–‡æ¡£å…ƒç´ é›†ã€‚è¿™é‡Œçš„â€œé€‰ä¸­â€æ˜¯æŒ‡CSSé€‰æ‹©å™¨ã€‚ jQuery å‡½æ•°jQueryå‡½æ•°æ˜¯æŒ‡å®šä¹‰åœ¨jQueryå‘½åç©ºé—´ä¸­çš„å‡½æ•°ï¼Œä¾‹å¦‚ jQuery.noConflict().ä¹Ÿå¯ä»¥ç§°ä¸ºé™æ€æ–¹æ³•ã€‚ jQuery æ–¹æ³•jQueryæ–¹æ³•æ˜¯æŒ‡ç”±jQueryå‡½æ•°æ”¾å›žçš„jQueryå¯¹è±¡çš„æ–¹æ³•ã€‚æ˜¯jQueryç±»åº“æœ€é‡è¦å’Œå¼ºå¤§çš„éƒ¨åˆ†ã€‚ åŒºåˆ† jQueryå‡½æ•° å’Œ jQueryæ–¹æ³• 12345678// jQueryçš„each()å‡½æ•°ç”¨æ¥// å¯¹æ•°ç»„aä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½è°ƒç”¨ä¸€æ¬¡å‡½æ•°f$.each(a,f);// è°ƒç”¨jQuery()å‡½æ•°èŽ·å–è¡¨ç¤ºæ–‡æ¡£ä¸­æ‰€ä»¥&lt;a&gt;å…ƒç´ çš„jQueryå¯¹è±¡// ç„¶åŽè°ƒç”¨è¯¥jQueryå¯¹è±¡çš„each()æ–¹æ³•// å¯¹é€‰ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ è°ƒç”¨ä¸€æ¬¡å‡½æ•°f$('a').each(f); å”¯ä¸€è¦åŒºåˆ«çš„æ˜¯jQueryå‡½æ•°å’ŒjQueryå¯¹è±¡æ–¹æ³•ï¼Œæžæ¸…æ¥šè¿™é‡Œé¢çš„å·®å¼‚ã€‚ é€šå¸¸æˆ‘ä»¬ä½¿ç”¨ $.each() æ¥è¡¨ç¤º jQuery å‡½æ•°ï¼Œä½¿ç”¨ .each() æ¥è¡¨ç¤º jQuery æ–¹æ³•ã€‚ æ€»ç»“éœ€è¦æ³¨æ„çš„æ˜¯jQueryæ–¹æ³•å’ŒjQueryå‡½æ•°çš„å·®åˆ«ï¼Œä»¥åŠjQueryå¯¹è±¡çš„æ¦‚å¿µã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[How to Learning?]]></title>
      <url>%2F2017%2F05%2F04%2FLearning-How-to-Learn%2F</url>
      <content type="text"><![CDATA[æ ‡é¢˜æ˜¯â€”â€”å­¦ä¹ å¦‚ä½•å­¦ä¹ ã€‚ æ²¡é”™ï¼Œåœ¨æœ€è¿‘çœ‹ä¹¦æ—¶åå¤å‡ºçŽ°åœ¨è„‘æµ·ä¸­çš„é—®é¢˜ï¼å¹¸è¿çš„æ˜¯ï¼Œæˆ‘åœ¨ coursera ä¸Šé¢æ‰¾åˆ°äº†æˆ‘æƒ³è¦çš„ç­”æ¡ˆï¼ï¼ˆå¦‚ä½•å­¦ä¹ ï¼‰ å­¦ä¹ ä¹‹é“ï¼Œé‡è¦ä½†æ˜¯å¸¸ä¸ºäººæ‰€å¿½ç•¥ï¼Œé‚£äº›æˆåŠŸçš„äººé€šå¸¸æ‹¥æœ‰å±žäºŽè‡ªå·±çš„ä¸¥è°¨çš„å­¦ä¹ æ–¹å¼ï¼Œä»–ä»¬æˆåŠŸçš„å¿…ç„¶ä¸æ˜¯é‚£äº›ç ”ç©¶æˆæžœï¼Œè€Œæ˜¯ä»–ä»¬å­¦ä¹ çš„æ–¹æ³•ã€‚ é›†ä¸­å’Œå‘æ•£æ€ç»´å¤§è„‘æ€è€ƒçš„æ–¹å¼å¾ˆå¤šï¼Œä½†ä¸»è¦æœ‰ä¸¤ç§æ¨¡å¼éœ€è¦æ³¨æ„ï¼Œé›†ä¸­æ¨¡å¼ï¼ˆfocus modeï¼‰å’Œå‘æ•£æ¨¡å¼ï¼ˆdiffuse modeï¼‰ã€‚å‰è€…éœ€è¦é›†ä¸­å¿ƒç¥žã€å…³æ³¨äº‹ç‰©æœ¬èº«ï¼ŒåŽè€…éœ€è¦ä»¥å…¨å±€ã€å…¶ä»–çš„è§’åº¦æ¥æ€è€ƒé—®é¢˜ã€‚ äº‹å®žä¸Šï¼Œåœ¨æˆ‘ä»¬å­¦ä¹ çš„æ—¶å€™ï¼Œéœ€è¦åœ¨ä¸åŒçš„æ¨¡å¼ä¹‹å‰äº’ç›¸åˆ‡æ¢ã€‚ä½†æ˜¯ï¼Œå°±åƒè¿›ç¨‹ä¹‹é—´çš„ä¸Šä¸‹æ–‡åˆ‡æ¢ä¸€æ ·ï¼Œéƒ½éœ€è¦ä»˜å‡ºæ˜‚è´µçš„æˆæœ¬ã€‚ä¸åŒæ¨¡å¼åˆ‡æ¢æ˜¯éžå¸¸å›°éš¾çš„ï¼Œæ‰€ä»¥å°±éœ€è¦é‡‡ç”¨ä¸€äº›æŠ€å·§æ¥è¾¾æˆã€‚ é€šå¸¸é™åã€æ‰“ç›¹ã€å°æ†©éƒ½èƒ½è®©æ€ç»´å‘æ•£ï¼Œè¾¾èŠ¬å¥‡åœ¨æ­¤æ—¶ä¼šåœ¨æ‰‹ä¸Šæ‹¿ç€å‡ ä¸ªè½´æ‰¿æ»šç ï¼Œå½“è‡ªå·±ç¡ç€æ—¶ï¼Œè®©æ»šç æŽ‰è½å‘å‡ºçš„å£°éŸ³æ¥å«é†’é†’æ¥ï¼ç”»å®¶è¾¾åˆ©åˆ™æ˜¯æ‰‹æ‹¿ä¸€ä¸²é’¥åŒ™ã€‚ æ‹–å»¶ç—‡ã€è®°å¿†å’Œç¡çœ æ‹–å»¶ç—‡ï¼š ä¸€æ—¦æŸäº›äº‹æƒ…æ›¾ç»ç»™ä½ å¸¦æ¥ç–¼ç—›çš„æ„Ÿè§‰ã€æˆ–è€…æ˜¯åŽŒæ¶ã€ä¸è€çƒ¦ã€æŠµè§¦çš„æƒ…ç»ªï¼Œé‚£ä¹ˆä½ è‡ªç„¶è€Œç„¶çš„å°±ä¼šé»˜è®¤å°†å…¶ä¼˜å…ˆçº§é™ä½Žï¼Œç”šè‡³ä¸åŽ»åšä»–ï¼Œè½¬è€ŒåŽ»åšé‚£äº›èƒ½è®©ä½ æ„Ÿåˆ°æ„‰å¿«ï¼Œå¿ƒæƒ…æ”¾æ¾çš„äº‹ã€‚ è§£å†³çš„åŠžæ³•å°±â€”â€”ç•ªèŒ„å·¥ä½œæ³•ðŸ…ï¼ˆPomodoroï¼‰ è®¾å®šä»»åŠ¡é¡ºåºï¼Œè§„å®šå®Œæˆæ—¶é—´ã€‚åœ¨å®Œæˆä¹‹åŽç»™è‡ªå·±ä¸€äº›å¥–åŠ±ï¼Œåˆ·å‡ åˆ†é’Ÿå¾®åšï¼Œçœ‹ä¸€ä¼šå„¿ç½‘ç«™ï¼Œæ‰“ä¸€ä¼šå„¿æ¸¸æˆã€‚ä½ éœ€è¦çš„ä»…ä»…æ˜¯ä¸€ä¸ªç•ªèŒ„è®¡æ—¶å™¨å’Œä¸€å¼ ä»»åŠ¡æ—¶é—´è§„åˆ’ã€‚é€šå¸¸ 25-45 minæ˜¯é«˜æ•ˆçŽ‡å®Œæˆä¸€ä¸ªå°ä»»åŠ¡ï¼ŒåŒæ—¶èƒ½ä¿æŒæ³¨æ„åŠ›é›†ä¸­çš„åŒºé—´ã€‚ è®°å¿†æ¦‚è®ºï¼šå·¥ä½œè®°å¿†&amp;é•¿æœŸè®°å¿† å½“æˆ‘ä»¬åŽ»è®°å¿†å•è¯ï¼Œå›žå¿†æ•°å­¦æ–¹ç¨‹æ—¶æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯å¤§è„‘ä¸­çš„é•¿æœŸè®°å¿†ã€‚ ç„¶è€Œï¼Œä½†æˆ‘ä»¬æƒ³è¦å°†è¿™äº›é•¿æœŸè®°å¿†ç”¨äºŽæ—¥å¸¸ç”Ÿæ´»ï¼Œç»“åˆä¸€äº›æ€ç»´æ–¹æ³•è§£å†³é—®é¢˜æ—¶ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„åˆ™æ˜¯å·¥ä½œè®°å¿†ã€‚ ä¸¤ç§è®°å¿†äº’ç›¸å…³è”ï¼Œå³æ—¶ï¼Œæœ‰æ•ˆçŽ‡çš„å¤„ç†é—®é¢˜ä½¿ç”¨çš„å°±æ˜¯å·¥ä½œè®°å¿†ï¼Œä½†æ˜¯å…¶å®¹é‡éžå¸¸æœ‰é™ï¼ˆ4 slotsï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä½¿ç”¨é—´éš”æ€§é‡å¤æ¥å¿½ç•¥å·¥ä½œè®°å¿†ä¸­çš„å†—ä½™ä¿¡æ¯ï¼Œç”šè‡³å°†å·¥ä½œè®°å¿†å­˜å‚¨ä¸ºé•¿æœŸè®°å¿†ã€‚ ç¡çœ åœ¨å­¦ä¹ ä¸­çš„é‡è¦æ€§ ç¡è§‰å¹¶ä¸æ˜¯ä¸€ç§æµªè´¹ï¼Œå½“è¿›å…¥ç¡çœ æ—¶ï¼Œå¤§è„‘ç»†èƒžä¼šæ”¶ç¼©ï¼Œç»†èƒžé—´éš™å¢žåŠ ä¸€éæœ‰æ¯’ç‰©è´¨æŽ’å‡ºã€‚ç¡è§‰å®žé™…ä¸Šæ˜¯å¤§è„‘ä¿æŒæ¸…æ´å’Œå¥åº·çš„ä¸€ç§æ–¹å¼ã€‚ åŒæ—¶ç¡è§‰è¿˜æ˜¯å¸®åŠ©ä½ è®°å¿†å’Œå­¦ä¹ è¿‡ç¨‹ä¸­å¾ˆé‡è¦çš„ä¸€éƒ¨åˆ†ã€‚æ‰€ä»¥åœ¨ç¡è§‰ä¹‹å‰å¯¹æ‰€å­¦è¿›è¡Œå¤ä¹ ï¼Œæ¢¦é‡Œå°±å¾ˆæœ‰å¯èƒ½è§åˆ°å®ƒã€‚ æ€»ç»“ç†è®ºç»“åˆå®žè·µï¼Œé€šè¿‡ç§‘å­¦çš„æ–¹æ³•ï¼Œåˆç†çš„æ—¶é—´æŽŒæŽ§æ¥åšåˆ°é«˜æ•ˆçš„å­¦ä¹ ã€‚ ç•ªèŒ„å·¥ä½œæ³•ã€å‘¨æœŸæ€§å¤ä¹  etc]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[æ€§èƒ½æµ‹è¯•å’Œä¼˜åŒ–]]></title>
      <url>%2F2017%2F04%2F27%2Ftest-optimization%2F</url>
      <content type="text"><![CDATA[ã€ŠYDKJS ASYNC&amp;PERFORMANCEã€‹ä¹‹ä¸­æåˆ°äº†ä»£ç æ€§èƒ½å’Œä»£ç ä¼˜åŒ–ï¼Œåœ¨æ­¤å…ˆä¸è°ˆè®ºå®è§‚ç¨‹åºæž¶æž„çº§çš„æ€§èƒ½è¡¨çŽ°ï¼Œå•ä»ŽJSç¨‹åºè¯­è¨€æœ¬èº«æ¥æ€è€ƒï¼ ç›®æ ‡æ˜¯å¼„æ¸…æ¥šå“ªäº›ç§ç±»çš„ JavaScript æ€§èƒ½æ›´é‡è¦ï¼Œå“ªäº›ç§ç±»æ— å…³ç´§è¦ï¼Œä»¥åŠå¦‚ä½•åŒºåˆ†ã€‚ æ€§èƒ½æµ‹è¯•å¦‚ä½•æµ‹è¯•ä¸€ç«¯ä»£ç çš„è¿è¡Œé€Ÿåº¦ï¼Ÿé¦–å…ˆæƒ³åˆ°çš„è‚¯å®šæ˜¯è®¡ç®—è¿è¡Œæ—¶é—´ï¼š 1234567var strat = Date.now(); //or (new Date()).getTime()// some operatevar end = Date.now();console.log("duration:",(end - start)); è¿™å¯èƒ½æ˜¯æœ€æƒ³æƒ³åˆ°çš„åŠžæ³•ï¼Œè®¡ç®—è¿è¡Œæ—¶é—´æ¥åˆ¤æ–­ï¼Œæ€è·¯æ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯è¿è¡Œè¿‡ç¨‹å—åˆ°æµ‹è¯•çŽ¯å¢ƒã€å¹³å°çš„å®šæ—¶å™¨ç²¾åº¦ã€å¼•æ“Žæˆ–è€…ç³»ç»Ÿå ç”¨ã€å¼•æ“Žå¸¦æ¥çš„ä¼˜åŒ–ç­‰ç­‰è¯¸å¤šé™åˆ¶ æ‰€ä»¥ä¸Šé¢çš„æµ‹è¯•åé¦ˆå‡ ä¹Žæ²¡æœ‰æä¾›ä»»ä½•æœ‰ç”¨çš„ä¿¡æ¯ï¼Œå¯èƒ½æ˜¯ä¸€ä¸ªç‰¹æ®Šæƒ…å†µä¹Ÿä¸ä¸ºäººçŸ¥ï¼Œè¿™æ ·çš„ä½Žç½®ä¿¡åº¦çš„æµ‹è¯•æ— æ³•æ”¯æ’‘ä»»ä½•å†³ç­–ã€‚æ·±å…¥æ€è€ƒï¼Œè§£å†³é—®é¢˜ï¼Œæå‡ºè§£å†³åŠžæ³• é‡å¤ å†™ä¸€ä¸ªå¾ªçŽ¯ï¼Œæ‰§è¡Œ100æ¬¡ï¼Œè®¡ç®—å¾—åˆ°æ¯æ¬¡æ‰§è¡Œçš„å¹³å‡å€¼ï¼Ÿï¼ˆé‚£ä¹ˆä¸€ä¸ªå¼‚å¸¸å€¼å¯¹å¹³å‡å€¤çš„å½±å“æ˜¯å¦å¯ä»¥å¿½ç•¥ä¸è®¡å‘¢ï¼Ÿï¼‰ ä¸ä»¥å›ºå®šæ¬¡æ•°è¿è¡Œï¼Œå¾ªçŽ¯è¿è¡Œæµ‹è¯•ï¼Œç›´åˆ°æŸä¸ªå›ºå®šæ—¶é—´ï¼Ÿï¼ˆè¿è¡Œå¤šä¹…ï¼Œå•æ¬¡æ‰§è¡Œçš„è‹¥å¹²å€ï¼Ÿå®šæ—¶å™¨çš„ç²¾åº¦æ˜¯å¦äº§ç”Ÿå½±å“ï¼‰ å¯¹æ­¤ï¼Œå¯ä»¥å°†è¡¨çŽ°å½’çº³ä¸ºä¸æ­£å¼ï¼ï¼ˆä¸æ˜¯ä¸æ­£å¼ï¼Œæ˜¯å®Œå…¨ä¸çŸ¥é“:sadï¼‰ Benchmark.js å¯é çš„æµ‹è¯•åº”è¯¥æ˜¯åŸºäºŽç»Ÿè®¡å­¦ä¸Šçš„åˆç†å®žè·µã€‚ Benchmark.js å°±æ˜¯ä¸€äº›èªæ˜Žäººç¼–å†™çš„åŸºäºŽç»Ÿè®¡å­¦ä¸Šæœ‰æ•ˆçš„æ€§èƒ½æµ‹è¯•å·¥å…·ã€‚å¦‚ä½•ä½ è¦æµ‹è¯•ä½ çš„ä»£ç ï¼Œç”¨å®ƒå°±è¡Œäº†ã€‚ï¼ˆmocha éžå¸¸æµè¡Œï¼‰ ç”¨ Benchmark.js æ¥è¿è¡Œä¸€ä¸ªå¿«é€Ÿçš„æ€§èƒ½æµ‹è¯•ï¼š 12345678910111213141516function() &#123; // something test here&#125;var bench = new Benchmark( "foo test",// æµ‹è¯•åç§° foo,// æµ‹è¯•çš„å‡½æ•°å†…å®¹ &#123; // å¯é€‰çš„é¢å¤–å†…å®¹ &#125;)bench.hz; // æ¯ç§’è¿ç®—æ•°bench.stats.moe; // å‡ºé”™è¾¹ç•Œbench.stats.variance; // æ ·æœ¬æ–¹å·®// ... è¿™å°±æ˜¯ benchmark.js æä¾›çš„ APIã€‚ å¯¹ Benchmark.js è¿˜æ²¡æœ‰å…´è¶£å—ï¼Ÿå¿«åŽ»çœ‹çœ‹æ–‡æ¡£ çŽ¯å¢ƒä¸ºçŽ‹æœ€æ–°çš„ç§‘å­¦ç ”ç©¶è¡¨æ˜Žå¯èƒ½äººå¤§è„‘å¯ä»¥å¤„ç†çš„æœ€å¿«é€Ÿåº¦æ˜¯ 13msï¼Œé‚£ä¹ˆ 20ns çš„å·®åˆ«å°±æ˜¯äººç±»å¤§è„‘æ„ŸçŸ¥é—´éš™çš„ 65 ä¸‡åˆ†ä¹‹ä¸€ã€‚å•æ¬¡è¿è¡Œä¸‹ä»–ä»¬çš„å·®åˆ«å°±æ˜¯æ²¡æœ‰å·®åˆ«ã€‚åˆ«å¿˜äº†æ€è€ƒæ˜¾ç¤ºä¸­è¿žç»­è¿è¡Œ 65 ä¸‡æ¬¡çš„å¯èƒ½æ€§ï¼ˆðŸ˜‘ï¼‰ å¼•æ“Žä¼˜åŒ–å½“ä½ ä¸çŸ¥é“å¼•æ“Žåšäº†ä»€ä¹ˆï¼Œæ‰€æœ‰çš„çŒœæƒ³å’Œå‡è®¾å¯¹äºŽè¿™æ ·çš„å†³ç­–ä¸ä¼šæœ‰ä»»ä½•å®žé™…å½±å“ã€‚ä½†è¿™å¹¶ä¸æ˜¯æ„å‘³ç€æµ‹è¯•æ¯«æ— ç”¨å¤„ï¼ æµ‹è¯•ä¸çœŸå®žçš„ä»£ç åªä¼šäº§ç”Ÿä¸çœŸå®žçš„ç»“è®ºï¼Œè¯·æ ¹æ®å®žé™…æµ‹è¯•å®žé™…è€Œéžæ— å…³ç´§è¦çš„ä»£ç ï¼Œæµ‹è¯•æ¡ä»¶ä¹Ÿè¦ä¸ŽæœŸæœ›çš„çœŸå®žæƒ…å†µç›¸æŽ¥è¿‘ã€‚åªè¦è¿™æ ·æ‰èƒ½æŽ¥è¿‘äº‹å®žã€‚ jsPerf.comæµ‹è¯•éœ€è¦æ ¹æ®ä¸šåŠ¡å®žé™…çš„åœºæ™¯å‡ºå‘ï¼Œæ¨¡æ‹ŸçœŸå®žçš„çŽ¯å¢ƒã€‚ï¼ˆæ¡Œé¢æµè§ˆå™¨ã€ç§»åŠ¨è®¾å¤‡ç­‰ç­‰ï¼‰ å®Œæ•´æ€§æ£€æŸ¥ å†™å¥½æµ‹è¯• å¾®æ€§èƒ½ ä¸æ˜¯æ‰€æœ‰å¼•æ“Žéƒ½ç±»ä¼¼ å¤§å±€å‡ºå‘ï¼ˆéžå…³é”®è·¯å¾„ä¸Šçš„ä¼˜åŒ–æ˜¯ä¸‡æ¶ä¹‹æºï¼‰ å°¾è°ƒç”¨ä¼˜åŒ–ï¼šè¿™æ˜¯ES6è¦æ±‚çš„ä¸€ç§ä¼˜åŒ–æ–¹æ³•ï¼Œå®ƒæ˜¯ JavaScript ä¸­åŽŸæœ¬ä¸å¯èƒ½çš„ä¸€äº›é€’å½’æ¨¡å¼å˜å¾—å®žé™…ã€‚TCO å…è®¸ä¸€ä¸ªå‡½æ•°åœ¨ç»“å°¾å¤„è°ƒç”¨å¦å¤–ä¸€ä¸ªå‡½æ•°æ¥æ‰§è¡Œï¼Œä¸éœ€è¦ä»»ä½•é¢å¤–çš„èµ„æºã€‚è¿™æ„å‘³ç€ï¼Œå¯¹é€’å½’ç®—æ³•æ¥è¯´ï¼Œå¼•æ“Žä¸å†éœ€è¦é™åˆ¶æ ˆæ·±åº¦ã€‚ æ€»ç»“å¯¹ä¸€æ®µä»£ç è¿›è¡Œæœ‰æ•ˆçš„æ€§èƒ½æµ‹è¯•ï¼Œç‰¹åˆ«æ˜¯ä¸ŽåŒæ ·ä»£ç çš„å¦å¤–ä¸€ä¸ªé€‰æ‹©å¯¹æ¯”æ¥çœ‹çœ‹å“ªç§æ–¹æ¡ˆæ›´å¿«ï¼Œéœ€è¦è®¤çœŸå¤„ç†ç»†èŠ‚ã€‚ ç›´æŽ¥ä½¿ç”¨æµ‹è¯•åº“ï¼Œä½†è¿˜æ˜¯è¦æ³¨æ„ç¼–å†™æµ‹è¯•æ—¶çš„é—®é¢˜ã€‚ å‹¿è¦æ‰§è¿·å¾®è§‚ç»†èŠ‚è€Œå¿½ç•¥äº†å¤§å±€ï¼Œé¿å…è½å…¥ä¸å¿…è¦çš„é™·é˜±ã€‚ å°¾è°ƒç”¨ä¼˜åŒ–ï¼ˆTail Call Optimization, TCOï¼‰ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[JS å¿«é€ŸæŽ’åº]]></title>
      <url>%2F2017%2F04%2F09%2F%E7%AE%97%E6%B3%95-%E5%BF%AB%E6%8E%92%2F</url>
      <content type="text"><![CDATA[ç¨‹åºè®¾è®¡=ç®—æ³•+æ•°æ®ç»“æž„ å¼•ç”¨è¿™å¥è¯å¹¶ä¸æ˜¯æƒ³è¯´å…¶ä»–ï¼Œè€Œæ˜¯ç®—æ³•çš„é‡è¦æ€§ã€‚æ…¢æ…¢æ¥ï¼Œå…ˆä»ŽåŸºç¡€ç®—æ³•â€“å¿«æŽ’è¯´èµ·! å¼•ç”¨å‚è€ƒ é˜®ä¸€å³°â€”â€”å¿«é€ŸæŽ’åºï¼ˆQuicksortï¼‰çš„Javascriptå®žçŽ°æŽ’åºåŠ¨ç”»æ¼”ç¤º å¿«é€ŸæŽ’åº1. åœ¨æ•°æ®é›†ä¹‹ä¸­ï¼Œé€‰æ‹©ä¸€ä¸ªå…ƒç´ ä½œä¸º&quot;åŸºå‡†&quot;ã€‚ 2. æ‰€æœ‰å°äºŽ&quot;åŸºå‡†&quot;çš„å…ƒç´ ï¼Œéƒ½ç§»åˆ°&quot;åŸºå‡†&quot;çš„å·¦è¾¹ï¼›æ‰€æœ‰å¤§äºŽ&quot;åŸºå‡†&quot;çš„å…ƒç´ ï¼Œéƒ½ç§»åˆ°&quot;åŸºå‡†&quot;çš„å³è¾¹ã€‚ 3. å¯¹&quot;åŸºå‡†&quot;å·¦è¾¹å’Œå³è¾¹çš„ä¸¤ä¸ªå­é›†ï¼Œä¸æ–­é‡å¤ç¬¬ä¸€æ­¥å’Œç¬¬äºŒæ­¥ï¼Œç›´åˆ°æ‰€æœ‰å­é›†åªå‰©ä¸‹ä¸€ä¸ªå…ƒç´ ä¸ºæ­¢ã€‚ ä»£ç å®žçŽ°12345678910111213141516171819202122232425/* * @å¿«æŽ’ç®—æ³• * æ‰¾åˆ°åŸºå‡†ï¼Œå°çš„æ”¾å·¦è¾¹ï¼Œå¤§çš„æ”¾å³è¾¹ */function quickSort(arr) &#123; if(arr.length &lt;= 1) return arr var pivotIndex = Math.floor(arr.length/2); var pivot = arr.splice(pivotIndex,1)[0]; // console.log(arr); var left = []; var right = []; for(var i=0; i&lt;arr.length; i++) &#123; if(arr[i] &lt; pivot) &#123; left.push(arr[i]); &#125; else &#123; right.push(arr[i]); &#125; &#125; return quickSort(left).concat([pivot], quickSort(right));&#125;console.log(quickSort([3,2,1,6,5,4,9,8,7,0])); å°ç»“é€‰åŸºå‡† =&gt; å°çš„æ”¾å·¦è¾¹ =&gt; å¤§çš„æ”¾å³è¾¹ =&gt; é€’å½’ =&gt; é•¿åº¦ä¸º1åˆ™è¿”å›ž ç»“æŸæ‰æ˜¯çœŸæ­£çš„å¼€å§‹ ã€Šç®—æ³•ã€‹æœ‰è¯è¦è¯´å¿«é€ŸæŽ’åº å°†æ•°ç»„æŽ’åºçš„æ–¹å¼æ˜¯ï¼šå½“ä¸¤ä¸ªå­æ•°ç»„éƒ½æœ‰åºæ—¶æ•´ä¸ªæ•°ç»„å°±è‡ªç„¶æœ‰åºï¼›é€’å½’è°ƒç”¨åœ¨å¤„ç†æ•´ä¸ªæ•°ç»„ä¹‹åŽï¼›åˆ‡åˆ†çš„ä½ç½®å–å†³äºŽæ•°ç»„çš„å†…å®¹ã€‚ å½’å¹¶æŽ’åº ä¸Žå¿«é€ŸæŽ’åºäº’è¡¥ï¼šå°†æ•°ç»„åˆ†ä¸ºä¸¤ä¸ªå­æ•°ç»„åˆ†åˆ«æŽ’åºï¼Œå¹¶å°†æœ‰åºçš„å­æ•°ç»„å½’å¹¶ä»¥å°†æ•´ä¸ªæ•°ç»„æŽ’åºï¼›é€’å½’è°ƒç”¨å‘ç”Ÿåœ¨å¤„ç†æ•´ä¸ªæ•°ç»„ä¹‹å‰ï¼›æ•°ç»„å°†ä¼šè¢«ç­‰åˆ†ã€‚ å¿«é€ŸæŽ’åºçš„åˆ‡åˆ† å¯¹äºŽæŸä¸ª jï¼Œ a[j] å·²ç»æŽ’å®š a[0] åˆ° a[j-1] ä¸­æ‰€æœ‰å…ƒç´ éƒ½ä¸å¤§äºŽ a[j] a[j+1,l-1] ä¸­æ‰€æœ‰å…ƒç´ éƒ½ä¸å°äºŽ a[j] é€’å½’è°ƒç”¨åˆ‡åˆ†æ¥æŽ’åº å®žçŽ°é€»è¾‘ å…ˆéšæ„åœ°å– a[0] ä½œä¸ºåˆ‡åˆ†å…ƒç´ ï¼Œå®šå®ƒçš„ä¸‹æ ‡ ä»Žæ•°ç»„å·¦ç«¯ i å¼€å§‹å‘å³æ‰«æï¼Œæ‰¾åˆ°ä¸€ä¸ª &gt; a[0] çš„å…ƒç´  ä»Žæ•°ç»„å³ç«¯ j å¼€å§‹å‘å·¦æ‰«æï¼Œæ‰¾åˆ°ä¸€ä¸ª &lt;= a[0] çš„å…ƒç´  äº¤æ¢ä»¥ä¸Šä¸¤ä¸ªä½ç½® å¦‚æ­¤ç»§ç»­ï¼Œä¿è¯å·¦æŒ‡é’ˆçš„ i å·¦ä¾§å…ƒç´ éƒ½ä¸å°äºŽ a[0]ï¼Œ j å³ä¾§éƒ½å¤§äºŽ a[0] ä¸¤æŒ‡é’ˆç›¸é‡æ—¶ï¼Œå°†åˆ‡åˆ†å…ƒç´  a[0] å’Œå·¦æ•°ç»„æœ€å³ä¾§å…ƒç´ äº¤æ¢ï¼Œè¿”å›ž j 12345678910function quickSort(arr, start, end)&#123; // å¦‚æžœéœ€è¦æŽ’åºçš„æ•°ç»„å†…å®¹é•¿åº¦å°äºŽ1ï¼Œè·³å‡ºå¾ªçŽ¯ // å¯¹ arr[start]è¿›è¡Œä¸€æ¬¡åˆ‡åˆ†ï¼Œå¹¶èŽ·å¾—å…¶æŽ’ä½é¡ºåºä¸‹æ ‡ j // å¯¹ arr (start,j-1) &amp; (j+1,end) é€’å½’è°ƒç”¨åˆ‡åˆ†&#125;function partition(arr, start, end)&#123; // è¿›è¡Œä¸€æ¬¡åˆ‡åˆ†ï¼Œå¯¹ arr[start] è¿›è¡Œåˆ‡åˆ† // è¿”å›ž arr[start] çš„ä¸‹æ ‡ï¼Œå› ä¸ºè¯¥æ¬¡åˆ‡åˆ†æ€»èƒ½ç¡®å®šå®ƒçš„é¡ºåº&#125; æ¼”ç¤ºä»£ç  1234567891011121314151617181920212223242526272829303132333435363738function quickSort(arr, start, end)&#123; // å¯¹ç”¨æˆ·è¾“å…¥åšåˆ¤æ–­ï¼ŒæŸ¯é‡ŒåŒ– // è¾“å…¥ä¸¤ä¸ªå‚æ•°ï¼Œå¯¹ arr[strat, length-1] æŽ’åº // è¾“å…¥ä¸€ä¸ªå‚æ•°ï¼Œå¯¹ arr[0, length-1] æŽ’åº if(end == null)&#123; end = arr.length -1 &#125; if(start == null)&#123; start = 0 &#125; if(end &lt;= start) return; var j = partition(arr, start, end); quickSort(arr, start, j-1); quickSort(arr, j+1, end);&#125;function partition(arr, start, end)&#123; var v = arr[start] var i = start var j = end + 1 while(true)&#123; while(arr[++i] &lt; v) if (i == end) break; while(arr[--j] &gt;= v) if (j == start) break; if(i &gt;= j) break; [arr[i], arr[j]] = [arr[j], arr[i]]; &#125; [arr[start], arr[j]] = [arr[j], arr[start]] return j&#125;// æµ‹è¯•ä¸€ä¸‹ï¼Œä¸Šè¿°ä»£ç ä½¿ç”¨äº†ES6è§£æž„èµ‹å€¼ï¼Œç¡®ä¿è¿è¡ŒçŽ¯å¢ƒæ”¯æŒvar a = [3,2,1,6,5,4,9,8,7,0]// å¯¹æ•°ç»„éƒ¨åˆ†å†…å®¹è¿›è¡ŒæŽ’åºquickSort(a, 3)console.log(a) // a =&gt; [3, 2, 1, 0, 4, 5, 6, 7, 8, 9]// å¯¹æ‰€æœ‰å†…å®¹è¿›è¡ŒæŽ’åºquickSort(a)console.log(a) // a =&gt; [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] å€¼å¾—æ·±ç©¶çš„ç»†èŠ‚é—®é¢˜ åŽŸåœ°åˆ‡åˆ†ï¼šä¸è¦åˆ›å»ºæ–°çš„æ•°ç»„ï¼Œè¿™æ ·åœ¨é€’å½’çš„åˆ‡åˆ†æ–¹æ³•ä¸­çš„å¼€é”€ä¼šå¾—ä¸å¿å¤±ã€‚ åˆ«è¶Šç•Œï¼šå°å¿ƒæ‰«æçš„æŒ‡é’ˆä¸è¦è·‘å‡ºæ•°ç»„è¾¹ç•Œã€‚ï¼ˆj==startï¼‰æ˜¯å¤šä½™çš„ï¼Œa[start]ä¸å¯èƒ½æ¯”è‡ªå·±å° ä¿æŒéšæœºæ€§ï¼šå°±ç®—ä½ é€‰æ‹©çš„åˆ‡åˆ†å…ƒç´ ï¼Œæœ€å¥½ä¹Ÿæ˜¯éšæœºçš„ï¼Œåˆ‡åˆ†åŽçš„æ•°ç»„ä¹Ÿæ‰“ä¹±ã€‚ ç»ˆæ­¢å¾ªçŽ¯ï¼šæ­£ç¡®æ£€æµ‹è¶Šç•Œéœ€è¦ä¸€äº›æŠ€å·§ï¼Œç»ˆæ­¢å¾ªçŽ¯è¦æ ¼å¤–å°å¿ƒã€‚ å¤„ç†åˆ‡åˆ†å…ƒç´ é‡å¤çš„æƒ…å†µï¼šå‡å°‘ä¸å¿…è¦çš„ç­‰å€¼å…ƒç´ äº¤æ¢ï¼Œé¿å…è¿ç®—æ—¶é—´ä¸ºå¹³æ–¹çº§åˆ«ã€‚ ç»ˆæ­¢é€’å½’ï¼šä¿è¯åˆ‡åˆ†å…ƒç´ æ”¾å…¥æ­£ç¡®çš„ä½ç½®ï¼Œå½“ä¸ºæœ€å¤§æœ€å°å€¼æ—¶éœ€è¦æ³¨æ„ã€‚ ç®—æ³•æ”¹è¿›æ”¹è¿›æ„è§ ï¼ˆå°æ•°ç»„ï¼‰åˆ‡æ¢åˆ°æ’å…¥æŽ’åº ä¸‰å–æ ·åˆ‡åˆ†ï¼šä½¿ç”¨å­æ•°ç»„çš„ä¸€å°éƒ¨åˆ†å…ƒç´ çš„ä¸­ä½æ•°æ¥åˆ‡åˆ†æ•°ç»„ï¼Œæµ‹è¯•å‘çŽ°è¿™æ ·æ•ˆæžœæœ€ä½³ã€‚è¿˜å¯ä»¥å°†å–æ ·å…ƒç´ æ”¾åœ¨æ•°ç»„æœ«å°¾ä½œä¸ºâ€˜å“¨å…µâ€™æ¥åŽ»æŽ‰ partition() ä¸­çš„è¾¹ç•Œæ•°ç»„æµ‹è¯•ã€‚ ç†µæœ€ä¼˜çš„æŽ’åºï¼šå¤„ç†å¤§é‡é‡å¤å…ƒç´ ã€‚ä¾‹å¦‚ä¸€ä¸ªå…ƒç´ å…¨éƒ¨é‡å¤çš„å­æ•°ç»„ï¼Œæˆ‘ä»¬ä¸Šé¢å®žçŽ°çš„å¿«é€ŸæŽ’åºè¿˜ä¼šç»§ç»­å°†å®ƒåˆ‡åˆ†ä¸ºæ›´å°çš„æ•°ç»„ã€‚ è§£å†³åŠžæ³• å°†æ•°ç»„åˆ‡åˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼Œåˆ†åˆ«å¯¹åº”å°äºŽã€ç­‰äºŽå’Œå¤§äºŽåˆ‡åˆ†å…ƒç´ çš„æ•°ç»„å…ƒç´ ã€‚è¿™ç§åˆ‡åˆ†å®žçŽ°æ¯”äºŒåˆ†æ³•æ›´å¤æ‚ï¼Œä¹Ÿæœ‰å¾ˆå¤šä¸åŒçš„è§£å†³åŠžæ³•ã€‚ E.W.Dijkstra çš„è·å…°å›½æ——é—®é¢˜ Dijkstra çš„è§£æ³• â€œä¸‰å‘åˆ‡åˆ†çš„å¿«é€ŸæŽ’åºâ€ï¼š ä»Žå·¦åˆ°å³ï¼Œç»´æŠ¤ä¸€ä¸ªæŒ‡é’ˆ lt ä½¿å¾— arr[startâ€¦lt-1] ä¸­çš„å…ƒç´ éƒ½å°äºŽ v ä¸€ä¸ªæŒ‡é’ˆ gt ä½¿å¾— arr[gt+1â€¦end] ä¸­çš„å…ƒç´ éƒ½å¤§äºŽ v ä¸€ä¸ªæŒ‡é’ˆ i ä½¿å¾— arr[ltâ€¦i-1] ä¸­çš„å…ƒç´ éƒ½ç­‰äºŽ v arr[iâ€¦gt] ä¸­çš„å…ƒç´ éƒ½è¿˜æœªç¡®å®š å¼€å§‹æ—¶ï¼Œi å’Œ start ç›¸ç­‰ï¼Œä½¿ç”¨ comparable æŽ¥å£å¯¹ a[i] è¿›è¡Œä¸‰å‘æ¯”è¾ƒ a[i] &lt; v, å°† a[lt] å’Œ a[i] äº¤æ¢ï¼Œå°† lt å’Œ i åŠ ä¸€ a[i] &gt; v, å°† a[gt] å’Œ a[i] äº¤æ¢ï¼Œå°† gt å‡ä¸€ a[i] = v, å°† i åŠ ä¸€ ä¿è¯æ•°ç»„å…ƒç´ ä¸å˜ä¸”ç¼©å° gt - i çš„å€¼ï¼Œå¾ªçŽ¯æ‰èƒ½ç»“æŸ ä»£ç å®žçŽ° 12345678910111213141516171819202122232425262728293031323334353637function quick3way(arr, start, end)&#123; if(end &lt;= start) return; var lt = start, i = start + 1, gt = end; var v = arr[start]; while(i &lt;= gt)&#123; var cmp = compareTo(arr[i], v); if (cmp &lt; 0) &#123; [arr[lt], arr[i]] = [arr[i], arr[lt]] lt++ i++ &#125; else if(cmp &gt; 0) &#123; [arr[gt], arr[i]] = [arr[i], arr[gt]] gt-- &#125; else &#123; i++ &#125; // a[start..lt-1] &lt; v = a[lt..gt] &lt; a[gt+1..end] &#125; quick3way(arr, start, lt-1) quick3way(arr, gt+1, end)&#125;var compareTo = function compareTo(a, b)&#123; // ä¸ºäº†èƒ½å¤Ÿæ¯”è¾ƒå­—æ¯ï¼Œè½¬ä¸ºå­—ç¬¦ä¸² a = a + '' b = b + '' return a.charCodeAt() - b.charCodeAt()&#125;// testvar b = ['E','A','S','Y','G','A','M','E']quick3way(b,0,7) // ["A", "A", "E", "E", "G", "M", "S", "Y"]var a = [1,2,3,1,2,3,1,2,3]quick3way(a, 0, 9) // [1, 1, 1, 2, 2, 2, 3, 3, 3] ä¸Šé¢çš„ä»£ç åªå®žçŽ°äº†ä¸‰å‘åˆ‡åˆ†ï¼ æ€»ç»“å¿«é€ŸæŽ’åºçš„åˆ‡åˆ†ï¼šä¸€æ¬¡åˆ‡åˆ†èƒ½å¤Ÿè‡³å°‘ç¡®å®šä¸€ç±»é‡å¤å…ƒç´ çš„æŽ’åº ä¸€æ¬¡æŽ’åºä¹‹åŽé‡å¤è°ƒç”¨åˆ‡åˆ†ï¼Œå³é€’å½’å‘ç”Ÿåœ¨ä¸€æ¬¡æŽ’åºä¹‹åŽ åŽŸåœ°åˆ‡åˆ†ï¼šåˆ‡åˆ†è¿‡ç¨‹ä¸­æ²¡æœ‰åˆ›å»ºæ–°çš„æ•°ç»„å¯¹è±¡]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[YDKJS-this]]></title>
      <url>%2F2017%2F03%2F30%2FYDKJS4-this%2F</url>
      <content type="text"><![CDATA[this åœ¨ JS ä¸­æ˜¯ä¸€ä¸ªéžå¸¸ç‹¬ç‰¹å·§å¦™çš„å­˜åœ¨ï¼Œä¹Ÿæ˜¯æœ€å¤æ‚çš„æœºåˆ¶ä¹‹ä¸€ï¼Œè¢«å®šä¹‰åœ¨æ‰€æœ‰å‡½æ•°çš„ä½œç”¨åŸŸä¸­ï¼ˆç®­å¤´å‡½æ•°é™¤å¤–ï¼‰ã€‚å³ä½¿æ˜¯éžå¸¸æœ‰ç»éªŒçš„å¼€å‘è€…ä¹Ÿä¸ä¸€å®šèƒ½å¤Ÿè¯´æ¸…æ¥šåˆ°åº• this æ˜¯ä»€ä¹ˆï¼ˆè¿™å¥è¯æˆ‘è§‰å¾—ä¸å¯¹O(âˆ©_âˆ©)O~ï¼‰ã€‚ Arthur C.Clarke è¯´ï¼Œä»»ä½•è¶³å¤Ÿå…ˆè¿›çš„æŠ€æœ¯éƒ½å’Œé­”æ³•æ— å¼‚ã€‚é‚£ä¹ˆ this æœ‰é‚£ä¹ˆå…ˆè¿›å—ï¼Ÿ this åˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ why this this éšå¼ä¼ é€’äº†ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ï¼Œæ˜¾å¾—æ›´åŠ ä¼˜é›…ï¼åŒç†ï¼ŒAPI çš„è®¾è®¡ä¼šæ›´åŠ ç®€æ´ä¸”æ˜“äºŽå¤ç”¨ã€‚åŒæ—¶ï¼Œéšç€ä½¿ç”¨æ¨¡å¼å˜å¾—å¤æ‚ï¼Œæ˜¾ç¤ºä¼ é€’ä¸Šä¸‹æ–‡ä¼šæ›´åŠ æ··ä¹±ï¼Œthis å°±æ˜¯ä¸€ç§è§£å†³æ–¹æ¡ˆã€‚ å¯¹ this çš„ä¸¤å¤§è¯¯è§£ this æŒ‡å‘è‡ªèº«ã€‚ this æŒ‡å‘å‡½æ•°çš„ä½œç”¨åŸŸã€‚ï¼ˆä¸å®Œå…¨é”™è¯¯ï¼‰ ä½œç”¨åŸŸç±»ä¼¼å¯¹è±¡ï¼Œä½†æ˜¯æ— æ³•é€šè¿‡ä»£ç æ¥è®¿é—®ã€‚æ‰€ä»¥ this æ˜¾ç„¶ä¸æŒ‡å‘ä½œç”¨åŸŸã€‚ 1234567function baz ()&#123; console.log(this.a);&#125;;var a = "global";baz(); // &lt;- global whatâ€™s thisthis æ˜¯åœ¨è¿è¡Œæ—¶è¿›è¡Œç»‘å®šï¼Œä»–çš„ä¸Šä¸‹æ–‡å–å†³äºŽå‡½æ•°è°ƒç”¨æ—¶çš„å„ç§æ¡ä»¶ã€‚this å’Œå‡½æ•°ç¼–å†™æ—¶çš„ä½ç½®å¹¶æ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œåªå–å†³äºŽå‡½æ•°çš„è°ƒç”¨ä½ç½®åŠæ–¹å¼ã€‚ å½“ä¸€ä¸ªå‡½æ•°è°ƒç”¨æ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ªæ´»åŠ¨è®°å½•ï¼ˆæ‰§è¡Œä¸Šä¸‹æ–‡ï¼‰ï¼Œè¿™ä¸ªè®°å½•åŒ…å«äº†å‡½æ•°åœ¨å“ªå„¿è¢«è°ƒç”¨ï¼ˆæŸ¥æ‰¾è°ƒç”¨æ ˆï¼‰ã€å‡½æ•°çš„è°ƒç”¨æ–¹å¼ã€ä¼ å…¥çš„å‚æ•°ç­‰ä¿¡æ¯ã€‚ this åªæ˜¯æ‰§è¡Œä¸Šä¸‹æ–‡çš„ä¸€ä¸ªå±žæ€§ï¼ŒæŒ‡å‘è¯¥ä¸Šä¸‹æ–‡ã€‚ è°ƒç”¨ä½ç½®å¯»æ‰¾è°ƒç”¨ä½ç½®å¹¶éžæ˜“äº‹ï¼ŒæŸäº›ç¼–ç¨‹æ¨¡å¼å¯èƒ½ä¼šéšè—çœŸæ­£çš„ä½ç½®ã€‚æœ€é‡è¦çš„æ˜¯åˆ†æžè°ƒç”¨æ ˆï¼ˆåˆ°è¾¾å½“å‰æ‰§è¡Œä½ç½®æ‰€è°ƒç”¨çš„æ‰€æœ‰å‡½æ•°ï¼‰ã€‚è°ƒç”¨ä½ç½®å°±æ˜¯å½“å‰æ­£åœ¨æ‰§è¡Œçš„å‡½æ•°çš„å‰ä¸€ä¸ªè°ƒç”¨ä¸­ã€‚ 1234567891011121314151617181920212223242526var a = "global";function baz() &#123; // å½“å‰è°ƒç”¨æ ˆ baz // è°ƒç”¨ä½ç½®ä¸ºå…¨å±€ä½œç”¨åŸŸ console.log("baz"); bar(); // &lt;-- bar çš„è°ƒç”¨ä½ç½®&#125;function bar() &#123; // å½“å‰è°ƒç”¨æ ˆä¸º baz -&gt; bar // è°ƒç”¨ä½ç½®ä¸º baz ä¸­ console.log("bar"); foo(); //&#125;function foo() &#123; // å½“å‰è°ƒç”¨æ ˆä¸º baz -&gt; bar -&gt; foo // è°ƒç”¨ä½ç½®ä¸º bar ä¸­ console.log("foo");&#125;baz(); // &lt;-- bazåœ¨å…¨å±€è¢«è°ƒç”¨ this ç»‘å®šå››å¤§è§„åˆ™ é»˜è®¤ç»‘å®šç‹¬ç«‹å‡½æ•°è°ƒç”¨ï¼Œæ— æ³•åº”ç”¨å…¶ä»–è§„åˆ™æ˜¯é»˜è®¤ç»‘å®š 123456789// ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œä¸èƒ½å°†å…¨å±€å¯¹è±¡ç”¨äºŽé»˜è®¤ç»‘å®šfunction foo() &#123; "use strict"; console.log( this.a );&#125;var a = 2;foo(); // TypeError: this is undefined æ­¤å¤„æœ‰ä¸€ä¸ªå¾®å°çš„ç»†èŠ‚ï¼Œå½“ foo è¿è¡Œåœ¨éž strict mode ä¸‹æ—¶ï¼Œåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹è°ƒç”¨ foo() åˆ™ä¸å½±å“é»˜è®¤ç»‘å®šï¼š 12345678910function foo() &#123; console.log( this.a );&#125;var a = 2;(function() &#123; "use strict"; foo(); // 2&#125;)(); éšå¼ç»‘å®š è°ƒç”¨ä½ç½®æ˜¯å¦æœ‰ä¸Šä¸‹æ–‡ï¼Œæˆ–è€…è¯´æ˜¯å¦è¢«æŸä¸ªå¯¹è±¡æ‹¥æœ‰æˆ–è€…åŒ…å«ã€‚eg: obj.foo(); obj1.obj2.foo(); // &lt;â€“ ç¬¬äºŒä¸ªç»‘å®šåˆ°obj2å½“å‡½æ•°å¼•ç”¨æœ‰ä¸Šä¸‹æ–‡å¯¹è±¡æ—¶ï¼Œéšå¼ç»‘å®šè§„åˆ™ä¼šæŠŠå‡½æ•°è°ƒç”¨ä¸­çš„ this ç»‘å®šåˆ°è¿™ä¸ªä¸Šä¸‹æ–‡å¯¹è±¡ã€‚å¯¹è±¡å±žæ€§å¼•ç”¨é“¾ä¸­åªæœ‰ä¸Šä¸€å±‚æˆ–è€…è¯´æœ€åŽä¸€å±‚åœ¨è°ƒç”¨ä½ç½®ä¸­èµ·ä½œç”¨ã€‚ä¸¥æ ¼æ¨¡å¼ä¸‹å¯èƒ½ä¼šé€ æˆéšå¼ä¸¢å¤±ï¼Œthis å¯èƒ½ä¸º undefinedã€‚ä¼ å…¥å›žè°ƒå‡½æ•°ä¹Ÿä¼šé€ æˆéšå¼ç»‘å®šã€‚é€šè¿‡å±žæ€§é—´æŽ¥å¼•ç”¨å‡½æ•°å°† this éšå¼ç»‘å®šåˆ°å½“å‰å¯¹è±¡ä¸Šã€‚ æ˜¾å¼ç»‘å®š ä½¿ç”¨å‡½æ•°çš„ call(..) å’Œ apply(..) æ–¹æ³•ã€‚æ˜¾ç¤ºç»‘å®šä¾ç„¶æ— æ³•è§£å†³ç»‘å®šä¸¢å¤±é—®é¢˜ã€‚ç®€å•çš„è¾…åŠ©ç»‘å®šå‡½æ•°ï¼š 123456// ç®€å•çš„è¾…åŠ©å‡½æ•°function bind(fn, obj) &#123; return function() &#123; return fn.apply( obj, arguments ); &#125;&#125; ES5 å†…ç½®çš„æ–¹æ³• Function.prototype.bind: 1234567891011function foo(something) &#123; console.log( this.a, something ); return this.a + something;&#125;var obj = &#123; a:2 &#125;;var bar = foo.bind( obj );var b = bar( 3 ); // 2 3console.log( b ); // 5 bind(..) ä¼šè¿”å›žä¸€ä¸ªç¡¬ç¼–ç çš„æ–°å‡½æ•°ï¼Œä»–ä¼šæŠŠä½ æŒ‡å®šçš„ç¬¬ä¸€ä¸ªå‚æ•°è®¾ç½®ä¸º this çš„ä¸Šä¸‹æ–‡å¹¶è°ƒç”¨åŽŸå§‹å‡½æ•°ï¼Œå…¶ä½™çš„å‚æ•°ä¼ é€’ç»™ä¸‹å±‚çš„å‡½æ•°ï¼ˆéƒ¨åˆ†åº”ç”¨ï¼Œæ˜¯â€˜æŸ¯é‡ŒåŒ–â€™çš„ä¸€ç§ï¼‰ã€‚API è°ƒç”¨çš„ä¸Šä¸‹æ–‡ï¼šç¬¬ä¸‰æ–¹åº“ä»¥åŠ ES6 æ•°ç»„æ–°çš„è¿­ä»£æ–¹æ³•ï¼Œéƒ½æ”¯æŒä¼ å…¥ä¸€ä¸ªå¯é€‰çš„å‚æ•°ï¼Œé€šå¸¸ç§°ä¸ºä¸Šä¸‹æ–‡ï¼Œå…¶ä½œç”¨åŒ bind(..) ç±»ä¼¼ï¼Œè¿™äº›å‡½æ•°å®žé™…ä¸Šå°±æ˜¯ç”¨è¿‡ call(..) æˆ–è€… apply(..) å®žçŽ°äº†æ˜¾å¼ç»‘å®šã€‚ ç¡¬ç»‘å®šï¼ˆnewï¼‰ ä½¿ç”¨ new æ“ä½œç¬¦æ˜¯ï¼Œä¼šåˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œå¹¶å°†å‡½æ•°è°ƒç”¨ä¸­çš„ this ç»‘å®šåˆ°è¿™ä¸ªæ–°å¯¹è±¡ä¸Šã€‚å…·ä½“æ“ä½œå¦‚ä¸‹ï¼š åˆ›å»º/æž„é€  ä¸€ä¸ªå…¨æ–°çš„å¯¹è±¡ è¿™ä¸ªæ–°å¯¹è±¡ä¼šè¢«æ‰§è¡Œ[[prototype]]è¿žæŽ¥ è¿™ä¸ªæ–°å¯¹è±¡ä¼šè¢«ç»‘å®šåˆ°å‡½æ•°è°ƒç”¨çš„ this å¦‚æžœå‡½æ•°æ²¡æœ‰è¿”å›žå…¶ä»–å¯¹è±¡ï¼Œé‚£ä¹ˆ new è¡¨è¾¾å¼ä¸­çš„å‡½æ•°è°ƒç”¨ä¼šè‡ªåŠ¨è¿”å›žè¿™ä¸ªæ–°å¯¹è±¡ ä¼˜å…ˆçº§ æ˜¯å¦åœ¨ new ä¸­è°ƒç”¨ï¼Ÿï¼ˆnew ç»‘å®šï¼‰ æ˜¯å¦é€šè¿‡ callã€applyã€bind ç­‰è°ƒç”¨ï¼Ÿï¼ˆæ˜¾å¼ç»‘å®šï¼‰ æ˜¯å¦åœ¨æŸä¸ªä¸Šä¸‹æ–‡ä¸­è°ƒç”¨ï¼Ÿï¼ˆéšå¼ç»‘å®šï¼‰ éƒ½ä¸æ˜¯ï¼Ÿï¼ˆé»˜è®¤ç»‘å®šï¼‰ å‡¡äº‹æ— ç»å¯¹ï¼è¢«å¿½ç•¥çš„ this å°† null æˆ–è€… undefined ä½œä¸º this çš„ç»‘å®šå¯¹è±¡ä¼ å…¥ callã€applyã€bind æ˜¾å¼ç»‘å®šè§„åˆ™æ—¶ï¼Œè¿™äº›å€¼åœ¨è°ƒç”¨æ—¶ä¼šè¢«å¿½ç•¥ï¼Œä½¿ç”¨é»˜è®¤ç»‘å®šè§„åˆ™ã€‚ æ›´å®‰å…¨çš„ this åˆ›å»ºä¸€ä¸ªâ€œDMZâ€(demilitarized zoneï¼Œéžå†›äº‹åŒº)ç©ºçš„å§”æ‰˜å¯¹è±¡ Ã¸ ã€‚ object.create(null) æ¯” {} è¿˜ç©ºã€‚ï¼ˆæ²¡æœ‰ Object.prototype å§”æ‰˜ï¼‰ å°† this ç»‘å®šåˆ°è¿™ä¸ªç©ºå¯¹è±¡ï¼Œé˜²æ­¢ä»»ä½•å‰¯ä½œç”¨ä¿æŠ¤å…¨å±€å¯¹è±¡ã€‚ é—´æŽ¥å¼•ç”¨ å½“æœ‰æ„æ— æ„çš„åˆ›å»ºäº†ä¸€ä¸ªå‡½æ•°çš„é—´æŽ¥å¼•ç”¨æ—¶ï¼Œè¯¥å‡½æ•°ä¼šåº”ç”¨é»˜è®¤ç»‘å®šã€‚ 12345678910function foo() &#123; console.log( this.a );&#125;var a = 2;var o = &#123; a: 3, foo: foo &#125;;var p = &#123; a: 4 &#125;;o.foo(); // 3(p.foo = o.foo)(); // 2 this è¯æ³• ES6 å®šä¹‰äº†ä¸€ç§æ–°çš„å‡½æ•° ç®­å¤´å‡½æ•°ã€‚è¿™ç§å‡½æ•°ä¸é€‚ç”¨ä¸Šè¿°4ç§è§„åˆ™ï¼Œè€Œæ˜¯æ ¹æ®å¤–éƒ¨ä½œç”¨åŸŸæ¥å†³å®š thisï¼Œå…¶æœ¬èº«å¹¶æ²¡æœ‰ thisã€‚ å…¶åŽŸç†åŒäºŽ self = this æœºåˆ¶ æ›´å¤šå…³äºŽç®­å¤´å‡½æ•°è¯·çœ‹nodejsè®ºå›çš„ä¸€ç‰‡å¸–å­â€”â€”å°‘å¹´ï¼Œä¸è¦æ»¥ç”¨ç®­å¤´å‡½æ•°å•Š å®žçŽ°è½¯ç»‘å®š å¯ä»¥é»˜è®¤ç»‘å®šä¸€ä¸ªé™¤å…¨å±€å¯¹è±¡å’Œ undefined ä»¥å¤–çš„å€¼ï¼Œå®žçŽ°å’Œç¡¬ç»‘å®šç›¸åŒçš„æ•ˆæžœï¼ŒåŒæ—¶ä¿ç•™éšå¼ç»‘å®šæˆ–è€…æ˜¾ç¤ºç»‘å®šä¿®æ”¹ this çš„èƒ½åŠ›ï¼š 1234567891011121314151617if (!Function.prototype.softBind) &#123; Function.prototype.softBind = function(obj) &#123; // è¿™é‡Œçš„ this æ˜¯ Function.prototype å¯¹è±¡ï¼Ÿ =&gt; âˆš var fn = this; // æ•èŽ· curried å‚æ•°ï¼Œå³é™¤æŒ‡å®šå¯¹è±¡ä¹‹å¤–çš„å‚æ•° var curried = [].slice.call( arguments, 1 ); var bound = function() &#123; return fn.apply( // å¦‚æžœ this ç»‘å®šåˆ°å…¨å±€å¯¹è±¡æˆ–è€… undefinedï¼Œé‚£ä¹ˆå°±æŠŠ æŒ‡å®šçš„ obj å¯¹è±¡ç»‘å®šåˆ° thisï¼Œå¦åˆ™å°±ä¸ä¿®æ”¹ this (!this || this === (window || global)) ? obj : this, curried.concat.apply( curried, arguments ) ); &#125;; bound.prototype = Object.create( fn.prototype ); // æ³¨æ„è¿™é‡Œè¿”å›žçš„æ˜¯ bound æ‰§è¡ŒåŽçš„è¿”å›žå€¼ return bound(); &#125;;&#125; è¯·é—®ä¸Šé¢çš„ this ä¼šæŒ‡å‘è°å‘¢ï¼Ÿæ€è€ƒè¿è¡Œæ—¶å‡½æ•°è°ƒç”¨çš„ä½ç½®ä»¥åŠå¯¹è±¡ï¼ æ€»ç»“å››å¤§ç»‘å®šè§„åˆ™ï¼ŒES6 ç®­å¤´å‡½æ•°ï¼ç©ºå¯¹è±¡ DMZ Ã¸ åˆ›å»ºï¼ this â€“&gt; å‡½æ•°è°ƒç”¨ä½ç½®åˆ¤æ–­ â€“&gt; è°ƒç”¨æ ˆ 2017å¹´7æœˆ10æ—¥ æ›´æ–° ã€ŠJavaScriptè®¾è®¡æ¨¡å¼ä¸Žå¼€å‘å®žè·µã€‹ thisï¼š å‡½æ•°æ˜¯å¦ä½œä¸ºå¯¹è±¡çš„å±žæ€§ï¼ˆéšå¼ç»‘å®šï¼‰ å‡½æ•°ä½œä¸ºæ™®é€šå‡½æ•°è¢«è°ƒç”¨ï¼ˆé»˜è®¤ç»‘å®šï¼‰ é€šè¿‡callã€applyã€bindè°ƒç”¨ï¼ˆæ˜¾å¼ç»‘å®šï¼‰ é€šè¿‡newæ“ä½œç¬¦å®žä¾‹åŒ–ï¼ˆnewç»‘å®šï¼‰ ç®­å¤´å‡½æ•°ï¼ˆä¸Šä¸‹æ–‡ä¼ é€’ =&gt; è¿™ä¸ªåº”è¯¥åŠ ä¸Šï¼‰ å›žå¤´å†çœ‹ä¸Šé¢çš„ä¾‹å­ï¼Œè¯•ç€å¥—ç”¨è§„åˆ™ï¼ 123456789 var obj = &#123; x: 10,fn: function() &#123; function f() &#123; console.log(this.x); // undefined &#125; f();&#125; &#125;; è¿™é‡Œçš„ f() ä½œä¸ºæ™®é€šå‡½æ•°è¢«è°ƒç”¨ï¼Œåº”ç”¨é»˜è®¤ç»‘å®šï¼Œthis æŒ‡å‘ windowã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Node æ¨¡å—]]></title>
      <url>%2F2017%2F03%2F20%2FNode%E6%A8%A1%E5%9D%97%2F</url>
      <content type="text"><![CDATA[2009å¹´ï¼Œç¾Žå›½ç¨‹åºå‘˜Ryan Dahlåˆ›é€ äº†node.jsé¡¹ç›®ï¼Œå°†javascriptè¯­è¨€ç”¨äºŽæœåŠ¡å™¨ç«¯ç¼–ç¨‹ã€‚è¿™æ ‡å¿—â€Javascriptæ¨¡å—åŒ–ç¼–ç¨‹â€æ­£å¼è¯žç”Ÿã€‚å› ä¸ºè€å®žè¯´ï¼Œåœ¨æµè§ˆå™¨çŽ¯å¢ƒä¸‹ï¼Œæ²¡æœ‰æ¨¡å—ä¹Ÿä¸æ˜¯ç‰¹åˆ«å¤§çš„é—®é¢˜ï¼Œæ¯•ç«Ÿç½‘é¡µç¨‹åºçš„å¤æ‚æ€§æœ‰é™ï¼›ä½†æ˜¯åœ¨æœåŠ¡å™¨ç«¯ï¼Œä¸€å®šè¦æœ‰æ¨¡å—ï¼Œä¸Žæ“ä½œç³»ç»Ÿå’Œå…¶ä»–åº”ç”¨ç¨‹åºäº’åŠ¨ï¼Œå¦åˆ™æ ¹æœ¬æ²¡æ³•ç¼–ç¨‹ã€‚ NodeJSæ˜¯CommonJSè§„èŒƒçš„å®žçŽ°ï¼Œwebpack ä¹Ÿæ˜¯ä»¥CommonJSçš„å½¢å¼æ¥ä¹¦å†™ã€‚ è€Œæˆ‘ä»¬éƒ½çŸ¥é“ï¼Œé™¤äº†æœ€ç®€å•çš„ web ç¨‹åºï¼Œæ‰€æœ‰çš„ç¨‹åºéƒ½éœ€è¦æ•°æ®åº“ï¼Œè€Œ node ç”Ÿæ€ä¸­çš„æ•°æ®åº“æ›´å¤šã€‚æ‰€æœ‰ä¸»æµå…³ç³»åž‹æ•°æ®åº“ï¼ˆMySQLã€MariaDBã€PostgreSQLã€Oracleã€SQL Serverï¼‰çš„æŽ¥å£éƒ½æœ‰ï¼Œè€Œ node å¼€å‘çš„å‡ºçŽ°å¸¦åŠ¨äº†ä¸€ç§æ–°å¼çš„æ•°æ®åº“å­˜å‚¨æ–¹å¼ã€‚â€œNoSQL æ•°æ®åº“â€â€”â€”â€”â€”ã€ŠNodeä¸ŽExpresså¼€å‘ã€‹^1 Node æ¨¡å—æˆ‘ä»¬å·²ç»çŸ¥é“äº†é—­åŒ…å’Œæ¨¡å—çš„å…³ç³»ï¼Œè®©æˆ‘ä»¬å›žé¡¾ä¸€ä¸‹æ¨¡å—æ¨¡å¼çš„ä¸¤ä¸ªå¿…è¦æ¡ä»¶ï¼š å¿…é¡»æœ‰å¤–éƒ¨çš„å°é—­å‡½æ•°ï¼Œè¯¥å‡½æ•°è‡³å°‘è¢«è°ƒç”¨ä¸€æ¬¡ å°é—­å‡½æ•°å¿…é¡»è‡³å°‘è¿”å›žä¸€ä¸ªå†…éƒ¨å‡½æ•°ï¼Œè¿™æ ·å†…éƒ¨å‡½æ•°æ‰èƒ½åœ¨ç§æœ‰ä½œç”¨åŸŸä¸­å½¢æˆé—­åŒ…ï¼Œå¹¶è®¿é—®æˆ–è€…ä¿®æ”¹ç§æœ‰çŠ¶æ€ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ Node æ¨¡å—å’Œ npm åŒ…ç®¡ç†æ˜¯ä¸¤ä¸ªäº’ç›¸å…³è”ä½†åˆå½¼æ­¤ä¸åŒçš„æ¦‚å¿µã€‚ Node æ¨¡å—ï¼šæä¾›äº†ä¸€ä¸ªæ¨¡å—åŒ–å’Œå°è£…çš„æœºåˆ¶ã€‚ npm åŒ…åˆ™æä¾›äº†ä¸€ç§å­˜å‚¨ã€ç‰ˆæœ¬åŒ–å’Œå¼•ç”¨é¡¹ç›®ï¼ˆä¸é™äºŽæ¨¡å—ï¼‰çš„æ ‡å‡†èŒƒå¼ã€‚ 1var express = require('express'); è¿™é‡Œçš„ require æ˜¯ä¸€ä¸ªç”¨æ¥å¼•å…¥æ¨¡å—çš„ Node å‡½æ•°ã€‚Node é»˜è®¤ä¼šåœ¨ç›®å½• node_moudles ä¸­å¯»æ‰¾è¿™äº›æ¨¡å—ã€‚è€Œè¿™é‡Œæåˆ°æ˜¯ Node è‡ªæœ‰æ¨¡å—çš„æœºåˆ¶ï¼ˆä¸è¦åœ¨ node_moudles ä¸­åˆ›å»ºè‡ªå·±çš„æ¨¡å—ï¼‰ã€‚ ä¸€èˆ¬ï¼Œæˆ‘ä»¬ä¼šåˆ›å»ºä¸€ä¸ªä¿å­˜æ¨¡å—çš„ç›®å½•ã€‚åå­—éšæ„ï¼Œä½†ä¸€åŠéƒ½ç§°ä¸º libï¼ˆlibraryï¼‰ã€‚åœ¨æ­¤ç›®å½•åˆ›å»º fortune.js 12345678910111213// fortune.jsvar fortuneCookies = [ "Conquer your fears or they will conquer you.", "Rivers need springs.", "You will have a pleasant surprise.", "Whenever possible, keep it simple.",];exports.getFortune = function() &#123; var idx = Math.floor(Math.random() * fortuneCookies.length); return fortuneCookies[idx];&#125;; åœ¨æ­¤æ³¨æ„å…¨å±€å˜é‡è¾“å‡ºçš„ç”¨æ³•ï¼Œå¦‚æžœéœ€è¦å¯¹å¤–æš´éœ²è¿™ä¸ªæŽ¥å£ï¼Œéœ€è¦æ‰‹åŠ¨æŒ‚è½½åˆ° exports ä¸Šã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œåœ¨æ¨¡å—å¤–å¯ä»¥è®¿é—®åˆ°å‡½æ•° getFortune,ä½†æ•°ç»„ fortuneCookies æ˜¯å®Œå…¨éšè—çš„ã€‚å°è£…å¯ä»¥å‡å°‘å®¹æ˜“å‡ºé”™å’Œæ¯”è¾ƒè„†å¼±çš„ä»£ç ã€‚ ç„¶åŽåœ¨ä½ æŒ‡å®šçš„ entry.js å…¥å£æ–‡ä»¶ä¸­å¼•å…¥ï¼š 123// å¼•å…¥ fortune.jsvar fortune = require('./lib/fortune.js'); å°† fortune.js ä¸­çš„ exports å¯¼å‡ºçš„æ–¹æ³•æ”¾åœ¨ fortune å‘½åç©ºé—´ä¸‹ã€‚è¿™é‡ŒåŠ è½½æ¨¡å—ä½¿ç”¨äº†ç›¸å¯¹è·¯å¾„ï¼Œæ„æ€å°±æ˜¯å‘Šè¯‰ node ä¸è¦åŽ» node_moudles æŸ¥æ‰¾ã€‚ç„¶åŽä½ å°±å¯ä»¥ç”¨ä¸Šé¢æ¨¡å—é‡Œçš„ getFortune æ–¹æ³•ï¼š 123app.get('/about', function(req, res) &#123; res.render('about', &#123; fortune: fortune.getFortune() &#125;);&#125;; commonJS &amp; ES6 moudlescommonJS è§„èŒƒ &amp; ES6 æ¨¡å—å‚è€ƒé˜®ä¸€å³°è€å¸ˆçš„æ–‡ç«  CommonJS å’Œ AMD/CMD æ³¨é‡Š^1:â€œNoSQL æ•°æ®åº“â€ï¼šè¿™ä¸ªå¦å®šçš„å«æ³•æˆ–è®¸ä¸æ°å½“ï¼Œâ€œæ–‡æ¡£æ•°æ®åº“â€æˆ–â€œé”®/å€¼å¯¹æ•°æ®åº“â€ä¹Ÿè®¸æ›´åŠ åˆé€‚ã€‚å®ƒä»¬æä¾›äº†ä¸€ç§æ¦‚å¿µä¸Šæ›´ç®€å•çš„æ•°æ®å­˜å‚¨æ–¹å¼ã€‚è¿™ç§æ•°æ®åº“æœ‰å¾ˆå¤šï¼ŒMongoDB å°±æ˜¯å…¶ä¸­çš„ä½¼ä½¼è€…ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[YDKJS-lambda]]></title>
      <url>%2F2017%2F03%2F17%2FYDKJS3-lambda%2F</url>
      <content type="text"><![CDATA[è¿™ç« ä¼šæ˜¯ä¸€ä¸ªå…¨æ–°çš„é—­åŒ…è®¤çŸ¥ä¸–ç•Œï¼åœ¨è¿™ä¹‹å‰ï¼Œå…ˆå›žé¡¾ä¸€ä¸‹å‰é¢æ‰€è¯´çš„ä¸€äº›åè¯ï¼Œè§£æžæ‰§è¡Œâ€“ç¼–è¯‘å™¨ç¼–è¯‘â€“è¯æ³•åŒ–â€“ä½œç”¨åŸŸâ€“è¯æ³•ä½œç”¨åŸŸâ€“å‡½æ•°ä½œç”¨åŸŸâ€“å—ä½œç”¨åŸŸâ€“é®è”½æ•ˆåº”â€“letâ€“constã€‚ä½œç”¨åŸŸçš„æ¦‚å¿µæƒ³å¿…å·²ç»æ¸…æ¥šäº†ï¼Œæˆ‘ä»¬éƒ½çŸ¥é“ä»»ä½•å£°æ˜Žåœ¨æŸä¸ªä½œç”¨åŸŸå†…çš„å˜é‡ï¼Œéƒ½å°†é™„å±žäºŽè¿™ä¸ªä½œç”¨åŸŸï¼Œä½†æ˜¯ä½œç”¨åŸŸåŒå…¶ä¸­å˜é‡çš„ä½ç½®åˆæœ‰ä½•å…³ç³»å‘¢ï¼Ÿ è¿˜æœ‰ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸé—­åŒ…ï¼Œé—­åŒ…å¯¹åžƒåœ¾å›žæ”¶åˆæ˜¯å¦‚ä½•å½±å“çš„ï¼Ÿé—­åŒ…èƒ½ç”¨æ¥å¹²ä»€ä¹ˆå‘¢ï¼Ÿä»¥åŠé—­åŒ…å®žçŽ°æ¨¡å—çš„å¤šç§æ–¹å¼ï¼ˆä¸€å®šè¦æ·±ç©¶ï¼Œä½ ä¼šå‘çŽ°ä»–ä¼šè®©ä½ äº†è§£åˆ°æ’ä»¶ç®¡ç†ã€ä¾èµ–åŠ è½½ã€æ¨¡å—åŒ–å¼€å‘å½¢å¼å®žçŽ°ã€æ¨¡å—åŒ–è§„èŒƒAMD/CMDç­‰ç­‰ä¸€å¤§ç‰‡æ–°çš„æµ·åŸŸï¼‰ æå‡å…ˆæœ‰å£°æ˜Žè¿˜æ˜¯å…ˆæœ‰èµ‹å€¼ï¼Ÿ 123a = 2;var a;console.log(a); // 2 12console.log(b); // ReferenceErrorvar b = 2; å›žé¡¾æˆ‘ä»¬çš„ç¼–è¯‘é˜¶æ®µï¼Œåœ¨ä»£ç æ‰§è¡Œ var a = 2æ—¶ï¼Œå¼•æ“Žä¼šå¯¹å…¶è¿›è¡Œç¼–è¯‘ã€‚å…¶ä¸­ä¸€éƒ¨åˆ†å·¥ä½œå°±æ˜¯æ‰¾åˆ°æ‰€æœ‰çš„å£°æ˜Žï¼Œå¹¶ç”¨ä½•æ—¶çš„ä½œç”¨åŸŸå°†ä»–ä»¬å…³è”èµ·æ¥ã€‚ å› æ­¤ï¼Œæ‰€ä»¥å˜é‡å’Œå‡½æ•°çš„å£°æ˜Žéƒ½ä¼šåœ¨ä»£ç æ‰§è¡Œå‰ï¼ˆç¼–è¯‘ï¼‰æ—¶è¢«å¤„ç†ï¼Œä¹Ÿå°±æ˜¯ç¼–è¯‘é˜¶æ®µä¼šå°†æ‰€æœ‰å˜é‡å’Œå‡½æ•°å£°æ˜Žå…³è”åˆ°å¯¹åº”ä½œç”¨åŸŸé¡¶ç«¯ï¼Œè¿™ä¸ªçŽ°è±¡æˆ‘ä»¬å«åšæå‡ã€‚ å…ˆæœ‰å£°æ˜ŽåŽæœ‰èµ‹å€¼ï¼Œæå‡çš„çŽ°è±¡å‡ºçŽ°åœ¨æ¯ä¸€ä¸ªä½œç”¨åŸŸä¸­ã€‚ 1234567function foo() &#123; var a; console.log(a); // undefined a = 2;&#125;foo(); å¯ä»¥çœ‹åˆ° foo(â€¦) å‡½æ•°è‡ªèº«ä¼šå¯¹å†…éƒ¨ var è¿›è¡Œæå‡ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯å‡½æ•°å£°æ˜Žä¹Ÿä¼šæå‡ï¼Œè€Œå‡½æ•°è¡¨è¾¾å¼å´ä¸ä¼šã€‚ 12345678foo(); // ä¸æ˜¯ REFERENCEERROR è€Œæ˜¯ TYPEERROR!bar(); // ReferenceErrorvar foo = function bar() &#123; console.log(1); // console.log(bar);&#125;// å› ä¸ºèµ‹å€¼æ“ä½œæ‰§è¡Œæ—¶å¤„ç†ï¼Œå£°æ˜Žç¼–è¯‘æ—¶å¤„ç†ã€‚ å³ä½¿è¿™é‡Œä½¿ç”¨äº†å…·åçš„æ ‡è¯†ç¬¦ barï¼Œä½†æ˜¯åœ¨èµ‹å€¼ä¹‹å‰è¿˜æ˜¯æ— æ³•åœ¨å½“å‰ä½œç”¨åŸŸä¸­ä½¿ç”¨,ç„¶è€Œèµ‹å€¼åŽå°†æŒ‡å‘æ”¹ä¸º foo å‡½æ•°ä¼˜å…ˆ æ³¨æ„ä¸€ä¸ªç»†èŠ‚ï¼šåœ¨å¤šä¸ªâ€œé‡å¤â€å£°æ˜Žçš„ä»£ç ä¸­ï¼Œæ˜¯å‡½æ•°ä¼šé¦–å…ˆè¢«æå‡ï¼Œç„¶åŽæ‰æ˜¯å˜é‡ã€‚ åŒæ—¶ï¼Œé‡å¤çš„ var å£°æ˜Žä¼šè¢«å¿½ç•¥ï¼Œé‡å¤çš„å‡½æ•°å£°æ˜Žåˆ™ä¼šè¢«è¦†ç›–ã€‚ ä½œç”¨åŸŸé—­åŒ…å¯ç¤ºã€é‡ç”Ÿï¼ˆé—­åŒ…ï¼‰ æœ¬è´¨ä¸Šï¼Œé—­åŒ…æ— å¤„ä¸åœ¨ï¼Œå…¶å®žåŸºäºŽè¯æ³•ä½œç”¨åŸŸä¹¦å†™ä»£ç æ˜¯äº§ç”Ÿçš„è‡ªç„¶ç»“æžœã€‚ï¼ˆæœ‰ç‚¹ç»•ï¼Œåªæ˜¯è¿˜æ²¡æœ‰è¯†åˆ«ã€æ‹¥æŠ±å’Œå½±å“é—­åŒ…çš„æ€ç»´çŽ¯å¢ƒï¼‰ å¦‚æžœä½ è§‰å¾—â€”-å¦‚æžœä½ æ„Ÿè§‰ä¸€å¥è¯é‡Œæœ‰é—­åŒ…è€Œä¸”è¯»ä¸æ‡‚ã€‚ï¼ˆè¯·æŠŠé—­åŒ…æ¢æˆå¼•ç”¨ï¼‰ ä¸è¦æŠŠé—­åŒ…æƒ³è±¡æˆå¤šå°‘é«˜å¤§ä¸Šçš„ä¸œè¥¿ï¼Œå®ƒä¸è¿‡æ˜¯ä¸€ä¸ªèƒ½å¤Ÿè®°ä½å¹¶è®¿é—®æ‰€åœ¨ä½œç”¨åŸŸçš„å‡½æ•°ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥åœ¨å½“å‰è¯æ³•ä½œç”¨åŸŸä¹‹å¤–åŽ»æ‰§è¡Œå‡½æ•°ã€‚ æŠŠé—­åŒ…æƒ³åƒæˆä¸€ç§æ€ç»´æ–¹å¼ï¼Œå®ƒæ— å¤„ä¸åœ¨ï¼Œåªæ˜¯ä½ è¿˜æ²¡æœ‰æ„è¯†åˆ°å®ƒè€Œå·²ã€‚ è¿™ä¸æ˜¯æ–°çš„è¯­æ³•æˆ–æ¨¡å¼æ‰èƒ½ä½¿ç”¨çš„å·¥å…·ã€‚ é—­åŒ…æ˜¯åŸºäºŽè¯æ³•ä½œç”¨åŸŸä¹¦å†™ä»£ç æ˜¯äº§ç”Ÿçš„è‡ªç„¶ç»“æžœï¼Œä½ éœ€è¦çš„å°±æ˜¯æ ¹æ®ä½ è‡ªå·±çš„æ„æ„¿æ¥è¯†åˆ«ã€æ‹¥æŠ±å’Œå½±å“é—­åŒ…çš„æ€ç»´çŽ¯å¢ƒã€‚ æˆ–è®¸ï¼Œè¿™æ˜¯ç§è®©ä½ é‡æ–°ç®€åŒ–è®¤è¯†è¿™ä¸ªä¸–ç•Œï¼ˆJavaScriptï¼‰çš„æ–¹å¼ã€‚ å®žè´¨é—®é¢˜ è¯´å®Œäº†æ€åº¦å’Œæ¦‚å¿µï¼Œæ¥çœ‹çœ‹é—­åŒ…æ˜¯å¦‚ä½•å‘ˆçŽ°çš„ï¼š 123456789101112// eg.1ï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿè¿™æ˜¯é—­åŒ…å—ï¼Ÿfunction foo() &#123; var a = 2; funtion bar() &#123; console.log( a ); // 2 æ˜¯å¤–éƒ¨ä½œç”¨åŸŸ foo(...) çš„å˜é‡çš„å€¼ &#125; bar();&#125;foo (); è¿™æ˜¯é—­åŒ…å—ï¼Ÿå‡½æ•° bar() å¯ä»¥è®¿é—®å¤–éƒ¨ä½œç”¨åŸŸä¸­çš„å˜é‡ aï¼ˆè¿™é‡Œä¸å°±æ˜¯ä¸ª RHS å¼•ç”¨æŸ¥è¯¢ä¹ˆï¼Ÿï¼‰ã€‚ç¡®åˆ‡æ¥è¯´åº”è¯¥ä¸æ˜¯å§ï¼ è¿™ä¸å°±æ˜¯è¯æ³•ä½œç”¨åŸŸçš„æŸ¥æ‰¾è§„åˆ™ä¹ˆï¼Ÿ é—®é¢˜æ¥äº†ï¼Œé—­åŒ…éš¾é“ä¸é€‚ç”¨è¿™äº›è§„åˆ™ï¼Ÿå®žé™…ä¸Šè¿™äº›è§„åˆ™åªæ˜¯é—­åŒ…çš„éžå¸¸é‡è¦çš„ä¸€éƒ¨åˆ†ã€‚ eg.1 åªæ˜¯ä¸€ä¸ªæ¶µç›–äº† foo() ä½œç”¨åŸŸçš„é—­åŒ…ï¼ˆå½“ç„¶å¾€ä¸Šåˆ°å…¨å±€ä¹Ÿè¡Œï¼‰ã€‚ä¹Ÿå¯ä»¥è®¤ä¸º bar() è¢«å°é—­åœ¨ foo() ä½œç”¨åŸŸä¸­ã€‚ 12345678910111213141516// eg.2function foo() &#123; var a = 2; function bar() &#123; console.log( a ); //2 &#125; return bar;&#125;var baz = foo();baz(); // 2 â€”â€”â€”â€”baz æ˜¯ foo() æ‰§è¡ŒåŽçš„è¿”å›žå‡½æ•°çš„å¼•ç”¨// baz() ç›¸å½“äºŽæ‰§è¡Œäº†è¯¥è¿”å›žå‡½æ•°ï¼Œä¹Ÿå°±æ˜¯ bar() å‡½æ•°ã€‚ åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ bar() å¼•ç”¨äº† foo() çš„ aï¼ŒåŒæ—¶è¢« return åˆ°äº†å…¨å±€ï¼Œè¢« baz() åœ¨å¤–éƒ¨è°ƒç”¨ã€‚ åŒæ—¶åœ¨ foo() æ‰§è¡Œä¹‹åŽï¼Œå¼•æ“Žçš„åžƒåœ¾å›žæ”¶é€šå¸¸ä¼šæ¥é‡Šæ”¾ä¸å†ä½¿ç”¨çš„å†…å­˜ç©ºé—´ã€‚foo() çœ‹ä¸ŠåŽ»ä¸å†è¢«ä½¿ç”¨ï¼Œæ‰€ä»¥å¾ˆè‡ªç„¶çš„ä¼šè€ƒè™‘å¯¹é½è¿›è¡Œå›žæ”¶ã€‚ è€Œâ€˜é—­åŒ…â€™çš„å·¦å³å°±åœ¨è¿™é‡Œï¼Œç”±äºŽå¤–éƒ¨å˜é‡ baz ä¿æŒç€å¯¹ bar() çš„å¼•ç”¨ï¼Œè¿™å°±å¯¼è‡´äº† foo() çš„ä½œç”¨åŸŸæ²¡æœ‰è¢«é”€æ¯ï¼Œå› ä¸º bar() æœ¬èº«è¿˜åœ¨ä½¿ç”¨ã€‚ ç”±äºŽ bar() å£°æ˜Žçš„ä½ç½®åœ¨ foo() å†…éƒ¨ï¼Œä½¿å¾— foo() çš„ä½œç”¨åŸŸä¸€ç›´å­˜åœ¨ï¼Œbar() åœ¨ä¹‹åŽçš„ä»»ä½•æ—¶é—´éƒ½å¯ä»¥è¿›è¡Œå¼•ç”¨ã€‚ è¿™ä¸ªå¼•ç”¨å°±å«åšé—­åŒ…ã€‚ å› æ­¤ï¼Œåœ¨å‡ å¾®ç§’ä¹‹åŽå˜é‡ baz è¢«å®žé™…è°ƒç”¨ï¼ˆè°ƒç”¨å‡½æ•°å†…éƒ¨ barï¼‰ï¼Œå®ƒå¯ä»¥è®¿é—® bar() å’Œ foo() çš„ä½œç”¨åŸŸ; åœ¨è¿™é‡Œï¼Œfoo() å°† bar() ä»¥è¿”å›žå€¼çš„å½¢åŠ¿ä¼ é€’ç»™å¤–éƒ¨ï¼ŒåŒæ ·å¯ä»¥ä½¿ç”¨å…¶ä»–æ–¹å¼ï¼š 123456789101112131415161718// eg.3function foo() &#123; var a = 2; function baz()&#123; console.log( a ); // 2 &#125; bar( baz ); // ä¼ é€’ç»™ barï¼Œæ­¤æ—¶ fn = bazï¼›&#125;function bar( fn )&#123; fn(); // è¿™ä¹Ÿæ˜¯é—­åŒ…ï¼&#125;foo();bar(); // 2 æŠŠå†…éƒ¨å‡½æ•° baz ä¼ é€’ç»™ barï¼Œå½“è°ƒç”¨è¿™ä¸ªå†…éƒ¨å‡½æ•°æ—¶(fn),å®ƒæ¶µç›–çš„ foo() å†…éƒ¨ä½œç”¨åŸŸçš„é—­åŒ…å°±å¯ä»¥è§‚å¯Ÿåˆ°äº†ï¼Œå› ä¸ºä»–èƒ½å¤Ÿè®¿é—® aã€‚ è¿™ä¸ªå°±æ˜¯å‡½æ•°ä¼ é€’ï¼ï¼ˆç›´æŽ¥çš„å“¦ï¼‰ 1234567891011121314151617181920// eg.4var fn;function foo()&#123; var a = 2; function baz()&#123; console.log( a ); &#125; fn = baz; // å°† baz åˆ†é…ç»™å…¨å±€å˜é‡&#125;function bar()&#123; fn(); // è¿™å°±æ˜¯é—­åŒ…ï¼ â€˜å°±æ˜¯ä¸ªå¼•ç”¨â€™&#125;foo();bar(); // 2 åªè¦æ˜¯é—­åŒ…ï¼Œå°±æŒæœ‰å¯¹åŽŸå§‹å®šä¹‰ä½œç”¨åŸŸçš„å¼•ç”¨ï¼Œä¸ç®¡æ˜¯ç”¨ä»€ä¹ˆæ‰‹æ®µå°†å†…éƒ¨å‡½æ•°ä¼ é€’åˆ°æ‰€åœ¨çš„è¯æ³•ä½œç”¨åŸŸä¹‹å¤–çš„ã€‚ åªè¦æ‰§è¡Œè¿™ä¸ªå‡½æ•°å°±ä¼šä½¿ç”¨é—­åŒ…ã€‚ çŽ°åœ¨æ‡‚é—­åŒ…è¿™ä¸ªæ¦‚å¿µäº†æŠŠï¼ä¸æ‡‚çš„ç»§ç»­å¾€ä¸‹çœ‹12345678910// eg.5function wait(message)&#123; setTimeout( function timer()&#123; console.log( message ); &#125;, 1000);&#125;wait( "hello closure!" ); å°†ä¸€ä¸ªå†…éƒ¨å‡½æ•°ä¼ é€’ï¼ˆtimerï¼‰ç»™ setTimeout(â€¦)ã€‚ timer å…·æœ‰æ¶µç›–äº† wait(â€¦) ä½œç”¨åŸŸçš„é—­åŒ…ï¼Œå› æ­¤è¿˜ä¿ç•™ç€å¯¹å˜é‡ message çš„å¼•ç”¨ã€‚ è¿™é‡Œçš„ wait() åœ¨æ‰§è¡Œ1såŽï¼Œ setTimeout ä¼šä¿æŒè¿™å¯¹ç¬¬ä¸€ä¸ªå‚æ•°çš„å¼•ç”¨ï¼Œè¿™é‡Œæ˜¯ timerï¼Œå¼•æ“Žä¼šè°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œåœ¨ä¾‹å­ä¸­å°±æ˜¯å†…éƒ¨çš„ timer å‡½æ•°ï¼Œè€Œè¯æ³•ä½œç”¨åŸŸåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ä¿æŒå®Œæ•´ã€‚ æ·±å…¥åˆ°å¼•æ“Žçš„å†…éƒ¨åŽŸç†ä¸­ï¼Œå†…ç½®çš„å·¥å…·å‡½æ•°setTimeout(..) æŒæœ‰å¯¹ä¸€ä¸ªå‚æ•°çš„å¼•ç”¨ï¼Œè¿™ä¸ªå‚æ•°ä¹Ÿè®¸å«ä½œfn æˆ–è€…funcï¼Œæˆ–è€…å…¶ä»–ç±»ä¼¼çš„åå­—ã€‚å¼•æ“Žä¼šè°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œåœ¨ä¾‹å­ä¸­å°±æ˜¯å†…éƒ¨çš„timer å‡½æ•°ï¼Œè€Œè¯æ³•ä½œç”¨åŸŸåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ä¿æŒå®Œæ•´ã€‚ æ¥çœ‹ jQuery çš„ä¾‹å­ï¼š 1234567891011eg.6function setupBot(name, selector) &#123; $( selector ).click( function activator() &#123; console.log( "Activating: " + name ); &#125; );&#125;setupBot( "Closure Bot 1", "#bot_1" );setupBot( "Closure Bot 2", "#bot_2" ); jQuery æ·»åŠ äº‹ä»¶çš„å†™æ³•ã€‚ï¼ˆè¿™å±…ç„¶ä¹Ÿæ˜¯é—­åŒ…ï¼Œå‘µå‘µï¼‰ çŽ°åœ¨ä½ æ‡‚äº†ï¼Ÿï¼ˆæ‡µé€¼ï¼‰æœ¬è´¨ä¸Šæ— è®ºä½•æ—¶ä½•åœ°ï¼Œå¦‚æžœå°†å‡½æ•°ï¼ˆè®¿é—®ä»–ä»¬å„è‡ªçš„è¯æ³•ä½œç”¨åŸŸï¼‰å½“ä½œç¬¬ä¸€çº§çš„å€¼ç±»åž‹å¹¶åˆ°å¤„ä¼ é€’ï¼Œä½ å°±ä¼šçœ‹åˆ°é—­åŒ…ï¼ˆå¼•ç”¨ï¼‰åœ¨è¿™äº›å‡½æ•°ä¸­çš„åº”ç”¨ã€‚ å®šæ—¶å™¨ã€äº‹ä»¶ç›‘å¬å™¨ã€Ajax è¯·æ±‚ã€è·¨çª—å£é€šä¿¡ã€Web Workers æˆ–è€…ä»»ä½•å…¶ä»–çš„å¼‚æ­¥ï¼ˆæˆ–è€…åŒæ­¥ï¼‰ä»»åŠ¡ä¸­ã€åªè¦ä½¿ç”¨äº† å›žè°ƒå‡½æ•°ï¼Œå®žé™…ä¸Šå°±æ˜¯åœ¨ä½¿ç”¨é—­åŒ…ï¼ æ¥å›žé¡¾ä¸‹ 1.3 ä¸­é—ç•™çš„ IIFE é—®é¢˜,ä¸ºä»€ä¹ˆè¯´ IIFE æ˜¯å…¸åž‹çš„é—­åŒ…ï¼ï¼ˆä»¥åŠä½œè€…å¯¹æ­¤å€æ„Ÿäº‰è®®ï¼‰ 12345eg.8var a = 2;(function IIFE() &#123; console.log( a );&#125;)(); ç¤ºä¾‹ä¸­çš„å‡½æ•°æ˜¯åœ¨å½“å‰ä½œç”¨åŸŸæ‰§è¡Œçš„ï¼Œå¹¶éžåœ¨å¤–éƒ¨æˆ–è€…å…¶ä»–ä½œç”¨åŸŸæ‰§è¡Œã€‚ï¼ˆè¿™å°±æ˜¯ä½œè€…ä¸ºä»€ä¹ˆè®¤ä¸ºè¿™ä¸ç®—é—­åŒ…ï¼Œå› ä¸ºå®ƒåªæ˜¯åœ¨è¯æ³•ä½œç”¨åŸŸè§„åˆ™ä¸‹ä½¿ç”¨äº† RHS å¼•ç”¨æŸ¥è¯¢ã€‚è¯´ç™½äº† a ä¸æ˜¯é—­åŒ…å‘çŽ°çš„ï¼Œè€Œæ˜¯æŸ¥æ‰¾çš„åˆ°çš„ã€‚ï¼‰ ä½†æ˜¯ï¼ŒIIFE æœ¬èº«çš„ç¡®åˆ›å»ºäº†é—­åŒ…ï¼Œè€Œä¸”ä¹Ÿæ˜¯æœ€å¸¸ç”¨æ¥åˆ›å»ºå¯ä»¥è¢«å°é—­èµ·æ¥çš„é—­åŒ…çš„å·¥å…·ã€‚ å¾ªçŽ¯é—­åŒ…å¤„ç†äº‹æƒ…çš„æœ¬èº«æœ€é‡è¦çš„æ˜¯ä½ éœ€è¦æ˜Žç™½ä½ åœ¨åšä»€ä¹ˆï¼Œè€Œä¸å—ä»–äººå½±å“ã€‚ è¯´æ˜Žé—­åŒ…ï¼Œå¸¸è§çš„è¿˜æ˜¯ for å¾ªçŽ¯çš„ä¾‹å­ï¼š 123456789101112eg.9for (var i=1; i&lt;=5; i++) &#123; setTimeout( function()&#123; console.log( i ); &#125;, i*1000 );&#125;// è¿‡ 1s 6 // è¿‡ 1s 6// è¿‡ 1s 6 // è¿‡ 1s 6 // è¿‡ 1s 6 è¿™é‡Œçš„æ¯æ¬¡è¿­ä»£è¿‡ç¨‹ä¸­ï¼Œç¬¬ä¸€ä¸ªå‚æ•°åªæ˜¯ä¸ªä»€ä¹ˆéƒ½æ²¡æœ‰çš„ç©ºä½œç”¨åŸŸã€‚å¼•æ“Žå¤„ç†è¿™é‡Œçš„å¾ªçŽ¯å‘¢ï¼Œåªæ˜¯é‚£ä¹ˆä¸€ä¸ä¸ä¸ä¸ä¸ç‚¹å„¿æ—¶é—´ï¼Œæ‰€æœ‰çš„å®šæ—¶å™¨ä¼šå½¢æˆä¸€ä¸ªé˜Ÿåˆ—ï¼Œç­‰åˆ°å¾ªçŽ¯ç»“æŸï¼ˆi = 6ï¼‰=&gt; ç¬¬ä¸€ä¸ªå®šæ—¶å™¨äº‹ä»¶è§¦å‘ =&gt; ç¬¬äºŒä¸ªå®šæ—¶å™¨äº‹ä»¶è§¦å‘ =&gt; ç¬¬ä¸‰ä¸ªå®šæ—¶å™¨äº‹ä»¶è§¦å‘ =&gt; ç¬¬å››ä¸ªå®šæ—¶å™¨äº‹ä»¶è§¦å‘ =&gt; ç¬¬äº”ä¸ªå®šæ—¶å™¨äº‹ä»¶è§¦å‘ å› ä¸ºä½œç”¨åŸŸæ˜¯ç©ºçš„ï¼Œi åªèƒ½å¾€ä¸Šæ‰¾ï¼Œé‚£ä¹ˆç»“æžœå½“ç„¶æ˜¯ 6 å•Šã€‚ é‚£ä¹ˆè¯¥å¦‚ä½•æ”¹è¿›å‘¢ï¼Œå°±æ˜¯åœ¨å¾ªçŽ¯çš„æ—¶å€™åšæ‰‹è„šï¼ŒæŠŠ i å­˜è¿›è¯¥æ–¹æ³•çš„ä½œç”¨åŸŸå†…ï¼Œé‚£ä¹ˆæ‰§è¡Œçš„æ—¶å€™è‡ªç„¶å°±ä¼šæ­£ç¡®è¾“å‡ºï¼ 123456789eg.10for (var i=1; i&lt;=5; i++)&#123; (function() &#123; var j = i; setTimeout(function timer()&#123; console.log( j ); &#125;,j*500); &#125;)();&#125; ä½ å½“ç„¶å¯ä»¥æŠŠ i ä½œä¸ºå‚æ•°ä¼ è¿›åŽ»ï¼Œè®¾ç½®é»˜è®¤çš„å‚æ•°ï¼Œè¿™æ ·å°±ä¸éœ€è¦ var j = iï¼› 12345678eg.10-2for (var i=1; i&lt;=5; i++)&#123; (function(j) &#123; setTimeout(function timer()&#123; console.log( j ); &#125;, j*500); &#125;)( i );&#125; è¿™é‡Œçš„ j ä½ ä¹Ÿå¯ä»¥å« iï¼Œå«ä»€ä¹ˆå¹¶ä¸èƒ½å½±å“å®ƒæ˜¯ setTimeout(â€¦) ä½œç”¨åŸŸå†…çš„å˜é‡ã€‚ ä½ è¿˜è®°å¾—å—ä½œç”¨åŸŸä¹ˆï¼Ÿ æˆ‘ä»¬åœ¨è¿™é‡Œä½¿ç”¨ IIFE æ¯æ¬¡éƒ½ä¼šåˆ›å»ºæ–°çš„ä½œç”¨åŸŸï¼Œè¿™æ˜¯ for å¾ªçŽ¯å¸¦æ¥çš„ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯æ¬¡è¿­ä»£æˆ‘ä»¬éƒ½éœ€è¦ä¸€ä¸ªå—ä½œç”¨åŸŸã€‚é‚£ä¹ˆä¸ºä»€ä¹ˆä¸ç”¨ let å£°æ˜Žï¼Œæ¥åŠ«æŒå—ä½œç”¨åŸŸï¼Œå¹¶ä¸”åœ¨è¿™ä¸ªå—ä½œç”¨åŸŸå†…å£°æ˜Žä¸€ä¸ªå˜é‡ã€‚ 1234567eg.11for (var i=1; i&lt;=5; i++) &#123; let j = i; //é—­åŒ…çš„å—ä½œç”¨åŸŸ setTimeout( function()&#123; console.log( j ); &#125;, j*1000 );&#125; éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œfor å¾ªçŽ¯å¤´éƒ¨çš„ let å£°æ˜Žè¿˜æœ‰ä¸€ä¸ªç‰¹ä¿—çš„è¡Œä¸ºã€‚è¿™ä¸ªè¡Œä¸ºæŒ‡å‡ºå˜é‡åœ¨å¾ªçŽ¯è¿‡ç¨‹ä¸­ä¸æ­¢è¢«å£°æ˜Žä¸€æ¬¡ï¼Œè€Œæ˜¯æ¯æ¬¡è¿­ä»£éƒ½ä¼šè¿›è¡Œå£°æ˜Žã€‚è€ŒéšåŽçš„è¿­ä»£éƒ½ä¼šä½¿ç”¨ä¸Šä¸€ä¸ªè¿­ä»£ç»“æŸçš„å€¼æ¥åˆå§‹åŒ–è¿™ä¸ªå˜é‡ï¼Œå°±ä»–ä¼š let j = ä¸Šä¸ªj ,ç„¶åŽ let j = i,é‚£ä¹ˆæˆ‘ä»¬çŸ¥é“å˜é‡çš„é‡å¤å£°æ˜Žæ˜¯æ— æ•ˆçš„ï¼Œä»…ä»…èµ‹å€¼ä¼šç”Ÿæ•ˆ;é‚£ä¹ˆä¸å°±å¯ä»¥æ”¹äº†ä¹ˆ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸ªè¡Œä¸ºæ˜¯åœ¨ for å¾ªçŽ¯å†…çš„å“¦ï¼Œå¦‚æžœä½ å†™åˆ°å…¶ä»–é‡Œé¢å¯èƒ½å°±ä¸ç®—äº†å“¦ 123456eg.11for (let i=1; i&lt;=5; i++) &#123; setTimeout( function()&#123; console.log( i ); &#125;, i*1000 );&#125; å¯ä»¥çœ‹åˆ°ï¼Œé—­åŒ…å’Œå—ä½œç”¨åŸŸè”æ‰‹ï¼Œèƒ½å¡«å¥½å¤šå‘ï¼ æ¨¡å—é—­åŒ…çš„å¼ºå¤§å¨åŠ›ä¸ä»…äºŽæ­¤ï¼Œè¿˜æœ‰ä¸€ä¸ªå°±æ˜¯æ¨¡å—ã€‚è™½ç„¶çœ‹èµ·æ¥å’Œé—­åŒ…æ¯«æ— å¹²ç³»ï¼ è¿™ä¸ªå°±æœ‰ç‚¹æ‡µäº†ï¼š 123456789101112eg.12function foo() &#123; var something = "cool"; var another = [1, 2, 3]; function doSomething() &#123; console.log( something ); &#125;; function doAnother() &#123; console.log( another.join( " ! " ) ); &#125;&#125; åœ¨å‡½æ•°é‡Œé¢å®šä¹‰äº† doSomething() å’Œ doAnother() å‡½æ•°ï¼Œè€Œä¸”å†…éƒ¨å¼•ç”¨äº† foo() çš„å˜é‡ï¼Œä¹Ÿå°±æ˜¯è¯´ foo() å†…éƒ¨å˜é‡å’Œå‡½æ•°çš„è¯æ³•ä½œç”¨åŸŸï¼ˆè¿™å°±æ˜¯é—­åŒ…ï¼‰ä¹Ÿå°±æ˜¯ foo() çš„å†…éƒ¨ä½œç”¨åŸŸã€‚ å‡½æ•°ä¹Ÿæ˜¯å¯¹è±¡ï¼ˆåºŸè¯ï¸¿(ï¿£ï¸¶ï¿£)ï¸½(ï¿£ï¸¶ï¿£)ï¸¿ï¼‰ å¦‚æžœè¿™æ ·å†™å°±æ¸…æ¥šäº†ï¼š 123456789101112131415161718192021222324eg.13function CoolModule() &#123; var something = "cool"; var another = [1, 2, 3]; function doSomething() &#123; console.log( something ); &#125; function doAnother() &#123; console.log( another.join( " ! " ) ); &#125; return &#123; doSomething: doSomething, doAnother: doAnother &#125;;&#125;var foo = CoolModule();foo.doSomething(); // coolfoo.doAnother(); // 1 ! 2 ! 3 è¿™é‡Œ CoolMoudle() å‡½æ•°è¿”å›žçš„æ˜¯ json å¯¹è±¡ï¼ˆå†…éƒ¨å‡½æ•°çš„å¼•ç”¨ï¼Œè€Œä¿æŒå†…éƒ¨æ•°æ®å˜é‡éšè—ä¸”ç§æœ‰çš„çŠ¶æ€ï¼‰ï¼Œ foo æ˜¯è¯¥å¯¹è±¡çš„å¼•ç”¨ï¼Œå€Ÿæ­¤å°†å†…éƒ¨å‡½æ•°æš´éœ²ç»™äº† foo æ¨¡å—ã€‚å¦‚æžœä¸æ‰§è¡Œå¤–éƒ¨å‡½æ•°ï¼Œå†…éƒ¨ä½œç”¨åŸŸå’Œé—­åŒ…éƒ½æ— æ³•è¢«åˆ›å»ºã€‚ å¯ä»¥å°†è¿™ä¸ªå¯¹è±¡ç±»åž‹çš„è¿”å›žå€¼çœ‹ä½œâ€œ æ¨¡å—çš„å…¬å…± APIâ€ å¸¸è§çš„å®žçŽ°æ¨¡å—æ¨¡å¼çš„æ–¹æ³•é€šå¸¸è¢«ç§°ä½œæ¨¡å—æš´éœ²ã€‚è¿™é‡Œå±•ç¤ºçš„æ˜¯å…¶å˜ä½“ã€‚ ä»Žæ¨¡å—ä¸­è¿”å›žä¸€ä¸ªå®žé™…çš„å¯¹è±¡å¹¶ä¸æ˜¯å¿…é¡»çš„ï¼Œä¹Ÿå¯ä»¥ç›´æŽ¥è¿”å›žä¸€ä¸ªå†…éƒ¨å‡½æ•°ã€‚jQuery å°±æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­ã€‚jQuery å’Œ$ æ ‡è¯†ç¬¦å°±æ˜¯jQuery æ¨¡å—çš„å…¬å…±APIï¼Œä½†å®ƒä»¬æœ¬èº«éƒ½æ˜¯å‡½æ•°ï¼ˆç”±äºŽå‡½æ•°ä¹Ÿæ˜¯å¯¹è±¡ï¼Œå®ƒä»¬æœ¬èº«ä¹Ÿå¯ä»¥æ‹¥æœ‰å±žæ€§ï¼‰ã€‚ æ¨¡å—æ¨¡å¼çš„ä¸¤ä¸ªæ¡ä»¶ å¿…é¡»è¦æœ‰å¤–éƒ¨çš„å°é—­å‡½æ•°ï¼Œè¯¥å‡½æ•°å¿…é¡»è‡³å°‘è¢«è°ƒç”¨ä¸€æ¬¡ï¼ˆæ¯æ¬¡è°ƒç”¨éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„æ¨¡å—å®žä¾‹ï¼‰ã€‚ å°é—­å‡½æ•°å¿…é¡»è¿”å›žè‡³å°‘ä¸€ä¸ªå†…éƒ¨å‡½æ•°ï¼Œè¿™æ ·å†…éƒ¨å‡½æ•°æ‰èƒ½åœ¨ç§æœ‰ä½œç”¨åŸŸä¸­å½¢æˆé—­åŒ…ï¼Œå¹¶ä¸”å¯ä»¥è®¿é—®æˆ–è€…ä¿®æ”¹ç§æœ‰çš„çŠ¶æ€ã€‚ ä¸€ä¸ªå…·æœ‰å‡½æ•°å±žæ€§çš„å¯¹è±¡æœ¬èº«å¹¶ä¸æ˜¯çœŸæ­£çš„æ¨¡å—ã€‚ä»Žæ–¹ä¾¿è§‚å¯Ÿçš„è§’åº¦çœ‹ï¼Œä¸€ä¸ªä»Žå‡½æ•°è°ƒç”¨æ‰€è¿”å›žçš„ï¼Œåªæœ‰æ•°æ®å±žæ€§è€Œæ²¡æœ‰é—­åŒ…å‡½æ•°çš„å¯¹è±¡å¹¶ä¸æ˜¯çœŸæ­£çš„æ¨¡å—ã€‚ ä¸Šä¸€ä¸ªç¤ºä¾‹ä»£ç ä¸­çš„ CoolMoudle() æ˜¯ç‹¬ç«‹çš„æ¨¡å—åˆ›å»ºå™¨ï¼Œå¯ä»¥è¢«è°ƒç”¨ä»»æ„å¤šæ¬¡ï¼Œæ¯æ¬¡è°ƒç”¨éƒ½ä¼šåˆ›å»ºæ–°çš„æ¨¡å—å®žä¾‹ã€‚å¯¹å…¶æ”¹è¿›æ¥å®žçŽ°å•ä¾‹æ¨¡å¼ï¼š 1234567891011121314151617var foo = (function CoolModule() &#123; var something = "cool"; var another = [1, 2, 3]; function doSomething() &#123; console.log( something ); &#125; function doAnother() &#123; console.log( another.join( " ! " ) ); &#125; return &#123; doSomething: doSomething, doAnother: doAnother &#125;;&#125;)();foo.doSomething(); // coolfoo.doAnother(); // 1 ! 2 ! 3 æ¨¡å—å‡½æ•°è¢«è½¬æ¢æˆ IIFEï¼Œç«‹å³è°ƒç”¨è¿™ä¸ªå‡½æ•°å¹¶å°†è¿”å›žå€¼ç›´æŽ¥èµ‹å€¼ç»™å•ä¾‹çš„æ¨¡å—å®žä¾‹æ ‡è¯†ç¬¦ fooã€‚ æ¨¡å—ä¹Ÿæ˜¯æ™®é€šçš„å‡½æ•°ï¼Œå› æ­¤ä¹Ÿå¯ä»¥æŽ¥å—å‚æ•°ï¼› 123456789101112131415function CoolModule(id) &#123; function identify() &#123; console.log( id ); &#125; return &#123; identify: identify &#125;;&#125;var foo1 = CoolModule( "foo 1" );var foo2 = CoolModule( "foo 2" );foo1.identify(); // "foo 1"foo2.identify(); // "foo 2" ä½†æ˜¯è¿™é‡Œç›¸å½“äºŽç”Ÿæˆäº†ä¸¤ä¸ªæ¨¡å—å®žä¾‹ã€‚ æ¨¡å—æ¨¡å¼è¿˜æœ‰å¦ä¸€ä¸ªç®€å•è€Œä¸”å¼ºå¤§çš„å˜åŒ–ç”¨æ³•å°±æ˜¯ï¼Œä¸ºå°†è¦ä½œä¸ºå…¬å…± API è¿”å›žçš„å¯¹è±¡å‘½åã€‚ 12345678910111213141516171819202122232425262728var foo = (function CoolModule(id) &#123; function change() &#123; // ä¿®æ”¹å…¬å…±API publicAPI.identify = identify2; &#125; function identify1() &#123; console.log( id ); &#125; function identify2() &#123; console.log( id.toUpperCase() ); &#125; var publicAPI = &#123; change: change, identify: identify1 &#125;; return publicAPI;&#125;)( "foo module" );foo.identify(); // foo modulefoo.change();foo.identify(); // FOO MODULE æ¨¡å—å®žä¾‹çš„å†…éƒ¨ä¿ç•™äº†å¯¹å…¬å…± API å¯¹è±¡çš„å†…éƒ¨å¼•ç”¨ï¼Œå¯ä»¥ä»Žå†…éƒ¨å¯¹æ¨¡å—å®žä¾‹è¿›è¡Œä¿®æ”¹ï¼ŒåŒ…æ‹¬æ·»åŠ æˆ–åˆ é™¤æ–¹æ³•å’Œå±žæ€§ï¼Œä»¥åŠä¿®æ”¹å®ƒä»¬çš„å€¼ã€‚ çŽ°ä»£çš„æ¨¡å—æœºåˆ¶æ¨¡å—å¤§å¤šæ•°ä¾èµ–åŠ è½½å™¨æˆ–ç®¡ç†å™¨ã€‚æœ¬è´¨ä¸Šæ˜¯å°†è¿™ç§æ¨¡å—å®šä¹‰çš„æ–¹æ³•å°è£…è¿›ä¸€ä¸ªå‹å¥½çš„ APIã€‚æ¥çœ‹ä¸€ä¸ªä¾‹å­è§†å…¶æ ¸å¿ƒï¼š 123456789101112131415161718192021var MyMoudles = (function() &#123; var moudles = &#123;&#125;; function define(name, deps, impl) &#123; for (var i=0; i&lt;deps.length; i++) &#123; // åœ¨è¿™é‡Œå–å¾—æ¨¡å—çš„ä¾èµ– deps[i] = moudles[deps[i]]; &#125; // è¿™é‡Œæ˜¯æ ¸å¿ƒï¼Œä¿æŒå¯¹å…¶ä»–æ¨¡å—çš„å¼•ç”¨ moudles[name] = impl.apply( impl, deps ); &#125; function get(name) &#123; return moudles[name]; &#125; return &#123; define: define, get: get &#125;&#125;)(); MyModulesçš„defineæ–¹æ³•åŒ…å«nameï¼Œdepsï¼Œimplä¸‰ä¸ªå‚æ•°; nameè¡¨ç¤ºæ˜¯æ¨¡å—åç§°ï¼Œdepsè¡¨ç¤ºæ˜¯ä¾èµ–é¡¹ï¼Œimplè¡¨ç¤ºå®žçŽ°ã€‚ å…³é”®æ˜¯modules[name] = impl.apply( impl, deps ); è¿™ä¸€å¥ï¼Œä¸Šé¢çš„forå¾ªçŽ¯å°†ä¸€ä¸ªæ¨¡å—åç§°æ•°ç»„å…ˆè½¬æˆä¸€ä¸ªåŒ…å«å…·ä½“æ¨¡å—çš„æ•°ç»„ï¼Œç„¶åŽapplyç»™å…·ä½“çš„å®žçŽ°æ–¹æ³•ã€‚ç›¸å½“äºŽæ˜¯æ³¨å…¥äº†ä¾èµ–é¡¹ã€‚ 123456789101112131415161718192021222324252627282930313233// å®šä¹‰2ä¸ªæ¨¡å—ï¼Œå¹¶æµ‹è¯•å¼•ç”¨åŒ…çš„ä¾èµ–ã€‚MyModules.define( "bar", [], function() &#123; function hello(who) &#123; return "Let me introduce: " + who; &#125; return &#123; hello: hello &#125;;&#125; );MyModules.define( "foo", ["bar"], function(bar) &#123; var hungry = "hippo"; function awesome() &#123; console.log( bar.hello( hungry ).toUpperCase() ); &#125; return &#123; awesome: awesome &#125;;&#125; );var bar = MyModules.get( "bar" );var foo = MyModules.get( "foo" );console.log(bar.hello( "hippo" )); // Let me introduce: hippofoo.awesome(); // LET ME INTRODUCE: HIPPO æ³¨æ„åˆ°å®šä¹‰fooæ¨¡å—çš„æ—¶å€™ï¼Œä¾èµ–äº†baræ¨¡å—ï¼Œåªéœ€è¦åœ¨depsè¿™ä¸ªå‚æ•°åŠ å…¥[â€œbarâ€]å³å¯ã€‚ AMD å’Œ CMD éƒ½æ˜¯å°†æ¨¡å—çš„å®šä¹‰å°è£…è¿›ä¸€ä¸ªå‹å¥½çš„ APIï¼Œå°±æ˜¯ require.js å’Œ sea.js ä¸­çš„ define æ–¹æ³•ã€‚ä¸Šé¢çš„ä¸¤ä¸ªä»£ç ç¤ºä¾‹æ˜¯ä¸€ä¸ªçŽ°ä»£æ¨¡å—å®žçŽ° å¼•ç”³åˆ°å…¶ä»–ï¼Œæ¯”å¦‚æ’ä»¶ç®¡ç†ï¼Œä¾èµ–åŠ è½½ï¼ŒAPI ç»Ÿä¸€ç®¡ç†ç­‰ç­‰ï¼ˆæˆ‘ä¹Ÿä¸çŸ¥é“å¯¹é”™ï¼Œè¿˜æ˜¯ä¸å¤ªæ‡‚ï¼Œéœ€è¦æ·±ç©¶ï¼‰ ä½†æ˜¯ä¸Šé¢çš„ä¾‹å­å¤§è‡´å°±æ˜¯å°†ä¾èµ–çš„å…¶ä»–æ­¤æ³•ä½œç”¨åŸŸä¸­çš„å‡½æ•°æˆ–è€…å˜é‡ï¼Œå°è£…è¿›ä¸€ä¸ª APIï¼Œä¿æŒå¯¹è¿™äº›æ ‡è¯†ç¬¦çš„å¼•ç”¨ï¼Œè¿™æ ·æˆ‘ä»¬å°±èƒ½å¤Ÿä½¿ç”¨åˆ«äººçš„æ–¹æ³•æˆ–è€…å·¥å…·ã€‚è¿™å…¶å®žå°±ç›¸å½“äºŽé—­åŒ…ï¼ˆè¿™é‡Œä½¿ç”¨äº† apply æ¥ä¿æŒå¯¹ä¾èµ–çš„å¼•ç”¨ï¼‰ æœªæ¥çš„æ¨¡å—æœºåˆ¶å…¶å®žè¯´ç™½äº†å°±æ˜¯ ES6 çš„ moudleï¼ import &amp; export default import å¯ä»¥å°†ä¸€ä¸ªæ¨¡å—ä¸­çš„ä¸€ä¸ªæˆ–å¤šä¸ªAPI å¯¼å…¥åˆ°å½“å‰ä½œç”¨åŸŸä¸­ï¼Œå¹¶åˆ†åˆ«ç»‘å®šåœ¨ä¸€ä¸ªå˜é‡ä¸Šã€‚ module ä¼šå°†æ•´ä¸ªæ¨¡å—çš„API å¯¼å…¥å¹¶ç»‘å®šåˆ°ä¸€ä¸ªå˜é‡ä¸Šã€‚ export ä¼šå°†å½“å‰æ¨¡å—çš„ä¸€ä¸ªæ ‡è¯†ç¬¦ï¼ˆå˜é‡ã€å‡½æ•°ï¼‰å¯¼å‡ºä¸ºå…¬å…±APIã€‚è¿™äº›æ“ä½œå¯ä»¥åœ¨æ¨¡å—å®šä¹‰ä¸­æ ¹æ®éœ€è¦ä½¿ç”¨ä»»æ„å¤šæ¬¡ã€‚ æ€»ç»“å½“å‡½æ•°å¯ä»¥è®°ä½å¹¶è®¿é—®æ‰€åœ¨çš„è¯æ³•ä½œç”¨åŸŸï¼Œå³ä½¿å‡½æ•°æ˜¯åœ¨å½“å‰è¯æ³•ä½œç”¨åŸŸä¹‹å¤–æ‰§è¡Œï¼Œè¿™æ—¶å°±äº§ç”Ÿäº†é—­åŒ…ã€‚ é—­åŒ…ä¹Ÿæ˜¯ä¸€ä¸ªéžå¸¸å¼ºå¤§çš„å·¥å…·ï¼Œå¯ä»¥ç”¨å¤šç§å½¢å¼æ¥å®žçŽ°æ¨¡å—ç­‰æ¨¡å¼ã€‚ æ¨¡å—æœ‰ä¸¤ä¸ªä¸»è¦ç‰¹å¾ï¼š ä¸ºåˆ›å»ºå†…éƒ¨ä½œç”¨åŸŸè€Œè°ƒç”¨äº†ä¸€ä¸ªåŒ…è£…å‡½æ•°ï¼› ï¼ˆ2ï¼‰åŒ…è£…å‡½æ•°çš„è¿”å›žå€¼å¿…é¡»è‡³å°‘åŒ…æ‹¬ä¸€ä¸ªå¯¹å†…éƒ¨å‡½æ•°çš„å¼•ç”¨ï¼Œè¿™æ ·å°±ä¼šåˆ›å»ºæ¶µç›–æ•´ä¸ªåŒ…è£…å‡½æ•°å†…éƒ¨ä½œç”¨åŸŸçš„é—­åŒ…ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[YDKJS-scope2]]></title>
      <url>%2F2017%2F03%2F16%2FYDKJS2-scope2%2F</url>
      <content type="text"><![CDATA[ä»€ä¹ˆæ˜¯è¯æ³•åŒ–å’Œè¯æ³•ä½œç”¨åŸŸï¼Ÿ ä½ çŸ¥é“ä¸ºä»€ä¹ˆä¸æŽ¨è eval(â€¦) å’Œ with å—ï¼Œä»¥åŠè¿™ä¸¤è€…å¦‚ä½•é€ æˆäº†æ€§èƒ½ä¸‹é™çš„ï¼Ÿ ä»€ä¹ˆæ˜¯å‡½æ•°ä½œç”¨åŸŸï¼Ÿ ç§æœ‰å˜é‡æ˜¯æ€Žä¹ˆå®žçŽ°çš„ï¼Ÿ å‘½åç©ºé—´å¦‚ä½•è§„é¿å†²çªï¼ŸåŒ¿åå‡½æ•°çš„å†™æ³•ä»¥åŠæœ‰ç‚¹åœ¨å“ªå„¿ï¼Ÿ ES6åˆæ˜¯å¦‚ä½•å®žçŽ°å—ä½œç”¨åŸŸï¼Œbabel åˆæ˜¯å¦‚ä½•å°†å…¶ç¼–è¯‘æˆå…¼å®¹ES5çš„å‘¢ï¼Ÿ try/catch ä»…ä»…ç”¨æ¥è°ƒè¯•å—ï¼Ÿ è¯æ³•ä½œç”¨åŸŸå›žåˆ°ç¼–è¯‘å™¨å·¥ä½œçš„ç¬¬ä¸€ä¸ªé˜¶æ®µï¼Œå«åšè¯æ³•åŒ–ï¼ˆå•è¯åŒ–ï¼‰ã€‚å³å¯¹æºä»£ç ä¸­çš„å­—ç¬¦è¿›è¡Œæ£€æŸ¥ï¼Œå¦‚æžœæ˜¯æœ‰çŠ¶æ€çš„è§£æžè¿‡ç¨‹ï¼Œè¿˜ä¼šå¯Œè£•å•è¯æ„ä¹‰ã€‚ è¯æ³•ä½œç”¨åŸŸå°±æ˜¯å®šä¹‰åœ¨è¯æ³•é˜¶æ®µï¼ˆæŸ¥æ‰¾æ ‡è¯†ç¬¦ï¼‰çš„ä½œç”¨åŸŸã€‚æ¢å¥è¯è¯´ï¼Œå°±æ˜¯åœ¨ä½ å†™ä»£ç çš„æ—¶å€™ä½ çš„å˜é‡å’Œå—ä½œç”¨åŸŸå†™åœ¨å“ªé‡Œï¼Œå°±å†³å®šäº†è¯æ³•ä½œç”¨åŸŸçš„èŒƒå›´ï¼Œè¿™ä¸€åˆ‡éƒ½æ˜¯å¯ä»¥ä¼°é‡çš„ï¼ˆé‚£ä¹ˆä»€ä¹ˆæ˜¯ä¸å¯é¢„è®¡çš„å‘¢ï¼Ÿï¼‰ï¼Œå› æ­¤åœ¨è¯æ³•åˆ†æžé˜¶æ®µä¼šä¿æŒä½œç”¨åŸŸä¸å˜ã€‚ï¼ˆä¹¦å†™ä½ç½®å†³å®šèŒƒå›´ï¼‰ æŸ¥æ‰¾ï¼Œä½œç”¨åŸŸæŸ¥æ‰¾ä¼šåœ¨æ‰¾åˆ°éƒ½ä¸€ä¸ªåŒ¹é…çš„æ ‡è¯†ç¬¦åœæ­¢ã€‚åœ¨å¤šå±‚åµŒå¥—ä½œç”¨åŸŸä¸­å¯ä»¥å®šä¹‰åŒåçš„æ ‡è¯†ç¬¦ï¼Œè¿™å«åšé®è”½æ•ˆåº”ï¼ˆå†…éƒ¨é®è”½å¤–éƒ¨å”¯ä¸€å—ï¼Ÿï¼‰ï¼ŒæŸ¥æ‰¾ç”±å†…è€Œå¤–ã€‚ å¤‡æ³¨ï¼šå…¨å±€å˜é‡ä¼šè‡ªåŠ¨æˆä¸ºå…¨å±€å¯¹è±¡ï¼ˆwindowã€globalï¼‰çš„å±žæ€§ï¼Œå› æ­¤å¯ä»¥é€šè¿‡å…¨å±€å¯¹è±¡å±žæ€§çš„å¼•ç”¨æ¥è¿›è¡Œè®¿é—®ï¼ˆå¯¹äºŽè¢«é®è”½çš„å˜é‡èƒ½å¤Ÿé€šè¿‡è¿™ç§æ–¹å¼æŸ¥åˆ°ï¼Œä½†æ˜¯ä»…é™äºŽå…¨å±€å˜é‡ï¼Œéžå…¨å±€åˆ™æ˜¯è¢«æ›¿æ¢ï¼‰ã€‚ æ¬ºéª—è¯æ³• eval &amp; with eval: æˆ‘ä»¬ç»å¸¸åŠ¨æ€æ’å…¥ä»£ç ï¼Œè€Œå¼•æ“Žåˆ™ä¼šè®¤ä¸ºè¢« eval æ’å…¥çš„ä»£ç æ‰€å¤„ä½ç½®å°±æ˜¯ eval æ‰€å¤„çš„ä½œç”¨åŸŸï¼Œè¿™å°±å¯¼è‡´äº†è¯¥è¯æ³•ä½œç”¨åŸŸä¼šåœ¨è¿è¡ŒæœŸé—´è¢«ä¿®æ”¹ï¼ˆä¾‹å¦‚å£°æ˜Žå±€éƒ¨å˜é‡å¯¼è‡´å†…å®¹è¢«æ›¿æ¢ç­‰ç­‰ï¼‰ã€‚ withï¼šé€šå¸¸è¢«å½“åšé‡å¤å¼•ç”¨ä¸€ä¸ªå¯¹è±¡ä¸­å¤šä¸ªå±žæ€§çš„å¿«æ·æ–¹å¼ï¼Œé—®é¢˜å°±å‡ºåœ¨è¿™é‡Œï¼Œä¸‡ä¸€é‡Œé¢åŒ…å«äº†è¯æ³•ä½œç”¨åŸŸå†…æ²¡æœ‰çš„å±žæ€§æˆ–å˜é‡ï¼Œé‚£ä¹ˆå°±ä¼šé€ æˆå…¨å±€æ±¡æŸ“ï¼ˆéžä¸¥æ ¼æ¨¡å¼ä¸‹èµ‹å€¼æŸ¥è¯¢çš„å¼Šç«¯ï¼‰ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œwith å¯ä»¥å°†ä¸€ä¸ªæ²¡æœ‰æˆ–è€…æœ‰å¤šä¸ªå±žæ€§çš„å¯¹è±¡å¤„ç†ä¸ºä¸€ä¸ªå®Œå…¨éš”ç¦»çš„è¯æ³•ä½œç”¨åŸŸï¼ŒåŒæ—¶å°†è¯¥å¯¹è±¡çš„å±žæ€§å®šä¹‰ä¸ºè¯æ³•ä½œç”¨åŸŸçš„è¯æ³•æ ‡è¯†ç¬¦ã€‚ è¿™ä¸¤ç§æ–¹å¼éƒ½ä¼šé€ æˆè¯æ³•è§£æžè¿‡ç¨‹çš„ä¸ç¡®å®šæ€§ï¼Œå› ä¸ºæ— æ³•å¯¹ä½œç”¨åŸŸæŸ¥æ‰¾è¿›è¡Œä¼˜åŒ–ï¼Œå¼•æ“Žä¼šè®¤ä¸ºæˆ‘åšçš„è¿™äº›éƒ½æ˜¯ç™½åšçš„ï¼Œæœ€ç»ˆçš„ç»“æžœå°±æ˜¯æ€§èƒ½çš„ä¸¥é‡ä¸‹é™ï¼Œç”šè‡³æ˜¯å¸¦æ¥å®‰å…¨çš„éšæ‚£ã€‚ å¥½æ¶ˆæ¯æ˜¯ï¼šä¸¥æ ¼æ¨¡å¼ä¸‹ä¸¤è€…éƒ½è¢«ç¦ç”¨äº†ã€‚ å‡½æ•°ä½œç”¨åŸŸå’Œå—ä½œç”¨åŸŸè¯·æŠŠä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸæƒ³è±¡æˆä¸€ä¸ªæ°”æ³¡ï¼ˆè™½ç„¶ä¸åˆç†ï¼‰ å‡½æ•°ä¸­çš„ä½œç”¨åŸŸ å±žäºŽè¿™ä¸ªå‡½æ•°çš„å…¨éƒ¨å˜é‡éƒ½å¯ä»¥åœ¨æ•´ä¸ªå‡½æ•°çš„èŒƒå›´å†…ä½¿ç”¨ä»¥åŠå¤ç”¨ï¼ˆå®žé™…åœ¨åµŒå¥—çš„ä½œç”¨åŸŸä¸­ä¹Ÿå¯ä»¥è®¿é—®ï¼‰ã€‚è¿™æ ·çš„è®¾è®¡æ–¹æ¡ˆï¼Œå……åˆ†åˆ©ç”¨äº† JavaScript å˜é‡å¯æ ¹æ®éœ€è¦æ”¹å˜å€¼ç±»åž‹çš„â€˜åŠ¨æ€â€™ç‰¹æ€§ã€‚ä¸Žæ­¤åŒæ—¶ï¼Œæ„å‘³ç€å…¨å±€å˜é‡éšæ—¶éƒ½èƒ½è¢«ä»»æ„ä½ç½®è®¿é—®ï¼Œè¿™å°±ä¼šå¸¦æ¥æ„æƒ³ä¸åˆ°çš„ç»“æžœã€‚ éšè—å†…éƒ¨å®žçŽ° 123456789101112function doSomething(a) &#123; b = a + doSomethingElse( a * 2 ); console.log( b * 3ï¼‰ï¼›&#125;function doSomethingElse(a) &#123; return a - 1;&#125;var b;doSomething( 2 ); // 15 è¿™æ˜¯ä¸€æ®µåŽŸæ–‡ä¸­çš„ä¾‹å­ï¼Œb å’Œ doSomethingElse æœ¬è¯¥æ˜¯ doSomething çš„å†…éƒ¨å®žçŽ°ï¼Œç„¶åŽå› ä¸ºå†™åœ¨å‡½æ•°å¤–éƒ¨ï¼Œä½¿å¾—å¤–éƒ¨ä½œç”¨åŸŸæ‹¥æœ‰â€˜è®¿é—®æƒé™â€™ï¼Œä¸€æ—¦è¢«ä¿®æ”¹ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æ— æ³•ä»Ž doSomething å¾—åˆ°æˆ‘ä»¬é¢„æœŸæƒ³è¦çš„ç»“æžœã€‚è¿™å°±æ˜¯ä¸ºä½•éœ€è¦éšè—ï¼ å…ˆå£°æ˜Žå‡½æ•°ï¼Œç„¶åŽåœ¨é‡Œé¢å†™ä»£ç æ˜¯ä¼ ç»Ÿçš„æ€ç»´ã€‚åè¿‡æ¥æ€è€ƒï¼Œå°†ä¸€æ®µä»£ç æŒ‘é€‰å‡ºæ¥ï¼Œç”¨å‡½æ•°å£°æ˜Žå¯¹å…¶è¿›è¡ŒåŒ…è£…ï¼Œå®žé™…ä¸Šå°±ç›¸å½“äºŽå°†ä»£ç éšè—äº†ã€‚äºŽæ˜¯å°±åœ¨è¿™ä¸ªä»£ç ç‰‡æ®µå‘¨å›´æ–°å»ºäº†ä¸€ä¸ªä½œç”¨åŸŸæ°”æ³¡ã€‚ï¼ˆç”¨ä½œç”¨åŸŸåŽ»éšè—ä¸€æ®µä»£ç ï¼Œä¸ºä»€ä¹ˆè¦éšè—ï¼Ÿï¼‰ è½¯ä»¶è®¾è®¡çš„æœ€å°æŽˆæƒæˆ–æœ€å°æš´éœ²åŽŸåˆ™ï¼ŒæŒ‡çš„æ˜¯æœ€å°é™åº¦åœ°æš´éœ²å¿…è¦å†…å®¹ï¼Œè€Œå°†å…¶ä»–å†…å®¹éƒ½â€˜éšè—â€™èµ·æ¥ï¼Œæ¯”å¦‚æŸä¸ªæ¨¡å—æˆ–å¯¹è±¡çš„ API è®¾è®¡ã€‚é˜»æ­¢éƒ¨åˆ†è®¿é—®ï¼Œå®žçŽ°å˜é‡æˆ–å‡½æ•°çš„ç§æœ‰ã€‚ è§„é¿å†²çª 12345678910111213function foo() &#123; function bar(a) &#123; i = 3; //ä¿®æ”¹äº† for å¾ªçŽ¯æ‰€å±žä½œç”¨åŸŸä¸­çš„ i console.log( a + i ); // a ä¸º8ï¼Œæ‰€ä»¥è¾“å‡º 11ï¼Œä½†æ˜¯ i è¿˜æ˜¯ä¸º3 &lt; 10 &#125; for (var i=0; i&lt;10; i++) &#123; console.log(i); // 3 + 1 = 4 bar( i * 2); //ç³Ÿç³•ï¼Œæ— é™å¾ªçŽ¯äº†ï¼å› ä¸ºå£°æ˜Žä¼šæå‰ï¼Œèµ‹å€¼æ˜¯è¿è¡Œåˆ°å“ªå„¿æ‰ä¼šæ‰§è¡Œå“ªå„¿ &#125;&#125;foo() // æ—¥å¿—æ‰“å°(4 11)æ— é™å¾ªçŽ¯; çœ‹ä¸Šé¢çš„ä¾‹å­ï¼Œå› ä¸º bar å‡½æ•°å†…éƒ¨å¿˜è®°å£°æ˜Žå˜é‡ iï¼ˆéšè—ï¼‰ï¼Œå¯¼è‡´å…¨å±€åˆ›å»ºäº† i å˜é‡ï¼Œä»¥è‡´äºŽæ±¡æŸ“äº† for å¾ªçŽ¯ï¼ˆå¾ªçŽ¯å†…var ä¼šæåˆ° fooçš„é¡¶éƒ¨ï¼Œåœ¨æ‰§è¡Œ bar æ—¶ i è¢«èµ‹å€¼ï¼Œæ‰€ä»¥ i å§‹ç»ˆä¸º 3ï¼‰ã€‚ å‰é¢æˆ‘ä»¬æè¿‡â€˜é®è”½æ•ˆåº”â€™ï¼Œâ€˜éšè—â€™ä½œç”¨åŸŸä¸­çš„å˜é‡å’Œå‡½æ•°å¸¦æ¥çš„å¥½å¤„å°±æ˜¯å¯ä»¥é¿å…åŒåæ ‡è¯†ç¬¦ä¹‹é—´çš„å†²çªã€‚ å…¨å±€å‘½åç©ºé—´ï¼šç¬¬ä¸‰æ–¹åº“åœ¨å®žçŽ°è¿‡ç¨‹ä¸­å¦‚æžœæ²¡æœ‰å¦¥å–„åœ°å°†å†…éƒ¨ç§æœ‰å‡½æ•°å’Œå˜é‡éšè—èµ·æ¥ï¼Œé‚£ä¹ˆå°±æžæ˜“å¼•å‘å†²çªï¼ˆjQuery çš„å®žçŽ°ï¼Œ$/jquery çš„ä½¿ç”¨ï¼‰ã€‚ æ¨¡å—ç®¡ç†ï¼šçŽ°ä»£çš„æ¨¡å—æœºåˆ¶ï¼Œä½¿ç”¨è¿™äº›å·¥å…·ï¼Œä»»ä½•åº“éƒ½æ— éœ€å°†æ ‡è¯†ç¬¦åŠ å…¥åˆ°å…¨å±€ä½œç”¨åŸŸä¸­ï¼Œè€Œæ˜¯é€šè¿‡ä¾èµ–ç®¡ç†å™¨çš„æœºåˆ¶å°†åº“çš„æ ‡è¯†ç¬¦æ˜¾å¼å¯¼å…¥åˆ°å¦å¤–ä¸€ä¸ªç‰¹å®šçš„ä½œç”¨åŸŸä¸­ï¼ˆwebpack å°±æ˜¯ä¸€ä¸ªæ¨¡å—åŒ–æ‰“åŒ…å·¥å…·ï¼Œrequire/AMD/ES6 moudle æ˜¯è§„èŒƒï¼‰ã€‚ å‡½æ•°ä½œç”¨åŸŸ ä¸Šé¢æˆ‘ä»¬æåˆ°å¦‚ä½•éšè—å†…éƒ¨å®žçŽ°ï¼Œé€šè¿‡åŒ…è£…å‡½æ•°æ¥è®²å˜é‡æˆ–è€…å‡½æ•°éšè—èµ·æ¥ï¼Œä½†æ˜¯è¿™ä»æ—§ä¼šç”Ÿæˆä¸€äº›å…·åå‡½æ•°ï¼ˆæ¯”å¦‚ foo()ï¼‰ï¼Œè¿™å°±æ„å‘³ç€ foo è¿™ä¸ªåå­—æœ¬èº«â€˜æ±¡æŸ“â€™äº†å½“å‰ä½œç”¨åŸŸã€‚12345678(function foo() &#123; // &lt;-- æ³¨æ„å¼€å¤´ ï¼ˆfunction... var a = 3; console.log(a); // 3&#125;)(); // &lt;-- æ³¨æ„ç»“å°¾ ...)()console.log( a ); //Uncaught ReferenceError: a is not defined å¯ä»¥çœ‹åˆ°å¤–éƒ¨æ— æ³•è®¿é—®åˆ° a å˜é‡ã€‚ è¯¥åŒ…è£…å‡½æ•°å£°æ˜Žä»¥ï¼ˆfunctionâ€¦ è€Œä¸æ˜¯ä»¥ functionâ€¦ å¼€å§‹ï¼Œå‡½æ•°ä¼šè¢«å½“åšå‡½æ•°è¡¨è¾¾å¼è€Œä¸æ˜¯ä¸€ä¸ªæ ‡å‡†çš„å‡½æ•°å£°æ˜Žæ¥å¤„ç†ã€‚ !important &gt;&gt;&gt; åŒºåˆ†å‡½æ•°å£°æ˜Žå’Œè¡¨è¾¾å¼æœ€ç®€å•çš„æ–¹æ³•æ˜¯çœ‹ function å…³é”®å­—å‡ºçŽ°çš„ä½ç½®ï¼ˆä¸ä»…ä»…æ˜¯ä¸€è¡Œä»£ç ï¼Œè€Œæ˜¯æ•´ä¸ªå£°æ˜Žä¸­çš„ä½ç½®ï¼‰ã€‚å¦‚æžœ function æ˜¯å£°æ˜Žä¸­çš„ç¬¬ä¸€ä¸ªè¯ï¼Œé‚£ä¹ˆå°±æ˜¯ä¸€ä¸ªå‡½æ•°å£°æ˜Žï¼Œå¦åˆ™å°±æ˜¯ä¸€ä¸ªå‡½æ•°è¡¨è¾¾å¼ã€‚(function foo() { .. }) ä½œä¸ºå‡½æ•°è¡¨è¾¾å¼æ„å‘³ç€ï¼Œfoo åªèƒ½åœ¨ .. æ‰€ä»£è¡¨çš„ä½ç½®ä¸­è¢«è®¿é—®ï¼Œå¤–éƒ¨ä½œç”¨åŸŸä½œä¸ºæ— æ³•è®¿é—®ï¼Œä¹Ÿå°±ä¸ä¼šéžå¿…è¦çš„æ±¡æŸ“å¤–éƒ¨ä½œç”¨åŸŸã€‚ åŒ¿åå’Œå…·å æ¥çœ‹ä¸€ä¸ªç†Ÿæ‚‰çš„åœºæ™¯ï¼š123setTimeout( function() &#123; console.log('blablabla')&#125;, 1000); è¿™ä¸ªå«åšåŒ¿åå‡½æ•°è¡¨è¾¾å¼ï¼Œå› ä¸º function() {} æ²¡æœ‰å‡½æ•°åï¼Œä¹Ÿå°±æ˜¯åç§°æ ‡è¯†ç¬¦ã€‚å‡½æ•°è¡¨è¾¾å¼å¯ä»¥åŒ¿åï¼Œä½†æ˜¯å‡½æ•°å£°æ˜Žåˆ™ä¸å¯ä»¥çœç•¥å‡½æ•°åâ€”â€”â€”â€”éžæ³•æ“ä½œã€‚ åŒ¿åå‡½æ•°è¡¨è¾¾å¼çš„ç¼ºç‚¹ï¼š åŒ¿åå‡½æ•°åœ¨æ ˆè¿½è¸ªä¸ä¼šæ˜¾ç¤ºå‡ºæœ‰æ„ä¹‰çš„å‡½æ•°åï¼Œä½¿å¾—è°ƒè¯•å¾ˆå›°éš¾ã€‚ æ²¡æœ‰å‡½æ•°åï¼Œå½“éœ€è¦è¿›è¡Œå¼•ç”¨çš„æ—¶å€™åªèƒ½ç”¨ è¿‡æœŸçš„ arguments.callee å¼•ç”¨ï¼Œä¾‹å¦‚é€’å½’ï¼Œä¾‹å¦‚äº‹ä»¶è§¦å‘ä¹‹åŽè§£é™¤ç›‘å¬ã€‚ åŒ¿åå‡½æ•°çœç•¥äº†å‡½æ•°åï¼Œä»£ç å¯è¯»æ€§å˜å·®ã€‚ è§£å†³åŠžæ³•ï¼šè¡Œå†…å‡½æ•°è¡¨è¾¾å¼â€”â€”â€”â€”åŒ¿åå’Œå…·åéƒ½å¯¹æ­¤æ— å½±å“ï¼Œè§£å†³äº†ä¸Šè¿°é—®é¢˜ï¼›1234// æœ€ä½³å®žè·µsetTimeout( function timeoutHandler() &#123; console.log('blablabla')&#125;, 1000); ç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼ å‡½æ•°å†™åœ¨æ‹¬å·å†…å˜æˆäº†ä¸€ä¸ªå‡½æ•°è¡¨è¾¾å¼ï¼Œé‚£ä¹ˆåœ¨åŽé¢åŠ ä¸€å¯¹æ‹¬å·ï¼Œå°±å¯ä»¥ç«‹å³æ‰§è¡Œè¿™ä¸ªå‡½æ•°ã€‚ IIFEï¼šï¼ˆImmediately Invoked Function Expressionï¼‰ç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼ 12345var a = 3;(function IIFE(a) &#123; console.log(a); &#125;)(2);console.log(a); // 3 å¦å¤–ä¸€ç§å†™æ³•ï¼ŒåŠŸèƒ½ä¸Šä¸€è‡´ï¼Œä»»å‡­å–œå¥½ï¼š12345var a = 3;(function IIFE(a) &#123; console.log(a); &#125;(2));console.log(a); // 3 IIFE ç”¨æ³•è¿›é˜¶ï¼š 1234567891011var a = 2;(function (global) &#123; var a = 3; console.log(a); //3 console.log(global.a); // 2 &#125;)(window);console.log(a); // 2 å¯ä»¥å¸®åŠ©ä½ æ”¹è¿›ä»£ç é£Žæ ¼ï¼Œä½¿å¾—å¯¹å…¨å±€å¯¹è±¡çš„å¼•ç”¨å˜å¾—æ¯”å¼•ç”¨ä¸€ä¸ªæ²¡æœ‰â€˜å…¨å±€â€™èµ„æºçš„å˜é‡æ›´åŠ æ¸…æ™°ï¼ˆglobal.a å¾ˆæ˜Žæ˜¾æ˜¯å…¨å±€å˜é‡ï¼‰ã€‚ è¿˜æœ‰ä¸€ç§å¸¸è§çš„æ¨¡å¼ï¼Œå°±æ˜¯å‚æ•°é»˜è®¤ä¸º undefined 1234567891011undefined = true; // è¿™é‡Œæœ‰å‘(function IIFE( undefined ) &#123; var a; if (a === undefined) &#123; console.log("Undefined is safe here") &#125; &#125;)(); ç›®çš„æ˜¯ä¸ºäº†è§£å†³ undefined æ ‡è¯†ç¬¦çš„é»˜è®¤å€¼è¢«é”™è¯¯è¦†ç›–å¯¼è‡´çš„å¼‚å¸¸ï¼Œè¿™æ ·çš„è¯å³ä½¿åœ¨å¯¹äºŽä½ç½®ä¸ä¼ å…¥ä»»ä½•å€¼ï¼Œå†…éƒ¨çš„ undefined è¿˜æ˜¯ undefinedã€‚ IIFE å€’ç½®ä»£ç è¿è¡Œé¡ºåºçš„ç”¨æ³•ï¼ˆå¹¿æ³›ç”¨äºŽ UMD é¡¹ç›®ï¼Œå…¶å®žçœ‹å®Œä¼šå‘çŽ°å‡½æ•°è¡¨è¾¾å¼å†…éƒ¨ä¼šæœ‰ä¸€æ¬¡è°ƒç”¨å‚æ•°ï¼ˆè¿™é‡Œæ˜¯ä¼ å…¥è¿›åŽ»çš„å‡½æ•°ï¼‰çš„è¿‡ç¨‹ï¼Œå‚æ•°ï¼ˆå‡½æ•°ï¼‰ä¼šåœ¨è¿™é‡Œæ‰§è¡Œï¼‰ï¼š 1234567891011121314151617181920212223var a = 2;console.log('one step');(function IIFE( def ) &#123; console.log('two step'); def( window ); console.log('three step');&#125;)(function def( global ) &#123; console.log('four step'); var a = 3; console.log( a ); // 3 console.log( global.a ); // 2 console.log('five step');&#125;);// one step// two step// four step// 3// 2// five step// three step è¿™é‡Œè®©æˆ‘æƒ³åˆ°äº†ä¸€ä¸ªé—®é¢˜ï¼Œæ“ä½œç¬¦çš„ä¼˜å…ˆçº§ã€‚MDN ä¸Šæœ‰ä»‹ç»ã€‚ å‡½æ•°è¡¨è¾¾å¼ def å®šä¹‰åœ¨ç‰‡æ®µçš„ç¬¬äºŒéƒ¨åˆ†ï¼Œç„¶åŽå½“åšå‚æ•°ï¼ˆè¿™ä¸ªå‚æ•°ä¹Ÿå«åš def ï¼‰è¢«ä¼ è¿› IIFE å‡½æ•°å®šä¹‰çš„ç¬¬ä¸€éƒ¨åˆ†ä¸­ã€‚æœ€åŽï¼Œå‚æ•° def ï¼ˆä¹Ÿå°±æ˜¯ä¼ è¿›åŽ»çš„å‡½æ•°ï¼‰è¢«è°ƒç”¨ï¼Œå¹¶å°† window ä¼ å…¥å½“åš global å‚æ•°çš„å€¼ã€‚ å—ä½œç”¨åŸŸ å‡½æ•°ä½œç”¨åŸŸæ˜¯ JS ä¸­æœ€æ™®éçš„ä½œç”¨åŸŸå•å…ƒï¼Œä½†æ˜¯å…¶ä»–ç±»åž‹ä¹Ÿæ˜¯å­˜åœ¨çš„ï¼Œè€Œä¸”å®žçŽ°ç»´æŠ¤èµ·æ¥å¯ä»¥æ›´åŠ ä¼˜ç§€å’Œç®€æ´ã€‚ ä¸»è¦ä½¿ç”¨ JavaScript å¼€å‘çš„ä¼šå¯¹å—ä½œç”¨åŸŸå¾ˆé™Œç”Ÿï¼ˆéžå¸¸èµžåŒï¼Œä»¥å‰ç”šè‡³æ²¡æœ‰å¬è¿‡ï¼‰ çœ‹ä¸ªä¾‹å­å§ï¼š 1234for (var i=0; i&lt;10; i++) &#123; console.log( i );&#125;//ä½ å±…ç„¶å’Œæˆ‘è¯´è¿™ä¸ªå°±æ˜¯å—ä½œç”¨åŸŸï¼Ÿ é€šå¸¸æˆ‘ä»¬åœ¨ for å¾ªçŽ¯å¤´éƒ¨å®šä¹‰å˜é‡ iï¼Œäº‹å®žä¸Šï¼Œæˆ‘ä»¬åªæƒ³åœ¨ for å¾ªçŽ¯å†…éƒ¨çš„ä¸Šä¸‹æ–‡ä½¿ç”¨å®ƒï¼ˆæ²¡é”™=ã€‚=ï¼‰ï¼Œè€Œå¿½ç•¥äº† i ä¼šè¢«ç»‘å®šåœ¨å¤–éƒ¨ä½œç”¨åŸŸï¼ˆå‡½æ•°æˆ–è€…å…¨å±€ï¼‰çš„äº‹å®žï¼ˆæ„æ€å°±æ˜¯ for å¾ªçŽ¯ä¸ä¼šåƒå‡½æ•°é‚£æ ·ç”Ÿæˆä½œç”¨åŸŸæ°”æ³¡ï¼‰ã€‚ å†çœ‹ä¸€ä¸ªä¾‹å­ï¼š 1234567var foo = true;if (foo)&#123; var bar = foo * 2; bar = something( bar ); console.log( bar );&#125; åŒæ ·æ˜¯ if æ¡ä»¶ï¼ŒåŒæ ·ä¸ä¼šç”Ÿæˆä½œç”¨åŸŸæ°”æ³¡ï¼Œé‚£ä¹ˆä½ åœ¨é‡Œé¢ä½¿ç”¨ varï¼Œbar æœ€ç»ˆè¿˜æ˜¯å±žäºŽå¤–éƒ¨ä½œç”¨åŸŸã€‚è¿™æ®µä»£ç åªæ˜¯ä¸ºäº†å¯è¯»æ€§è€Œå¯ä»¥ä¼ªè£…å‡ºçš„å½¢å¼ä¸Šçš„å—ä½œç”¨åŸŸï¼Œå¦‚æžœç”¨äº†ï¼Œè¦ç¡®ä¿æ²¡åœ¨å…¶ä»–åœ°æ–¹ä½¿ç”¨ bar åªèƒ½é è‡ªè§‰ï¼Œè¿™æ˜¯ä¸å¯å–çš„ã€‚ with with å…¶å®žå°±æ˜¯ä¸€ä¸ªå—å·¦å³çš„ä¾‹å­ï¼Œå› ä¸ºä»–ä¼šå•ç‹¬ç”Ÿæˆä¸€ä¸ªä½œç”¨åŸŸæ°”æ³¡ï¼Œè€Œä¸”ç”¨ with å¯¹è±¡åˆ›å»ºå‡ºçš„ä½œç”¨åŸŸä»…åœ¨ with å£°æ˜Žä¸­è€Œéžå¤–éƒ¨ä½œç”¨åŸŸä¸­æœ‰æ•ˆã€‚ try/catch å¾ˆå°‘äººçŸ¥é“ JavaScript çš„ ES3 è§„èŒƒä¸­è§„å®š try/catch çš„ catch åˆ†å±€ä¼šåˆ›å»ºä¸€ä¸ªå—ä½œç”¨åŸŸã€‚ï¼ˆæˆ‘è®¤ä¸ºæœ¬ä¹¦ä½œè€…ç‰›çš„åœ°æ–¹å°±åœ¨è¿™é‡Œï¼ŒçœŸçš„å¸¦ä½ åŽ»äº†è§£ä»»ç£äºŒè„‰ï¼‰ 12345678910try &#123; undefined(); //æ‰§è¡Œä¸€ä¸ªéžæ³•æ“ä½œæ¥å¼ºåˆ¶åˆ¶é€ ä¸€ä¸ªé”™è¯¯ err ç”¨ undefined();&#125;catch( err ) &#123; console.log( err ); // TypeError: undefined is not a function&#125;console.log( err ); // ReferenceError: err is not defined æˆ‘ä»¬å¯ä»¥çœ‹åˆ° err ä»…åœ¨ catch å†…éƒ¨å¯ä»¥è¢«è®¿é—®ï¼Œè€Œåœ¨å¤–éƒ¨æ— æ³•èŽ·å¾— undefined(); æ¥å¼ºåˆ¶ç”Ÿæˆé”™è¯¯catch( err ){â€¦}; æ¥æ•èŽ·é”™è¯¯ä¿¡æ¯è¿™ä¸ªè¡Œä¸ºå·²ç»è¢«æ ‡å‡†åŒ–ï¼Œé™¤äº†IEå…¶ä»–æµè§ˆå™¨å¤§éƒ¨åˆ†éƒ½å·²å®žçŽ°ã€‚ä½†æ˜¯å½“ç”¨ä¸€ä¸ªä½œç”¨åŸŸä¸­çš„ä¸¤ä¸ªæˆ–è€…å¤šä¸ª catch åˆ†å¥ç”¨åŒæ ·çš„æ ‡è¯†ç¬¦åç§°å£°æ˜Žé”™è¯¯å˜æ—¶ï¼Œå¾ˆå¤šé™æ€æ£€æŸ¥å·¥å…·ä¼šå‘å‡ºè­¦å‘Šã€‚å®žé™…ä¸Šæˆ‘ä»¬çŸ¥é“å› ä¸º catch å®žé™…ä¸Šæ˜¯å—ä½œç”¨åŸŸï¼Œæ‰€ä»¥å¹¶ä¸æ˜¯é‡å¤å®šä¹‰å˜é‡ï¼Œå› ä¸ºæ‰€ä»¥å¾—å˜é‡éƒ½è¢«å®‰å…¨çš„é™åˆ¶åœ¨ catch å—ä½œç”¨åŸŸå†…éƒ¨ã€‚æ‰€ä»¥æœ‰äººä¼šå‘½å err1ï¼Œerr2 ç­‰ç­‰ï¼Œæœ‰äººåˆ™ç›´æŽ¥å…³é—­é™æ€æ£€æŸ¥å·¥å…·å¯¹é‡å¤å˜é‡åçš„æ£€æŸ¥ã€‚è¿™ä¸ªå…¶å®žå¾ˆæœ‰ç”¨ï¼Œå› ä¸ºèƒ½å¤Ÿå¸®åŠ©äººä»¬å°† ES6 çš„ä¸€äº›æ–°ç‰¹æ€§ç¼–è¯‘æˆèƒ½å¤Ÿå…¼å®¹ ES5 çš„ä»£ç ã€‚ let ä½œä¸šå°±æ˜¯å°†å˜é‡ç»‘å®šåœ¨ {â€¦} å†…éƒ¨ï¼ŒåŒæ„ if å’Œ for è¿™äº›ä¸ä¼šç”Ÿæˆä½œç”¨åŸŸæ°”æ³¡çš„æ¡ä»¶è¯­å¥ä¹Ÿèƒ½å¤Ÿæ‹¥æœ‰è‡ªå·±ç§æœ‰çš„å˜é‡äº†ã€‚ï¼ˆæƒ³æƒ³è¿˜çœŸæ˜¯è®°å¾—(â‰§â–½â‰¦)/ï¼ï¼‰ åŒæ ·é“ç†ï¼Œç›´æŽ¥å°† let å†™åœ¨ {â€¦} å†…éƒ¨ä¼šéšå¼çš„å°†å˜é‡é™„åŠ åœ¨ä¸€ä¸ªå—ä½œç”¨åŸŸä¸Šï¼Œå¦‚æžœæ²¡æœ‰å¯†åˆ‡å…³æ³¨ï¼Œä»æ—§ä¹ æƒ¯æ€§çš„ç§»åŠ¨å°±ä¼šå¯¼è‡´ä»£ç æ··ä¹±ã€‚è§£å†³åŠžæ³•å°±æ˜¯è®¤ä¸ºæ·»åŠ ä¸€ä¸ªæ˜¾å¼çš„å—ï¼š 123456789if foo &#123; &#123; // &lt;-- æ˜¾å¼çš„å— let bar = foo * 2; bar = something( bar ); console.log( bar ); &#125;&#125;console.log( bar ); // ReferenceError åžƒåœ¾å›žæ”¶ å—ä½œç”¨åŸŸéžå¸¸æœ‰ç”¨ï¼Œè¿™ç‰µæ‰¯åˆ°é—­åŒ…çš„åžƒåœ¾å›žæ”¶æœºåˆ¶ç›¸å…³ã€‚ è¿™é‡Œç•™ä¸€ä¸ªç–‘é—®ï¼Ÿä¸ºä»€ä¹ˆé—­åŒ…ä¼šå¯¼è‡´åžƒåœ¾æ— æ³•åŠæ—¶å›žæ”¶å‘¢ï¼Ÿä½¿ç”¨å—ä½œç”¨åŸŸï¼Œèƒ½æ¸…æ¥šçš„å‘ŠçŸ¥ JS å¼•æ“Žï¼Œé‚£äº›å˜é‡æ˜¯ä½¿ç”¨ä¸€æ¬¡åŽä¸å†è¢«ä½¿ç”¨çš„ã€‚ let å¾ªçŽ¯ 12345for (let i=0; i&lt;10; i++) &#123; console.log( i ); // 1 2 3 4 5 6 7 8 9&#125;console.log( i ); // ReferenceError let åœ¨ for å¾ªçŽ¯ä¸­çš„ä½¿ç”¨ï¼Œå®žé™…ä¸Šæ˜¯å°† i ç»‘å®šåˆ°äº† for å¾ªçŽ¯çš„å—ä¸­ï¼Œè€Œä¸”æ˜¯ç»‘å®šåˆ°å…·ä½“æ¯ä¸€æ¬¡å¾ªçŽ¯è¿­ä»£ï¼Œç¡®ä¿ä½¿ç”¨ä¸Šä¸€ä¸ªå¾ªçŽ¯è¿­ä»£ç»“æŸæ—¶çš„å€¼é‡æ–°è¿›è¡Œèµ‹å€¼ã€‚ 12345678&#123; let j; for (let j=0; j&lt;10; j++) &#123; let i = j; console.log( i ); // 0 1 2 3 4 5 6 7 8 9 &#125;&#125;;console.log( j ); // RefeerenceError const const åŒæ ·ç”¨æ¥å¯ä»¥åˆ›å»ºä½œç”¨åŸŸå˜é‡ï¼Œä½†æ˜¯å…¶å€¼ä¸ºå›ºå®šçš„ï¼ˆå¸¸é‡â€“&gt;å¦‚æžœæ˜¯å¯¹è±¡ï¼Œé‚£ä¹ˆå›ºå®šçš„æ˜¯å…¶å¼•ç”¨åœ°å€ï¼‰ã€‚ä¹‹åŽä»»ä½•ä¿®æ”¹éƒ½ä¼šå¼•èµ·é”™è¯¯ æ€»ç»“ï¼šå‡½æ•°æ˜¯ JavaScript ä¸­æœ€å¸¸ç”¨çš„ä½œç”¨åŸŸå•å…ƒï¼Œé»˜è®¤å£°æ˜Žåœ¨ä¸€ä¸ªå‡½æ•°å†…éƒ¨çš„å˜é‡ä¼šè¢«éšè—ï¼Œè¿™æ˜¯åˆ»æ„ä¸ºä¹‹çš„è½¯ä»¶è®¾è®¡åŽŸåˆ™ã€‚ä½†æ˜¯å‡½æ•°å¹¶ä¸æ˜¯å”¯ä¸€çš„ä½œç”¨åŸŸå•å…ƒã€‚å—ä½œç”¨åŸŸæ˜¯æŒ‡çš„å˜é‡å’Œå‡½æ•°ä¸ä»…å¯ä»¥å±žäºŽæ‰€å¤„çš„ä½œç”¨åŸŸï¼Œä¹Ÿå¯ä»¥å±žäºŽæŸä¸ªä»£ç å—ï¼ˆé€šå¸¸æŒ‡{â€¦}å†…éƒ¨,æƒ³æƒ³å‘½åç©ºé—´å•Šéªšå¹´ï¼‰ã€‚ä»Ž ES3 å¼€å§‹ï¼Œtry/catch ç»“æž„åœ¨ catch åˆ†å±€ä¸­å…·æœ‰å—ä½œç”¨åŸŸã€‚ES6 å¼•å…¥äº† let å…³é”®å­—ï¼ˆvar çš„äº²æˆšï¼‰ï¼Œç”¨æ¥åœ¨ä»»æ„ä»£ç å—ä¸­å£°æ˜Žå˜é‡ã€‚å—ä½œç”¨åŸŸçš„å‡ºçŽ°ä¸ä»…ä»…æ˜¯å‡½æ•°ä½œç”¨åŸŸçš„æ›¿ä»£æ–¹æ¡ˆï¼Œèƒ½ä¸ºæˆ‘æ‰€ç”¨å°±å¥½ã€‚ï¼ˆå·¥å…·ä¹Ÿæ˜¯ï¼Œä¸è¦çº ç»“sublimeè¿˜æ˜¯atomè¿˜æ˜¯vscodeï¼Œè™½ç„¶æˆ‘æœ€é’çä¸¤è¾¹ï¼ðŸ™ƒï¼‰]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[YDKJS-scope]]></title>
      <url>%2F2017%2F03%2F14%2FYDKJS1-scope%2F</url>
      <content type="text"><![CDATA[ã€Šä½ ä¸çŸ¥é“çš„ JavaScriptã€‹ï¼Œé‡è§ä½ è¿˜ä¸å¤ªæ™šï¼ ä½œç”¨åŸŸ ç¼–è¯‘åŽŸç† â€œåŠ¨æ€â€ï¼Œâ€œè§£é‡Šæ‰§è¡Œâ€æ¯ä¸ªäººéƒ½çŸ¥é“ï¼Œä½†ã€Šæœ¬ä¹¦ã€‹è®¤ä¸ºå…¶å®žä¸ºä¸€é—¨ç¼–è¯‘è¯­è¨€ï¼ˆå®ƒä¸æ˜¯æå‰ç¼–è¯‘çš„ï¼Œç¼–è¯‘ç»“æžœä¹Ÿä¸èƒ½åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­è¿›è¡Œç§»æ¤ï¼‰ã€‚ ä¸€èˆ¬çš„ç¼–è¯‘å™¨ï¼Œå…¶ä¸€æ®µæºä»£ç æ‰§è¡Œå‰ç»åŽ†ä»¥ä¸‹ä¸‰æ­¥ï¼š åˆ†è¯/è¯æ³•åˆ†æžï¼ˆTokenizing/Lexingï¼‰ è§£æž/è¯­æ³•åˆ†æžï¼ˆParsing Abstract Syntax Treeï¼Œâ€œæŠ½è±¡è¯­æ³•æ ‘â€ï¼‰ ä»£ç ç”Ÿæˆï¼ˆå°† AST è½¬æ¢ä¸ºå¯æ‰§è¡Œçš„ä»£ç ï¼‰ ç„¶è€Œ JavaScript å¼•æ“Žè¦å¤æ‚çš„å¤šï¼Œä¾‹å¦‚åœ¨è¯­æ³•åˆ†æžå’Œä»£ç ç”Ÿæˆé˜¶æ®µæœ‰ç‰¹å®šçš„æ­¥éª¤æ¥å¯¹è¿è¡Œæ€§èƒ½è¿›è¡Œä¼˜åŒ–ï¼Œå¯¹å†—ä½™å…ƒç´ è¿›è¡Œä¼˜åŒ–ã€‚å¤§éƒ¨åˆ†æƒ…å†µä¸‹ç¼–è¯‘å‘ç”Ÿåœ¨æ‰§è¡Œå‰çš„å‡ å¾®ç§’ã€‚åœ¨ä½œç”¨åŸŸèƒŒåŽï¼ŒJavaScript å¼•æ“Žä½¿ç”¨äº†å„ç§æ–¹æ³•ï¼ˆJITï¼Œå»¶è¿Ÿç¼–è¯‘ç”šè‡³é‡ç¼–è¯‘ï¼‰æ¥ä¿è¯æ€§èƒ½æœ€ä½³ã€‚ ç†è§£ä½œç”¨åŸŸ å¤„ç†ç¨‹åºçš„è§’è‰²ä»¬ï¼š å¼•æ“Žï¼šè´Ÿè´£JSç¨‹åºç¼–è¯‘ä»¥åŠæ‰§è¡Œ ç¼–è¯‘å™¨ï¼šè´Ÿè´£è¯­æ³•åˆ†æžä»¥åŠä»£ç ç”Ÿæˆ ä½œç”¨åŸŸï¼šæ”¶é›†å¹¶ç»´æŠ¤ç”±æ‰€æœ‰å£°æ˜Žçš„æ ‡è¯†ç¬¦ç»„æˆçš„ä¸€ç³»åˆ—æŸ¥è¯¢ï¼Œå¹¶å®žæ–½ä¸€å¥—ä¸¥æ ¼çš„è§„åˆ™ä»¥ç¡®ç«‹è®¿é—®æƒé™ å¯¹è¯æ¨¡æ‹Ÿï¼š å˜é‡çš„èµ‹å€¼æ“ä½œè¿‡ç¨‹ ç¼–è¯‘å™¨å˜é‡(å¯¹è±¡)æŸ¥è¯¢çš„æ–¹å¼ LHS æŸ¥è¯¢ï¼ˆèµ‹å€¼ç›®æ ‡çš„æŸ¥è¯¢ï¼Œæ‰¾åˆ°ä»–ï¼Œå¹¶ä¸”æŠŠè¿™ä¸ªä¸œè¥¿ç»™ä»–ã€‚ï¼‰ RHS æŸ¥è¯¢ï¼ˆå–å¾—ç›®æ ‡æºçš„å€¼ï¼Œå¾—åˆ°æŸæŸçš„å€¼ã€‚ï¼‰ å¼•æ“Žä¸Žä½œç”¨åŸŸçš„èŒè´£ ä½œç”¨åŸŸåµŒå¥— ä½œç”¨åŸŸåµŒå¥—å½¢æˆäº†ä½œç”¨åŸŸé“¾ï¼Œä¸€æ—¦åœ¨å½“å‰ä½œç”¨åŸŸæ— æ³•æŸ¥æ‰¾åˆ°ç›®æ ‡ï¼Œå°±ä¼šå‘å¤–ä¼ é€’ï¼ˆäº‹ä»¶å†’æ³¡ï¼‰ï¼Œç›´åˆ°æœ€å¤–å±‚å…¨å±€çŽ¯å¢ƒã€‚ å¼‚å¸¸ ä¸ºä½•åŒºåˆ† LHS å’Œ RHS è‡³å…³é‡è¦ï¼Œå› ä¸ºåœ¨å˜é‡æœªå£°æ˜Žçš„æƒ…å†µä¸‹ï¼Œè¿™ä¸¤ä¸­æŸ¥è¯¢è¡Œä¸ºæ˜¯ä¸ä¸€æ ·çš„ã€‚ å¦‚æžœ RHS æŸ¥è¯¢æ˜¯åœ¨æ‰€æœ‰ä½œç”¨åŸŸä¸­éå¯»ä¸åˆ°æ‰€éœ€è¦çš„å˜é‡ï¼Œå¼•æ“Žå°±ä¼šæŠ›å‡º ReferenceError å¼‚å¸¸ã€‚ å¦‚æžœ LHS æŸ¥è¯¢å­å•Šæ‰€æœ‰ä½œç”¨åŸŸä¸­éå¯»ä¸åˆ°æ‰€éœ€å˜é‡ï¼Œå°±ä¼šåœ¨å…¨å±€ä½œç”¨åŸŸä¸­åˆ›å»ºä¸€ä¸ªå…·æœ‰è¯¥åç§°çš„å˜é‡ï¼Œå¹¶è¿”å›žç»™å¼•æ“Žï¼ˆéžä¸¥æ ¼æ¨¡å¼ï¼‰ ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼ŒLHS æŸ¥è¯¢æ²¡æ‰¾åˆ°å˜é‡åŒ RHS ä¸€æ ·æŠ›å‡º ReferenceError å¼‚å¸¸ ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼ŒRHS æŸ¥è¯¢æ‰¾åˆ°ç›®æ ‡å˜é‡ï¼Œä½†å¯¹è¯¥å˜é‡çš„å€¼è¿›è¡Œä¸åˆç†çš„æ“ä½œï¼Œä¾‹å¦‚å¯¹éžå‡½æ•°ç±»åž‹çš„å€¼è¿›è¡Œå‡½æ•°è°ƒç”¨ï¼Œå¼•ç”¨ undefined æˆ–è€… null ç±»åž‹çš„å€¼ä¸­çš„å±žæ€§ï¼Œä¼šæŠ›å‡º TypeErrorï¼ˆç±»åž‹é”™è¯¯ï¼‰ ReferenceError åŒä½œç”¨åŸŸåˆ¤åˆ«å¤±è´¥ç›¸å…³ï¼Œè€Œ TypeError åˆ™ä»£è¡¨ä½œç”¨åŸŸåˆ¤åˆ«æˆåŠŸï¼Œæ‰¾åˆ°äº†å˜é‡ä½†æ˜¯å¯¹ç»“æžœçš„æ“ä½œæ˜¯éžæ³•æˆ–ä¸åˆç†çš„ã€‚ æ€»ç»“ï¼šä½œç”¨åŸŸå°±æ˜¯ä¸€å¥—è§„åˆ™ï¼Œç”¨äºŽç¡®å®šåœ¨ä½•å¤„ä»¥åŠå¦‚ä½•æŸ¥æ‰¾å˜é‡ï¼ˆæ ‡è¯†ç¬¦ï¼‰ã€‚å¦‚æžœç›¸å¯¹æŸ¥æ‰¾çš„å˜é‡è¿›è¡Œèµ‹å€¼ï¼Œé‚£ä¹ˆå°±ä¼šç”¨ LBS æŸ¥è¯¢ï¼›å¦‚æžœç›®çš„æ˜¯èŽ·å–å˜é‡çš„å€¼ï¼Œå°±ä¼šä½¿ç”¨ RHS æŸ¥è¯¢ã€‚èµ‹å€¼æ“ä½œç¬¦ä¼šå¯¼è‡´ LHS æŸ¥è¯¢ã€‚ â€˜=â€™ æ“ä½œç¬¦æˆ–è°ƒç”¨å‡½æ•°æ˜¯ä¼ å…¥å‚æ•°çš„æ“ä½œéƒ½ä¼šå¯¼è‡´å…³è”ä½œç”¨åŸŸçš„èµ‹å€¼æ“ä½œã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[MVC Backbone]]></title>
      <url>%2F2017%2F03%2F11%2FMVC-Backbone%2F</url>
      <content type="text"><![CDATA[æœ€è¿‘é˜…è¯»äº†ã€ŠåŸºäºŽMVCçš„JavaScript webå¯Œåº”ç”¨å¼€å‘ã€‹ï¼ˆåŽæ–‡ç®€ç§°ã€ŠMVCã€‹ï¼‰ï¼Œæ–‡ç« ç¬¬åäºŒç« ä»‹ç»äº† Backbone.jsï¼Œå†æ¬¡æ¿€å‘äº†æˆ‘å¯¹æ­¤æ¡†æž¶çš„å…´è¶£ã€‚åœ¨çœ‹è¿™æœ¬ä¹¦ä¹‹å‰äº†è§£è¿‡ vueï¼Œä¹Ÿè¢«å…¶æ‰€å¸å¼•ï¼Œè€Œæ­£å¦‚ä½œè€…åˆ†äº«çš„ç»éªŒï¼Œ MVC æ˜¯ MV* å‘å±•çš„å‰èº«ã€‚ä¹Ÿå› æ­¤è®©è‡ªå·±æƒ³è¦æ›´åŠ æ·±å…¥åœ°åŽ»äº†è§£ï¼ŒMVC åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿå€Ÿæ­¤ä»Ž Backbone å…¥æ‰‹æ¥å­¦ä¹ è¿™ç±»åº“ï¼ˆæ¡†æž¶ï¼‰çš„è®¾è®¡æ€æƒ³ã€‚ Backbone çš„ç‰¹ç‚¹ Backbone æ˜¯æž„å»º JavaScript åº”ç”¨ç¨‹åºçš„ä¸€ä¸ªä¼˜ç§€ç±»åº“ï¼Œä»–çš„ä¼˜ç¾Žä¹‹å¤„åœ¨äºŽå…¶ç®€æ´ã€‚è¿™æ˜¯ä¸€ä¸ªè½»é‡ç±»åº“ï¼Œè¦†ç›–äº†åŸºç¡€çš„åŠŸèƒ½ï¼ŒåŒæ—¶æä¾›äº†æœ€å¤§çš„çµæ´»æ€§ã€‚ï¼ˆå¤§å°è¯·å‚é˜…å®˜æ–¹æ–‡ä»¶ï¼‰MVC æ˜¯è´¯ç©¿ Backbone æ ¸å¿ƒçš„æ¨¡å¼ã€‚æä¾›äº†æ¨¡åž‹ã€æŽ§åˆ¶å™¨å’Œè§†å›¾â€”â€”éª¨æž¶ã€‚Backbone å”¯ä¸€ä»¥æ¥ underscore.jsï¼Œå…¶æä¾›éžå¸¸æœ‰ç”¨çš„å·¥å…·å’Œ js å‡½æ•°ã€‚é™¤äº† underscoreï¼Œè¿˜å¯ä»¥ä½¿ç”¨ jQuery zepto æ¥æå‡ Backbone å¤„ç†è§†å›¾çš„èƒ½åŠ› å¼•ç”¨æ¥è‡ªã€ŠMVCã€‹-chapter 12 çŸ¥ä¹Žä¸Šå…³äºŽ Backbone çš„å›žç­”Backbone æœ€é€‚åˆçš„åº”ç”¨åœºæ™¯æ˜¯å•é¡µé¢åº”ç”¨ï¼Œå¹¶ä¸”é¡µé¢ä¸Šæœ‰å¤§é‡æ•°æ®æ¨¡åž‹ï¼Œæ¨¡åž‹ä¹‹é—´éœ€è¦è¿›è¡Œå¤æ‚çš„ä¿¡æ¯æ²Ÿé€šã€‚Backbone åœ¨è¿™ç§åœºæ™¯ä¸‹ï¼Œèƒ½å¾ˆå¥½çš„å®žçŽ°æ¨¡å—é—´æ¾è€¦åˆå’Œäº‹ä»¶é©±åŠ¨ã€‚ å…¶ä»–é€‚ç”¨äº§å“è¿˜æœ‰å¾®åšï¼Œç½‘æ˜“å¾®åšçš„å‰ç«¯è®¾è®¡ä¹Ÿæ˜¯å’Œ Backbone ç±»ä¼¼çš„ä¸€ä¸ªç»“æž„ã€‚ Backbone çš„ä¼˜ç‚¹å’Œä¸€äº›ç»éªŒ Tipï¼š View çš„åˆ’åˆ†å°†é¡µé¢ä¸Šçš„è§†å›¾å…ƒç´ è§£è€¦ï¼Œç²’åº¦ç»†åŒ–ã€‚View é—´é€šè¿‡äº‹ä»¶å’Œ Model é€šè®¯ï¼Œé¿å…äº† DOM äº‹ä»¶çš„æ»¥ç”¨ã€‚Model å’Œ Restful çš„é€šè®¯æ–¹å¼å¯¹äºŽåŽç«¯äººå‘˜éžå¸¸å‹å¥½ã€‚ MVC æž¶æž„æ¸…æ™°ï¼Œ æˆ‘æœ‰ä¸ªå¸¸å¹´å†™ Java æ²¡å†™è¿‡ JS çš„åŒäº‹çœ‹ Backbone å¾ˆå¿«å°±äº†è§£äº†æ•´ä½“è®¾è®¡ï¼Œè™½ç„¶è¿™æ—¶å€™ä»–è¿˜æ˜¯ä¸ä¼šå†™ JSã€‚ Collection/Model æŠ½è±¡äº†ä»¥å‰æ‚ä¹±çš„ AJAX è¯·æ±‚ï¼ŒCRUD è¯·æ±‚å˜å¾—éžå¸¸éžå¸¸æ–¹ä¾¿ã€‚ å¼ºçƒˆå»ºè®® View -&gt; Model å•å‘ä¾èµ–ï¼Œä¸–ç•Œä¼šç¾Žå¥½å¾ˆå¤šã€‚ é…ä¸Šä¸€ä¸ªæ¨¡å—åŒ–åŠ è½½å™¨ä¾‹å¦‚ SeaJS ä¼šå¾ˆçˆ½ã€‚ Backbone çš„ä¸€äº›ç¼ºç‚¹ï¼Œæˆ–è€…è¯´ä¸€äº›å°šæœªå®žçŽ°çš„ Featureï¼š Model å±‚æ¯”è¾ƒç®€å•ï¼Œå¦‚æžœè¦æ”¯æŒ One-To-One æˆ–è€… One-To-Many ç­‰å¤æ‚æ•°æ®å…³ç³»æ—¶æœ‰äº›åŠ›ä¸ä»Žå¿ƒã€‚è¿˜æœ‰ ä¸€ä¸ª Model åªèƒ½å±žäºŽä¸€ä¸ª Collection è¿™ä¸ªè®¾è®¡ï¼Œé¡µé¢å¤æ‚çš„æ—¶å€™ä¼šå¾ˆå—å±€é™ã€‚ä¾‹å¦‚è¿™ä¸ªé—®é¢˜ï¼š http://www.zhihu.com/question/19843899 ï¼ˆè¡¥å……ï¼šBackbone.Relations æ’ä»¶æ˜¯è¿™ä¸ªé—®é¢˜çš„ä¸€ä¸ªè§£å†³æ–¹æ¡ˆ https://github.com/PaulUithol/Backbone-relational By zjhiphopï¼‰ åŒä¸Šï¼ŒModel åªæœ‰åŸºæœ¬çš„ CRUD æ“ä½œï¼Œä¸èƒ½å¾ˆå¥½çš„æ‰©å±•ï¼ŒBackbone.sync æ–¹æ³•å†™çš„ä¸å¤ªçµæ´»ï¼Œè¦æƒ³æ‰©å±•å°±å¾—é‡å†™ sync æ–¹æ³•ã€‚ View å±‚æ²¡æœ‰å¾ˆå¼ºçš„ Page ç®¡ç†æœºåˆ¶ï¼Œæ¯”å¦‚é€šè¿‡ URL åˆ‡æ¢æ”¹å˜æ•´ä¸ªé¡µé¢æ—¶ï¼Œé¡µé¢ä¸Šå°šå­˜çš„ View å¦‚ä½•å¤„ç†ï¼Ÿç›´æŽ¥é”€æ¯çš„è¯ï¼Œæ˜¯å¦è¦é”€æ¯å…³è”çš„ Modelã€Collectionï¼ŸCache ä½ï¼Ÿå¦‚ä½•ç®¡ç† Cacheï¼Ÿ å†…å­˜ç®¡ç†éœ€è¦æ¯”è¾ƒå°å¿ƒï¼Œç¼ºä¹æœºåˆ¶é¿å…åˆ›å»ºé‡å¤ Modelã€‚ extends override çˆ¶ç±»æ–¹æ³•çš„æ—¶å€™å¾—å†™ä¸€ä¸²çš„ä»£ç ï¼Œå°±ä¸èƒ½å®žçŽ°ä¸ª _super æ–¹æ³•ä¹ˆâ€¦â€¦ï¼ˆSuperClass.prototype.someMethod.applyï¼‰ å¯¹è°ƒè¯•éžå¸¸ä¸å‹å¥½ã€‚ ä½œè€…æœ‰ä»£ç æ´ç™–ï¼ˆä¹Ÿæ˜¯åŠ åˆ†é¡¹ï¼‰ï¼Œthis.$el å¤§å®¶å‘¼å”¤äº†è¿™ä¹ˆä¹…æ‰åŠ ä¸Šï¼Œä¼°è®¡ä»Šç”Ÿä¹Ÿçœ‹ä¸åˆ° this._superã€‚æ›´æ–°æ…¢ã€‚ æ€»ä½“æ¥è¯´ Backbone è¿˜å¾ˆè½»ï¼Œæ¡†æž¶å¾ˆæ¼‚äº®ä½†æ˜¯æœ‰äº›ç»†èŠ‚è¿˜æ¯”è¾ƒç²—ç³™ã€‚ç”¨ä¹‹å‰è¦åšå¥½å¯¹ Backbone è¿›è¡Œå¤§é‡æ‰©å±•ç”šè‡³ Hack çš„å‡†å¤‡ã€‚ ä½œè€…ï¼špwæ¥æºï¼šçŸ¥ä¹Ž é“¾æŽ¥ æ¨¡åž‹1Backbone.Model æ¨¡åž‹æ˜¯ä¿å­˜åº”ç”¨ç¨‹åºæ•°æ®çš„åœ°æ–¹ã€‚å¯ä»¥æƒ³è±¡ä¸º APP åŽŸå§‹æ•°æ®ç²¾å¿ƒè®¾è®¡çš„æŠ½è±¡ï¼Œå¹¶ä¸”æ·»åŠ äº†ä¸€äº›å·¥å…·å‡½æ•°å’Œäº‹ä»¶ã€‚ æ¨¡åž‹å’Œå±žæ€§ä½¿ç”¨ set() å’Œ get() æ¥è®¾ç½®å’ŒèŽ·å–å®žä¾‹ä¸­çš„å±žæ€§ã€‚12var user = new User();user.set(&#123;name: "yevvb"&#125;);//hash å½¢å¼çš„è¡¨ç¤ºå¯¹è±¡ é›†åˆé›†åˆå°±æ˜¯å¯¹æ¨¡åž‹å®žä¾‹çš„æ•°æ®è¿›è¡Œç®¡ç†ã€‚æ–‡ç« ä¸­ä¸¾äº†é‡å»º twitter å…³æ³¨å’Œç²‰ä¸çš„ä¾‹å­ï¼ŒFOLLOWERS å’Œ FOLLOWEESï¼Œä¸¤è€…éƒ½æ˜¯ç”± User å®žä¾‹æ¥å¡«å……æ•°æ®ï¼Œè™½ç„¶æ¥è‡ªäºŽåŒä¸€ä¸ª Modelï¼Œä½†æ˜¯åŒ…å«äº†ä¸åŒçš„ Model å®žä¾‹ï¼ˆUser å®žä¾‹ï¼‰ã€‚ æŽ§åˆ¶é›†åˆå†…éƒ¨é¡ºåº123456var Users = Backbone.Collection.extend(&#123; // é€šè¿‡ comparatorï¼ˆï¼‰ å‡½æ•°æ¥å®žçŽ° comparator: function(user)&#123; return user.get("name"); &#125;&#125;); è§†å›¾Backbone è§†å›¾å¹¶ä¸æ˜¯æ¨¡æ¿æœ¬èº«ï¼Œè€Œæ˜¯ä¸€äº›æŽ§åˆ¶ç±»ã€‚ä»£è¡¨äº†ä¸€ä¸ª UI é€»è¾‘å—ï¼Œè´Ÿè´£ä¸€ä¸ªç®€å•çš„ DOM çš„å†…å®¹ã€‚æ¯”å¦‚è¯´ï¼šæŽ§åˆ¶å…ƒç´ çš„æ˜¾éšï¼ŒæŒ‰é’®çš„ä¸åŒçŠ¶æ€ç­‰ç­‰â€¦ 12345var UserView = Backbone.View.extend(&#123; el: $(&quot;.users&quot;)&#125;);new UserView(&#123;id: &quot;followers&quot;&#125;); æ¸²æŸ“è§†å›¾æ¯ä¸ªè§†å›¾éƒ½æœ‰ä¸€ä¸ª render() å‡½æ•°ï¼Œé»˜è®¤æƒ…å†µä¸åšä»»ä½•æ“ä½œã€‚ä¸€æ—¦è§†å›¾ä¿®æ”¹å°±éœ€è¦ repaintsï¼Œå°±åº”è¯¥è°ƒç”¨æ­¤å‡½æ•°ã€‚æ¨¡æ¿å¯ä»¥ä¾èµ–äºŽå…¶ä»–å·¥å…· underscore ç­‰ç­‰éƒ½å¯ä»¥ã€‚ å³ä½¿æ˜¯æœªæ’å…¥åˆ°é¡µé¢ä¸­åŽ»çš„ model å®žä¾‹ï¼Œå…¶ä»æ—§æ‹¥æœ‰è‡ªå·±çš„ el å…ƒç´ ï¼Œè§†å›¾å¯åœ¨ä»»ä½•æ—¶å€™æ¸²æŸ“ï¼Œç„¶åŽä¸€æ¬¡æ€§æ’å…¥åˆ° DOM ä¸­åŽ»ï¼Œè¿™æ ·èƒ½å°½é‡å‡å°‘ reflows å’Œ repaints ä»Žè€ŒèŽ·å¾—é«˜æ€§èƒ½çš„ UI æ¸²æŸ“ã€‚ 12345678var TodoView = Backbone.View.extend(&#123; template: _.template($(&quot;#todo-template&quot;).html()), render: function() &#123; $(this.el).html(this.template(this.model.toJSON())); // è¿”å›žä»¥ä¾¿äºŽé“¾å¼è°ƒç”¨ï¼Œéžå¸¸é‡è¦ return this; &#125;&#125;); å§”æ‰˜äº‹ä»¶äº‹ä»¶å¿…ä¸å¯å°‘ï¼Œä»–æ˜¯ç”¨æˆ·è¡Œä¸ºâ€“äº¤äº’çš„åŸºç¡€ã€‚ Backbone è§†å›¾æä¾›äº†ä¸€ç§æ·»åŠ äº‹ä»¶åˆ° el çš„å¿«æ·æ–¹æ³•ã€‚12345678var TodoView = Backbone.View.extend(&#123; events: &#123; &quot;change input[type=checkbox]&quot; : &quot;toggleDone&quot;, &quot;click .destroy&quot; : &quot;clear&quot;, &#125;, toggleDone: function(e)&#123; /* ... */&#125;, clear: function(e)&#123; /* ... */&#125;&#125;); ç»‘å®šå’Œä¸Šä¸‹æ–‡ä¸€æ—¦è§†å›¾å‘ç”Ÿæ”¹å˜ï¼Œå°±ä¼šè§¦å‘ change äº‹ä»¶ï¼Œä½¿å¾—åº”ç”¨ç¨‹åºçš„è§†å›¾å’Œä¸Žä¹‹å¯¹åº”çš„æ¨¡åž‹æ•°æ®æ˜¯åŒæ­¥ç»‘å®šçš„ã€‚è€Œæ­¤æ—¶å”¯ä¸€éœ€è¦æ³¨æ„çš„æ˜¯ this æŒ‡ç¤ºçš„ä¸Šä¸‹æ–‡ä¼šå‘ç”Ÿå˜åŒ–ã€‚ æŽ§åˆ¶å™¨Backbone çš„æŽ§åˆ¶å™¨å°†åº”ç”¨ç¨‹åºçš„çŠ¶æ€å’Œ URL çš„ hash ç‰‡æ®µå…³è”åœ¨ä¸€èµ·ï¼Œä½¿ URL åœ°å€å¯åˆ†äº«ï¼Œä¹Ÿå¯ä½œä¸ºä¹¦ç­¾ä½¿ç”¨ã€‚æœ¬è´¨ä¸Šï¼ŒæŽ§åˆ¶å™¨ç”±ä¸€äº›è·¯ç”±å’Œå‡½æ•°æž„æˆï¼Œå½“å¯¼èˆªåˆ°è¿™äº›è·¯ç”±æ—¶é‚£äº›å‡½æ•°å°±ä¼šè¢«è°ƒç”¨ã€‚ 123456789101112131415var PageController = Backbone.Controller.extend(&#123; routes: &#123; &quot;&quot;: &quot;index&quot;, &quot;help&quot;: &quot;help&quot;, // #help &quot;search/:query&quot;: &quot;search&quot;, // #search/kiwis &quot;search/:query/p:page&quot;: &quot;search&quot; // #search/kiwis/p7 &#125;, index: function()&#123; /* ... */ &#125;, help: function() &#123; // ... &#125;, search: function(query, page) &#123; // ... &#125;&#125;); ä¸ŽæœåŠ¡å™¨åŒæ­¥çš„é—®é¢˜ç¬¬ä¸€æ¬¡å¦‚ä½•ä»ŽæœåŠ¡å™¨èŽ·å–æ¨¡åž‹æ•°æ®ï¼ˆfetchï¼‰æœåŠ¡å™¨ç«¯å¦‚ä½•å­˜å‚¨å¦‚ä½•è‡ªå®šä¹‰è¡Œä¸ºtodo åº”ç”¨å®žè·µ æ€»ç»“ï¼šbackbone ä¸ºæˆ‘ä»¬è§£è€¦äº†æ¨¡åž‹ã€è§†å›¾å’ŒæŽ§åˆ¶å±‚ï¼Œç»“æž„æ¸…æ™°ç®€æ´ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[è¯»ä¹¦åšç¬”è®°]]></title>
      <url>%2F2017%2F01%2F01%2Fhello-world%2F</url>
      <content type="text"><![CDATA[hiï¼Œè¿™é‡Œæ˜¯å¶æ–‡æ–Œçš„åšå®¢ã€‚è‡ªè®¤ä¸èªæ˜Žï¼Œè¯´ç¬¨ä¸è¶³è¯´æ‡’æœ‰ä½™ã€‚ è¿™åšå®¢çš„ç›®çš„åªæœ‰ä¸€ä¸ªï¼Œçœ‹ä¸€æœ¬ä¹¦ï¼Œå°±ç…§ç€ä¹¦æœ¬æŠŠç²¾åŽæŠ„ä¸‹æ¥ã€‚ æ—¶è€Œçœ‹çœ‹ã€‚é¡ºä¾¿æ”¹æ”¹æ‡’æƒ°çš„ä¹ æƒ¯ï¼]]></content>
    </entry>

    
  
  
</search>
