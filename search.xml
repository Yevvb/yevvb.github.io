<?xml version="1.0" encoding="utf-8"?>
<search>
  
    
    <entry>
      <title><![CDATA[You don't know JavaScript(Chapter 1.2-1.3)]]></title>
      <url>%2F2017%2F03%2F16%2FYou-Don't-Know-Javascript2%2F</url>
      <content type="text"><![CDATA[ä»€ä¹ˆæ˜¯è¯æ³•åŒ–å’Œè¯æ³•ä½œç”¨åŸŸï¼Ÿ ä½ çŸ¥é“ä¸ºä»€ä¹ˆä¸æŽ¨è eval(â€¦) å’Œ with å—ï¼Œä»¥åŠè¿™ä¸¤è€…å¦‚ä½•é€ æˆäº†æ€§èƒ½ä¸‹é™çš„ï¼Ÿ ä»€ä¹ˆæ˜¯å‡½æ•°ä½œç”¨åŸŸï¼Ÿ ç§æœ‰å˜é‡æ˜¯æ€Žä¹ˆå®žçŽ°çš„ï¼Ÿ å‘½åç©ºé—´å¦‚ä½•è§„é¿å†²çªï¼ŸåŒ¿åå‡½æ•°çš„å†™æ³•ä»¥åŠæœ‰ç‚¹åœ¨å“ªå„¿ï¼Ÿ ES6åˆæ˜¯å¦‚ä½•å®žçŽ°å—ä½œç”¨åŸŸï¼Œbabel åˆæ˜¯å¦‚ä½•å°†å…¶ç¼–è¯‘æˆå…¼å®¹ES5çš„å‘¢ï¼Ÿ try/catch ä»…ä»…ç”¨æ¥è°ƒè¯•å—ï¼Ÿ è¯æ³•ä½œç”¨åŸŸå›žåˆ°ç¼–è¯‘å™¨å·¥ä½œçš„ç¬¬ä¸€ä¸ªé˜¶æ®µï¼Œå«åšè¯æ³•åŒ–ï¼ˆå•è¯åŒ–ï¼‰ã€‚å³å¯¹æºä»£ç ä¸­çš„å­—ç¬¦è¿›è¡Œæ£€æŸ¥ï¼Œå¦‚æžœæ˜¯æœ‰çŠ¶æ€çš„è§£æžè¿‡ç¨‹ï¼Œè¿˜ä¼šå¯Œè£•å•è¯æ„ä¹‰ã€‚ è¯æ³•ä½œç”¨åŸŸå°±æ˜¯å®šä¹‰åœ¨è¯æ³•é˜¶æ®µï¼ˆæŸ¥æ‰¾æ ‡è¯†ç¬¦ï¼‰çš„ä½œç”¨åŸŸã€‚æ¢å¥è¯è¯´ï¼Œå°±æ˜¯åœ¨ä½ å†™ä»£ç çš„æ—¶å€™ä½ çš„å˜é‡å’Œå—ä½œç”¨åŸŸå†™åœ¨å“ªé‡Œï¼Œå°±å†³å®šäº†è¯æ³•ä½œç”¨åŸŸçš„èŒƒå›´ï¼Œè¿™ä¸€åˆ‡éƒ½æ˜¯å¯ä»¥ä¼°é‡çš„ï¼ˆé‚£ä¹ˆä»€ä¹ˆæ˜¯ä¸å¯é¢„è®¡çš„å‘¢ï¼Ÿï¼‰ï¼Œå› æ­¤åœ¨è¯æ³•åˆ†æžé˜¶æ®µä¼šä¿æŒä½œç”¨åŸŸä¸å˜ã€‚ï¼ˆä¹¦å†™ä½ç½®å†³å®šèŒƒå›´ï¼‰ æŸ¥æ‰¾ï¼Œä½œç”¨åŸŸæŸ¥æ‰¾ä¼šåœ¨æ‰¾åˆ°éƒ½ä¸€ä¸ªåŒ¹é…çš„æ ‡è¯†ç¬¦åœæ­¢ã€‚åœ¨å¤šå±‚åµŒå¥—ä½œç”¨åŸŸä¸­å¯ä»¥å®šä¹‰åŒåçš„æ ‡è¯†ç¬¦ï¼Œè¿™å«åšé®è”½æ•ˆåº”ï¼ˆå†…éƒ¨é®è”½å¤–éƒ¨å”¯ä¸€å—ï¼Ÿï¼‰ï¼ŒæŸ¥æ‰¾ç”±å†…è€Œå¤–ã€‚ å¤‡æ³¨ï¼šå…¨å±€å˜é‡ä¼šè‡ªåŠ¨æˆä¸ºå…¨å±€å¯¹è±¡ï¼ˆwindowã€globalï¼‰çš„å±žæ€§ï¼Œå› æ­¤å¯ä»¥é€šè¿‡å…¨å±€å¯¹è±¡å±žæ€§çš„å¼•ç”¨æ¥è¿›è¡Œè®¿é—®ï¼ˆå¯¹äºŽè¢«é®è”½çš„å˜é‡èƒ½å¤Ÿé€šè¿‡è¿™ç§æ–¹å¼æŸ¥åˆ°ï¼Œä½†æ˜¯ä»…é™äºŽå…¨å±€å˜é‡ï¼Œéžå…¨å±€åˆ™æ˜¯è¢«æ›¿æ¢ï¼‰ã€‚ æ¬ºéª—è¯æ³• eval &amp; with eval: æˆ‘ä»¬ç»å¸¸åŠ¨æ€æ’å…¥ä»£ç ï¼Œè€Œå¼•æ“Žåˆ™ä¼šè®¤ä¸ºè¢« eval æ’å…¥çš„ä»£ç æ‰€å¤„ä½ç½®å°±æ˜¯ eval æ‰€å¤„çš„ä½œç”¨åŸŸï¼Œè¿™å°±å¯¼è‡´äº†è¯¥è¯æ³•ä½œç”¨åŸŸä¼šåœ¨è¿è¡ŒæœŸé—´è¢«ä¿®æ”¹ï¼ˆä¾‹å¦‚å£°æ˜Žå±€éƒ¨å˜é‡å¯¼è‡´å†…å®¹è¢«æ›¿æ¢ç­‰ç­‰ï¼‰ã€‚ withï¼šé€šå¸¸è¢«å½“åšé‡å¤å¼•ç”¨ä¸€ä¸ªå¯¹è±¡ä¸­å¤šä¸ªå±žæ€§çš„å¿«æ·æ–¹å¼ï¼Œé—®é¢˜å°±å‡ºåœ¨è¿™é‡Œï¼Œä¸‡ä¸€é‡Œé¢åŒ…å«äº†è¯æ³•ä½œç”¨åŸŸå†…æ²¡æœ‰çš„å±žæ€§æˆ–å˜é‡ï¼Œé‚£ä¹ˆå°±ä¼šé€ æˆå…¨å±€æ±¡æŸ“ï¼ˆéžä¸¥æ ¼æ¨¡å¼ä¸‹èµ‹å€¼æŸ¥è¯¢çš„å¼Šç«¯ï¼‰ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œwith å¯ä»¥å°†ä¸€ä¸ªæ²¡æœ‰æˆ–è€…æœ‰å¤šä¸ªå±žæ€§çš„å¯¹è±¡å¤„ç†ä¸ºä¸€ä¸ªå®Œå…¨éš”ç¦»çš„è¯æ³•ä½œç”¨åŸŸï¼ŒåŒæ—¶å°†è¯¥å¯¹è±¡çš„å±žæ€§å®šä¹‰ä¸ºè¯æ³•ä½œç”¨åŸŸçš„è¯æ³•æ ‡è¯†ç¬¦ã€‚ è¿™ä¸¤ç§æ–¹å¼éƒ½ä¼šé€ æˆè¯æ³•è§£æžè¿‡ç¨‹çš„ä¸ç¡®å®šæ€§ï¼Œå› ä¸ºæ— æ³•å¯¹ä½œç”¨åŸŸæŸ¥æ‰¾è¿›è¡Œä¼˜åŒ–ï¼Œå¼•æ“Žä¼šè®¤ä¸ºæˆ‘åšçš„è¿™äº›éƒ½æ˜¯ç™½åšçš„ï¼Œæœ€ç»ˆçš„ç»“æžœå°±æ˜¯æ€§èƒ½çš„ä¸¥é‡ä¸‹é™ï¼Œç”šè‡³æ˜¯å¸¦æ¥å®‰å…¨çš„éšæ‚£ã€‚ å¥½æ¶ˆæ¯æ˜¯ï¼šä¸¥æ ¼æ¨¡å¼ä¸‹ä¸¤åˆ™éƒ½è¢«ç¦ç”¨äº†ã€‚ å‡½æ•°ä½œç”¨åŸŸå’Œå—ä½œç”¨åŸŸè¯·æŠŠä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸæƒ³è±¡æˆä¸€ä¸ªæ°”æ³¡ï¼ˆè™½ç„¶ä¸åˆç†ï¼‰ å‡½æ•°ä¸­çš„ä½œç”¨åŸŸ å±žäºŽè¿™ä¸ªå‡½æ•°çš„å…¨éƒ¨å˜é‡éƒ½å¯ä»¥åœ¨æ•´ä¸ªå‡½æ•°çš„èŒƒå›´å†…ä½¿ç”¨ä»¥åŠå¤ç”¨ï¼ˆå®žé™…åœ¨åµŒå¥—çš„ä½œç”¨åŸŸä¸­ä¹Ÿå¯ä»¥è®¿é—®ï¼‰ã€‚è¿™æ ·çš„è®¾è®¡æ–¹æ¡ˆï¼Œå……åˆ†åˆ©ç”¨äº† JavaScript å˜é‡å¯æ ¹æ®éœ€è¦æ”¹å˜å€¼ç±»åž‹çš„â€˜åŠ¨æ€â€™ç‰¹æ€§ã€‚ä¸Žæ­¤åŒæ—¶ï¼Œæ„å‘³ç€å…¨å±€å˜é‡éšæ—¶éƒ½èƒ½è¢«ä»»æ„ä½ç½®è®¿é—®ï¼Œè¿™å°±ä¼šå¸¦æ¥æ„æƒ³ä¸åˆ°çš„ç»“æžœã€‚ éšè—å†…éƒ¨å®žçŽ° 123456789101112function doSomething(a) &#123; b = a + doSomethingElse( a * 2 ); console.log( b * 3ï¼‰ï¼›&#125;function doSomethingElse(a) &#123; return a - 1;&#125;var b;doSomething( 2 ); // 15 è¿™æ˜¯ä¸€æ®µåŽŸæ–‡ä¸­çš„ä¾‹å­ï¼Œb å’Œ doSomethingElse æœ¬è¯¥æ˜¯ doSomething çš„å†…éƒ¨å®žçŽ°ï¼Œç„¶åŽå› ä¸ºå†™åœ¨å‡½æ•°å¤–éƒ¨ï¼Œä½¿å¾—å¤–éƒ¨ä½œç”¨åŸŸæ‹¥æœ‰â€˜è®¿é—®æƒé™â€™ï¼Œä¸€æ—¦è¢«ä¿®æ”¹ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æ— æ³•ä»Ž doSomething å¾—åˆ°æˆ‘ä»¬é¢„æœŸæƒ³è¦çš„ç»“æžœã€‚è¿™å°±æ˜¯ä¸ºä½•éœ€è¦éšè—ï¼ å…ˆå£°æ˜Žå‡½æ•°ï¼Œç„¶åŽåœ¨é‡Œé¢å†™ä»£ç æ˜¯ä¼ ç»Ÿçš„æ€ç»´ã€‚åè¿‡æ¥æ€è€ƒï¼Œå°†ä¸€æ®µä»£ç æŒ‘é€‰å‡ºæ¥ï¼Œç”¨å‡½æ•°å£°æ˜Žå¯¹å…¶è¿›è¡ŒåŒ…è£…ï¼Œå®žé™…ä¸Šå°±ç›¸å½“äºŽå°†ä»£ç éšè—äº†ã€‚äºŽæ˜¯å°±åœ¨è¿™ä¸ªä»£ç ç‰‡æ®µå‘¨å›´æ–°å»ºäº†ä¸€ä¸ªä½œç”¨åŸŸæ°”æ³¡ã€‚ï¼ˆç”¨ä½œç”¨åŸŸåŽ»éšè—ä¸€æ®µä»£ç ï¼Œä¸ºä»€ä¹ˆè¦éšè—ï¼Ÿï¼‰ è½¯ä»¶è®¾è®¡çš„æœ€å°æŽˆæƒæˆ–æœ€å°æš´éœ²åŽŸåˆ™ï¼ŒæŒ‡çš„æ˜¯æœ€å°é™åº¦åœ°æš´éœ²å¿…è¦å†…å®¹ï¼Œè€Œå°†å…¶ä»–å†…å®¹éƒ½â€˜éšè—â€™èµ·æ¥ï¼Œæ¯”å¦‚æŸä¸ªæ¨¡å—æˆ–å¯¹è±¡çš„ API è®¾è®¡ã€‚é˜»æ­¢éƒ¨åˆ†è®¿é—®ï¼Œå®žçŽ°å˜é‡æˆ–å‡½æ•°çš„ç§æœ‰ã€‚ è§„é¿å†²çª 12345678910111213function foo() &#123; function bar(a) &#123; i = 3; //ä¿®æ”¹äº† for å¾ªçŽ¯æ‰€å±žä½œç”¨åŸŸä¸­çš„ i console.log( a + i ); // a ä¸º8ï¼Œæ‰€ä»¥è¾“å‡º 11ï¼Œä½†æ˜¯ i è¿˜æ˜¯ä¸º3 &lt; 10 &#125; for (var i=0; i&lt;10; i++) &#123; console.log(i); // 3 + 1 = 4 bar( i * 2); //ç³Ÿç³•ï¼Œæ— é™å¾ªçŽ¯äº†ï¼å› ä¸ºå£°æ˜Žä¼šæå‰ï¼Œèµ‹å€¼æ˜¯è¿è¡Œåˆ°å“ªå„¿æ‰ä¼šæ‰§è¡Œå“ªå„¿ &#125;&#125;foo() // æ—¥å¿—æ‰“å°(4 11)æ— é™å¾ªçŽ¯; çœ‹ä¸Šé¢çš„ä¾‹å­ï¼Œå› ä¸º bar å‡½æ•°å†…éƒ¨å¿˜è®°å£°æ˜Žå˜é‡ iï¼ˆéšè—ï¼‰ï¼Œå¯¼è‡´å…¨å±€åˆ›å»ºäº† i å˜é‡ï¼Œä»¥è‡´äºŽæ±¡æŸ“äº† for å¾ªçŽ¯ï¼ˆå¾ªçŽ¯å†…var ä¼šæåˆ° fooçš„é¡¶éƒ¨ï¼Œåœ¨æ‰§è¡Œ bar æ—¶ i è¢«èµ‹å€¼ï¼Œæ‰€ä»¥ i å§‹ç»ˆä¸º 3ï¼‰ã€‚ å‰é¢æˆ‘ä»¬æè¿‡â€˜é®è”½æ•ˆåº”â€™ï¼Œâ€˜éšè—â€™ä½œç”¨åŸŸä¸­çš„å˜é‡å’Œå‡½æ•°å¸¦æ¥çš„å¥½å¤„å°±æ˜¯å¯ä»¥é¿å…åŒåæ ‡è¯†ç¬¦ä¹‹é—´çš„å†²çªã€‚ å…¨å±€å‘½åç©ºé—´ï¼šç¬¬ä¸‰æ–¹åº“åœ¨å®žçŽ°è¿‡ç¨‹ä¸­å¦‚æžœæ²¡æœ‰å¦¥å–„åœ°å°†å†…éƒ¨ç§æœ‰å‡½æ•°å’Œå˜é‡éšè—èµ·æ¥ï¼Œé‚£ä¹ˆå°±æžæ˜“å¼•å‘å†²çªï¼ˆjQuery çš„å®žçŽ°ï¼Œ$/jquery çš„ä½¿ç”¨ï¼‰ã€‚ æ¨¡å—ç®¡ç†ï¼šçŽ°ä»£çš„æ¨¡å—æœºåˆ¶ï¼Œä½¿ç”¨è¿™äº›å·¥å…·ï¼Œä»»ä½•åº“éƒ½æ— éœ€å°†æ ‡è¯†ç¬¦åŠ å…¥åˆ°å…¨å±€ä½œç”¨åŸŸä¸­ï¼Œè€Œæ˜¯é€šè¿‡ä¾èµ–ç®¡ç†å™¨çš„æœºåˆ¶å°†åº“çš„æ ‡è¯†ç¬¦æ˜¾å¼å¯¼å…¥åˆ°å¦å¤–ä¸€ä¸ªç‰¹å®šçš„ä½œç”¨åŸŸä¸­ï¼ˆwebpack å°±æ˜¯ä¸€ä¸ªæ¨¡å—åŒ–æ‰“åŒ…å·¥å…·ï¼Œrequire/AMD/ES6 moudle æ˜¯è§„èŒƒï¼‰ã€‚ å‡½æ•°ä½œç”¨åŸŸ ä¸Šé¢æˆ‘ä»¬æåˆ°å¦‚ä½•éšè—å†…éƒ¨å®žçŽ°ï¼Œé€šè¿‡åŒ…è£…å‡½æ•°æ¥è®²å˜é‡æˆ–è€…å‡½æ•°éšè—èµ·æ¥ï¼Œä½†æ˜¯è¿™ä»æ—§ä¼šç”Ÿæˆä¸€äº›å…·åå‡½æ•°ï¼ˆæ¯”å¦‚ foo()ï¼‰ï¼Œè¿™å°±æ„å‘³ç€ foo è¿™ä¸ªåå­—æœ¬èº«â€˜æ±¡æŸ“â€™äº†å½“å‰ä½œç”¨åŸŸã€‚12345678(function foo() &#123; // &lt;-- æ³¨æ„å¼€å¤´ ï¼ˆfunction... var a = 3; console.log(a); // 3&#125;)(); // &lt;-- æ³¨æ„ç»“å°¾ ...)()console.log( a ); //Uncaught ReferenceError: a is not defined å¯ä»¥çœ‹åˆ°å¤–éƒ¨æ— æ³•è®¿é—®åˆ° a å˜é‡ã€‚ è¯¥åŒ…è£…å‡½æ•°å£°æ˜Žä»¥ï¼ˆfunctionâ€¦ è€Œä¸æ˜¯ä»¥ functionâ€¦ å¼€å§‹ï¼Œå‡½æ•°ä¼šè¢«å½“åšå‡½æ•°è¡¨è¾¾å¼è€Œä¸æ˜¯ä¸€ä¸ªæ ‡å‡†çš„å‡½æ•°å£°æ˜Žæ¥å¤„ç†ã€‚ !important &gt;&gt;&gt; åŒºåˆ†å‡½æ•°å£°æ˜Žå’Œè¡¨è¾¾å¼æœ€ç®€å•çš„æ–¹æ³•æ˜¯çœ‹ function å…³é”®å­—å‡ºçŽ°çš„ä½ç½®ï¼ˆä¸ä»…ä»…æ˜¯ä¸€è¡Œä»£ç ï¼Œè€Œæ˜¯æ•´ä¸ªå£°æ˜Žä¸­çš„ä½ç½®ï¼‰ã€‚å¦‚æžœ function æ˜¯å£°æ˜Žä¸­çš„ç¬¬ä¸€ä¸ªè¯ï¼Œé‚£ä¹ˆå°±æ˜¯ä¸€ä¸ªå‡½æ•°å£°æ˜Žï¼Œå¦åˆ™å°±æ˜¯ä¸€ä¸ªå‡½æ•°è¡¨è¾¾å¼ã€‚(function foo() { .. }) ä½œä¸ºå‡½æ•°è¡¨è¾¾å¼æ„å‘³ç€ï¼Œfoo åªèƒ½åœ¨ .. æ‰€ä»£è¡¨çš„ä½ç½®ä¸­è¢«è®¿é—®ï¼Œå¤–éƒ¨ä½œç”¨åŸŸä½œä¸ºæ— æ³•è®¿é—®ï¼Œä¹Ÿå°±ä¸ä¼šéžå¿…è¦çš„æ±¡æŸ“å¤–éƒ¨ä½œç”¨åŸŸã€‚ åŒ¿åå’Œå…·å æ¥çœ‹ä¸€ä¸ªç†Ÿæ‚‰çš„åœºæ™¯ï¼š123setTimeout( function() &#123; console.log('blablabla')&#125;, 1000); è¿™ä¸ªå«åšåŒ¿åå‡½æ•°è¡¨è¾¾å¼ï¼Œå› ä¸º function() {} æ²¡æœ‰å‡½æ•°åï¼Œä¹Ÿå°±æ˜¯åç§°æ ‡è¯†ç¬¦ã€‚å‡½æ•°è¡¨è¾¾å¼å¯ä»¥åŒ¿åï¼Œä½†æ˜¯å‡½æ•°å£°æ˜Žåˆ™ä¸å¯ä»¥çœç•¥å‡½æ•°åâ€”â€”â€”â€”éžæ³•æ“ä½œã€‚ åŒ¿åå‡½æ•°è¡¨è¾¾å¼çš„ç¼ºç‚¹ï¼š åŒ¿åå‡½æ•°åœ¨æ ˆè¿½è¸ªä¸ä¼šæ˜¾ç¤ºå‡ºæœ‰æ„ä¹‰çš„å‡½æ•°åï¼Œä½¿å¾—è°ƒè¯•å¾ˆå›°éš¾ã€‚ æ²¡æœ‰å‡½æ•°åï¼Œå½“éœ€è¦è¿›è¡Œå¼•ç”¨çš„æ—¶å€™åªèƒ½ç”¨ è¿‡æœŸçš„ arguments.callee å¼•ç”¨ï¼Œä¾‹å¦‚é€’å½’ï¼Œä¾‹å¦‚äº‹ä»¶è§¦å‘ä¹‹åŽè§£é™¤ç›‘å¬ã€‚ åŒ¿åå‡½æ•°çœç•¥äº†å‡½æ•°åï¼Œä»£ç å¯è¯»æ€§å˜å·®ã€‚ è§£å†³åŠžæ³•ï¼šè¡Œå†…å‡½æ•°è¡¨è¾¾å¼â€”â€”â€”â€”åŒ¿åå’Œå…·åéƒ½å¯¹æ­¤æ— å½±å“ï¼Œè§£å†³äº†ä¸Šè¿°é—®é¢˜ï¼›1234// æœ€ä½³å®žè·µsetTimeout( function timeoutHandler() &#123; console.log('blablabla')&#125;, 1000); ç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼ å‡½æ•°å†™åœ¨æ‹¬å·å†…å˜æˆäº†ä¸€ä¸ªå‡½æ•°è¡¨è¾¾å¼ï¼Œé‚£ä¹ˆåœ¨åŽé¢åŠ ä¸€å¯¹æ‹¬å·ï¼Œå°±å¯ä»¥ç«‹å³æ‰§è¡Œè¿™ä¸ªå‡½æ•°ã€‚ IIFEï¼šï¼ˆImmediately Invoked Function Expressionï¼‰ç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼ 12345var a = 3;(function IIFE(a) &#123; console.log(a); &#125;)(2);console.log(a); // 3 å¦å¤–ä¸€ç§å†™æ³•ï¼ŒåŠŸèƒ½ä¸Šä¸€è‡´ï¼Œä»»å‡­å–œå¥½ï¼š12345var a = 3;(function IIFE(a) &#123; console.log(a); &#125;(2));console.log(a); // 3 IIFE ç”¨æ³•è¿›é˜¶ï¼š 1234567891011var a = 2;(function (global) &#123; var a = 3; console.log(a); //3 console.log(global.a); // 2 &#125;)(window);console.log(a); // 2 å¯ä»¥å¸®åŠ©ä½ æ”¹è¿›ä»£ç é£Žæ ¼ï¼Œä½¿å¾—å¯¹å…¨å±€å¯¹è±¡çš„å¼•ç”¨å˜å¾—æ¯”å¼•ç”¨ä¸€ä¸ªæ²¡æœ‰â€˜å…¨å±€â€™èµ„æºçš„å˜é‡æ›´åŠ æ¸…æ™°ï¼ˆglobal.a å¾ˆæ˜Žæ˜¾æ˜¯å…¨å±€å˜é‡ï¼‰ã€‚ è¿˜æœ‰ä¸€ç§å¸¸è§çš„æ¨¡å¼ï¼Œå°±æ˜¯å‚æ•°é»˜è®¤ä¸º undefined 1234567891011undefined = true; // è¿™é‡Œæœ‰å‘(function IIFE( undefined ) &#123; var a; if (a === undefined) &#123; console.log("Undefined is safe here") &#125; &#125;)(); ç›®çš„æ˜¯ä¸ºäº†è§£å†³ undefined æ ‡è¯†ç¬¦çš„é»˜è®¤å€¼è¢«é”™è¯¯è¦†ç›–å¯¼è‡´çš„å¼‚å¸¸ï¼Œè¿™æ ·çš„è¯å³ä½¿åœ¨å¯¹äºŽä½ç½®ä¸ä¼ å…¥ä»»ä½•å€¼ï¼Œå†…éƒ¨çš„ undefined è¿˜æ˜¯ undefinedã€‚ IIFE å€’ç½®ä»£ç è¿è¡Œé¡ºåºçš„ç”¨æ³•ï¼ˆå¹¿æ³›ç”¨äºŽ UMD é¡¹ç›®ï¼Œå…¶å®žçœ‹å®Œä¼šå‘çŽ°å‡½æ•°è¡¨è¾¾å¼å†…éƒ¨ä¼šæœ‰ä¸€æ¬¡è°ƒç”¨å‚æ•°ï¼ˆè¿™é‡Œæ˜¯ä¼ å…¥è¿›åŽ»çš„å‡½æ•°ï¼‰çš„è¿‡ç¨‹ï¼Œå‚æ•°ï¼ˆå‡½æ•°ï¼‰ä¼šåœ¨è¿™é‡Œæ‰§è¡Œï¼‰ï¼š 1234567891011121314151617181920212223var a = 2;console.log('one step');(function IIFE( def ) &#123; console.log('two step'); def( window ); console.log('three step');&#125;)(function def( global ) &#123; console.log('four step'); var a = 3; console.log( a ); // 3 console.log( global.a ); // 2 console.log('five step');&#125;);// one step// two step// four step// 3// 2// five step// three step è¿™é‡Œè®©æˆ‘æƒ³åˆ°äº†ä¸€ä¸ªé—®é¢˜ï¼Œæ“ä½œç¬¦çš„ä¼˜å…ˆçº§ã€‚MDN ä¸Šæœ‰ä»‹ç»ã€‚ å‡½æ•°è¡¨è¾¾å¼ def å®šä¹‰åœ¨ç‰‡æ®µçš„ç¬¬äºŒéƒ¨åˆ†ï¼Œç„¶åŽå½“åšå‚æ•°ï¼ˆè¿™ä¸ªå‚æ•°ä¹Ÿå«åš def ï¼‰è¢«ä¼ è¿› IIFE å‡½æ•°å®šä¹‰çš„ç¬¬ä¸€éƒ¨åˆ†ä¸­ã€‚æœ€åŽï¼Œå‚æ•° def ï¼ˆä¹Ÿå°±æ˜¯ä¼ è¿›åŽ»çš„å‡½æ•°ï¼‰è¢«è°ƒç”¨ï¼Œå¹¶å°† window ä¼ å…¥å½“åš global å‚æ•°çš„å€¼ã€‚ å—ä½œç”¨åŸŸ å‡½æ•°ä½œç”¨åŸŸæ˜¯ JS ä¸­æœ€æ™®éçš„ä½œç”¨åŸŸå•å…ƒï¼Œä½†æ˜¯å…¶ä»–ç±»åž‹ä¹Ÿæ˜¯å­˜åœ¨çš„ï¼Œè€Œä¸”å®žçŽ°ç»´æŠ¤èµ·æ¥å¯ä»¥æ›´åŠ ä¼˜ç§€å’Œç®€æ´ã€‚ ä¸»è¦ä½¿ç”¨ JavaScript å¼€å‘çš„ä¼šå¯¹å—ä½œç”¨åŸŸå¾ˆé™Œç”Ÿï¼ˆéžå¸¸èµžåŒï¼Œä»¥å‰ç”šè‡³æ²¡æœ‰å¬è¿‡ï¼‰ çœ‹ä¸ªä¾‹å­å§ï¼š 1234for (var i=0; i&lt;10; i++) &#123; console.log( i );&#125;//ä½ å±…ç„¶å’Œæˆ‘è¯´è¿™ä¸ªå°±æ˜¯å—ä½œç”¨åŸŸï¼Ÿ é€šå¸¸æˆ‘ä»¬åœ¨ for å¾ªçŽ¯å¤´éƒ¨å®šä¹‰å˜é‡ iï¼Œäº‹å®žä¸Šï¼Œæˆ‘ä»¬åªæƒ³åœ¨ for å¾ªçŽ¯å†…éƒ¨çš„ä¸Šä¸‹æ–‡ä½¿ç”¨å®ƒï¼ˆæ²¡é”™=ã€‚=ï¼‰ï¼Œè€Œå¿½ç•¥äº† i ä¼šè¢«ç»‘å®šåœ¨å¤–éƒ¨ä½œç”¨åŸŸï¼ˆå‡½æ•°æˆ–è€…å…¨å±€ï¼‰çš„äº‹å®žï¼ˆæ„æ€å°±æ˜¯ for å¾ªçŽ¯ä¸ä¼šåƒå‡½æ•°é‚£æ ·ç”Ÿæˆä½œç”¨åŸŸæ°”æ³¡ï¼‰ã€‚ å†çœ‹ä¸€ä¸ªä¾‹å­ï¼š 1234567var foo = true;if (foo)&#123; var bar = foo * 2; bar = something( bar ); console.log( bar );&#125; åŒæ ·æ˜¯ if æ¡ä»¶ï¼ŒåŒæ ·ä¸ä¼šç”Ÿæˆä½œç”¨åŸŸæ°”æ³¡ï¼Œé‚£ä¹ˆä½ åœ¨é‡Œé¢ä½¿ç”¨ varï¼Œbar æœ€ç»ˆè¿˜æ˜¯å±žäºŽå¤–éƒ¨ä½œç”¨åŸŸã€‚è¿™æ®µä»£ç åªæ˜¯ä¸ºäº†å¯è¯»æ€§è€Œå¯ä»¥ä¼ªè£…å‡ºçš„å½¢å¼ä¸Šçš„å—ä½œç”¨åŸŸï¼Œå¦‚æžœç”¨äº†ï¼Œè¦ç¡®ä¿æ²¡åœ¨å…¶ä»–åœ°æ–¹ä½¿ç”¨ bar åªèƒ½é è‡ªè§‰ï¼Œè¿™æ˜¯ä¸å¯å–çš„ã€‚ with with å…¶å®žå°±æ˜¯ä¸€ä¸ªå—å·¦å³çš„ä¾‹å­ï¼Œå› ä¸ºä»–ä¼šå•ç‹¬ç”Ÿæˆä¸€ä¸ªä½œç”¨åŸŸæ°”æ³¡ï¼Œè€Œä¸”ç”¨ with å¯¹è±¡åˆ›å»ºå‡ºçš„ä½œç”¨åŸŸä»…åœ¨ with å£°æ˜Žä¸­è€Œéžå¤–éƒ¨ä½œç”¨åŸŸä¸­æœ‰æ•ˆã€‚ try/catch å¾ˆå°‘äººçŸ¥é“ JavaScript çš„ ES3 è§„èŒƒä¸­è§„å®š try/catch çš„ catch åˆ†å±€ä¼šåˆ›å»ºä¸€ä¸ªå—ä½œç”¨åŸŸã€‚ï¼ˆæˆ‘è®¤ä¸ºæœ¬ä¹¦ä½œè€…ç‰›çš„åœ°æ–¹å°±åœ¨è¿™é‡Œï¼ŒçœŸçš„å¸¦ä½ åŽ»äº†è§£ä»»ç£äºŒè„‰ï¼‰ 12345678910try &#123; undefined(); //æ‰§è¡Œä¸€ä¸ªéžæ³•æ“ä½œæ¥å¼ºåˆ¶åˆ¶é€ ä¸€ä¸ªé”™è¯¯ err ç”¨ undefined();&#125;catch( err ) &#123; console.log( err ); // TypeError: undefined is not a function&#125;console.log( err ); // ReferenceError: err is not defined æˆ‘ä»¬å¯ä»¥çœ‹åˆ° err ä»…åœ¨ catch å†…éƒ¨å¯ä»¥è¢«è®¿é—®ï¼Œè€Œåœ¨å¤–éƒ¨æ— æ³•èŽ·å¾— undefined(); æ¥å¼ºåˆ¶ç”Ÿæˆé”™è¯¯catch( err ){â€¦}; æ¥æ•èŽ·é”™è¯¯ä¿¡æ¯è¿™ä¸ªè¡Œä¸ºå·²ç»è¢«æ ‡å‡†åŒ–ï¼Œé™¤äº†IEå…¶ä»–æµè§ˆå™¨å¤§éƒ¨åˆ†éƒ½å·²å®žçŽ°ã€‚ä½†æ˜¯å½“ç”¨ä¸€ä¸ªä½œç”¨åŸŸä¸­çš„ä¸¤ä¸ªæˆ–è€…å¤šä¸ª catch åˆ†å¥ç”¨åŒæ ·çš„æ ‡è¯†ç¬¦åç§°å£°æ˜Žé”™è¯¯å˜æ—¶ï¼Œå¾ˆå¤šé™æ€æ£€æŸ¥å·¥å…·ä¼šå‘å‡ºè­¦å‘Šã€‚å®žé™…ä¸Šæˆ‘ä»¬çŸ¥é“å› ä¸º catch å®žé™…ä¸Šæ˜¯å—ä½œç”¨åŸŸï¼Œæ‰€ä»¥å¹¶ä¸æ˜¯é‡å¤å®šä¹‰å˜é‡ï¼Œå› ä¸ºæ‰€ä»¥å¾—å˜é‡éƒ½è¢«å®‰å…¨çš„é™åˆ¶åœ¨ catch å—ä½œç”¨åŸŸå†…éƒ¨ã€‚æ‰€ä»¥æœ‰äººä¼šå‘½å err1ï¼Œerr2 ç­‰ç­‰ï¼Œæœ‰äººåˆ™ç›´æŽ¥å…³é—­é™æ€æ£€æŸ¥å·¥å…·å¯¹é‡å¤å˜é‡åçš„æ£€æŸ¥ã€‚è¿™ä¸ªå…¶å®žå¾ˆæœ‰ç”¨ï¼Œå› ä¸ºèƒ½å¤Ÿå¸®åŠ©äººä»¬å°† ES6 çš„ä¸€äº›æ–°ç‰¹æ€§ç¼–è¯‘æˆèƒ½å¤Ÿå…¼å®¹ ES5 çš„ä»£ç ã€‚ let ä½œä¸šå°±æ˜¯å°†å˜é‡ç»‘å®šåœ¨ {â€¦} å†…éƒ¨ï¼ŒåŒæ„ if å’Œ for è¿™äº›ä¸ä¼šç”Ÿæˆä½œç”¨åŸŸæ°”æ³¡çš„æ¡ä»¶è¯­å¥ä¹Ÿèƒ½å¤Ÿæ‹¥æœ‰è‡ªå·±ç§æœ‰çš„å˜é‡äº†ã€‚ï¼ˆæƒ³æƒ³è¿˜çœŸæ˜¯è®°å¾—(â‰§â–½â‰¦)/ï¼ï¼‰ åŒæ ·é“ç†ï¼Œç›´æŽ¥å°† let å†™åœ¨ {â€¦} å†…éƒ¨ä¼šéšå¼çš„å°†å˜é‡é™„åŠ åœ¨ä¸€ä¸ªå—ä½œç”¨åŸŸä¸Šï¼Œå¦‚æžœæ²¡æœ‰å¯†åˆ‡å…³æ³¨ï¼Œä»æ—§ä¹ æƒ¯æ€§çš„ç§»åŠ¨å°±ä¼šå¯¼è‡´ä»£ç æ··ä¹±ã€‚è§£å†³åŠžæ³•å°±æ˜¯è®¤ä¸ºæ·»åŠ ä¸€ä¸ªæ˜¾å¼çš„å—ï¼š 123456789if foo &#123; &#123; // &lt;-- æ˜¾å¼çš„å— let bar = foo * 2; bar = something( bar ); console.log( bar ); &#125;&#125;console.log( bar ); // ReferenceError åžƒåœ¾å›žæ”¶ å—ä½œç”¨åŸŸéžå¸¸æœ‰ç”¨ï¼Œè¿™ç‰µæ‰¯åˆ°é—­åŒ…çš„åžƒåœ¾å›žæ”¶æœºåˆ¶ç›¸å…³ã€‚ è¿™é‡Œç•™ä¸€ä¸ªç–‘é—®ï¼Ÿä¸ºä»€ä¹ˆé—­åŒ…ä¼šå¯¼è‡´åžƒåœ¾æ— æ³•åŠæ—¶å›žæ”¶å‘¢ï¼Ÿä½¿ç”¨å—ä½œç”¨åŸŸï¼Œèƒ½æ¸…æ¥šçš„å‘ŠçŸ¥ JS å¼•æ“Žï¼Œé‚£äº›å˜é‡æ˜¯ä½¿ç”¨ä¸€æ¬¡åŽä¸å†è¢«ä½¿ç”¨çš„ã€‚ let å¾ªçŽ¯ 12345for (let i=0; i&lt;10; i++) &#123; console.log( i ); // 1 2 3 4 5 6 7 8 9&#125;console.log( i ); // ReferenceError let åœ¨ for å¾ªçŽ¯ä¸­çš„ä½¿ç”¨ï¼Œå®žé™…ä¸Šæ˜¯å°† i ç»‘å®šåˆ°äº† for å¾ªçŽ¯çš„å—ä¸­ï¼Œè€Œä¸”æ˜¯ç»‘å®šåˆ°å…·ä½“æ¯ä¸€æ¬¡å¾ªçŽ¯è¿­ä»£ï¼Œç¡®ä¿ä½¿ç”¨ä¸Šä¸€ä¸ªå¾ªçŽ¯è¿­ä»£ç»“æŸæ—¶çš„å€¼é‡æ–°è¿›è¡Œèµ‹å€¼ã€‚ 12345678&#123; let j; for (let j=0; j&lt;10; j++) &#123; let i = j; console.log( i ); // 0 1 2 3 4 5 6 7 8 9 &#125;&#125;;console.log( j ); // RefeerenceError const const åŒæ ·ç”¨æ¥å¯ä»¥åˆ›å»ºä½œç”¨åŸŸå˜é‡ï¼Œä½†æ˜¯å…¶å€¼ä¸ºå›ºå®šçš„ï¼ˆå¸¸é‡â€“&gt;å¦‚æžœæ˜¯å¯¹è±¡ï¼Œé‚£ä¹ˆå›ºå®šçš„æ˜¯å…¶å¼•ç”¨åœ°å€ï¼‰ã€‚ä¹‹åŽä»»ä½•ä¿®æ”¹éƒ½ä¼šå¼•èµ·é”™è¯¯ æ€»ç»“ï¼šå‡½æ•°æ˜¯ JavaScript ä¸­æœ€å¸¸ç”¨çš„ä½œç”¨åŸŸå•å…ƒï¼Œé»˜è®¤å£°æ˜Žåœ¨ä¸€ä¸ªå‡½æ•°å†…éƒ¨çš„å˜é‡ä¼šè¢«éšè—ï¼Œè¿™æ˜¯åˆ»æ„ä¸ºä¹‹çš„è½¯ä»¶è®¾è®¡åŽŸåˆ™ã€‚ä½†æ˜¯å‡½æ•°å¹¶ä¸æ˜¯å”¯ä¸€çš„ä½œç”¨åŸŸå•å…ƒã€‚å—ä½œç”¨åŸŸæ˜¯æŒ‡çš„å˜é‡å’Œå‡½æ•°ä¸ä»…å¯ä»¥å±žäºŽæ‰€å¤„çš„ä½œç”¨åŸŸï¼Œä¹Ÿå¯ä»¥å±žäºŽæŸä¸ªä»£ç å—ï¼ˆé€šå¸¸æŒ‡{â€¦}å†…éƒ¨,æƒ³æƒ³å‘½åç©ºé—´å•Šéªšå¹´ï¼‰ã€‚ä»Ž ES3 å¼€å§‹ï¼Œtry/catch ç»“æž„åœ¨ catch åˆ†å±€ä¸­å…·æœ‰å—ä½œç”¨åŸŸã€‚ES6 å¼•å…¥äº† let å…³é”®å­—ï¼ˆvar çš„äº²æˆšï¼‰ï¼Œç”¨æ¥åœ¨ä»»æ„ä»£ç å—ä¸­å£°æ˜Žå˜é‡ã€‚å—ä½œç”¨åŸŸçš„å‡ºçŽ°ä¸ä»…ä»…æ˜¯å‡½æ•°ä½œç”¨åŸŸçš„æ›¿ä»£æ–¹æ¡ˆï¼Œèƒ½ä¸ºæˆ‘æ‰€ç”¨å°±å¥½ã€‚ï¼ˆå·¥å…·ä¹Ÿæ˜¯ï¼Œä¸è¦çº ç»“sublimeè¿˜æ˜¯atomè¿˜æ˜¯vscodeï¼Œè™½ç„¶æˆ‘æœ€é’çä¸¤è¾¹ï¼ðŸ™ƒï¼‰]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[You Don't Know JavaScript(Chapter 1.1)]]></title>
      <url>%2F2017%2F03%2F14%2FYou-Don't-Know-JavaScript%2F</url>
      <content type="text"><![CDATA[JS è¢«å¹¿æ³›ä½¿ç”¨ï¼Œå®ƒæ˜¯æ”¯æ’‘èµ·ç½‘é¡µå†…å®¹äº¤äº’ä½“éªŒçš„æŠ€æœ¯åŸºç¡€ã€‚JavaScript æžæ˜“ä¸Šæ‰‹ï¼Œä½†æ˜¯çœŸæ­£æŽŒæ¡çš„äººå´æ¯”è¾ƒå°‘ã€‚æ—¥å¸¸æ‰€ç”¨çš„ä»…ä»…æ˜¯å®ƒçš„å†°å±±ä¸€è§’ã€‚ã€Šä½ ä¸çŸ¥é“çš„ JavaScriptã€‹ï¼ˆåŽæ–‡ç•¥å†™ã€Šæœ¬ä¹¦ã€‹ï¼‰æ‰€åšçš„äº‹æƒ…å°±æ˜¯æ·±å…¥ç†è§£ JavaScriptï¼Œå°¤å…¶æ˜¯éš¾çš„é‚£ä¸€éƒ¨åˆ†ã€‚æ¯æ¬¡é‡åˆ° JavaScript ä¸­å‡ºä¹Žæ„æ–™çš„éƒ¨åˆ†æ—¶ï¼Œèƒ½åšåˆ°ä¸åŽ»è´£æ€ªè¯­è¨€ï¼Œè€Œæ˜¯ä»Žä¸­æŽ¢ç©¶æŽ’é™¤å¤šæ ·æ€§ï¼ŒåŽ»ç†è§£ JavaScript ä¸­â€œå¥½çš„åœ°æ–¹â€ï¼Œå­¦ä¼šæ¬£èµä¸€é—¨è¯­è¨€ã€‚ ä½œç”¨åŸŸ ç¼–è¯‘åŽŸç† â€œåŠ¨æ€â€ï¼Œâ€œè§£é‡Šæ‰§è¡Œâ€æ¯ä¸ªäººéƒ½çŸ¥é“ï¼Œä½†ã€Šæœ¬ä¹¦ã€‹è®¤ä¸ºå…¶å®žä¸ºä¸€é—¨ç¼–è¯‘è¯­è¨€ï¼ˆå®ƒä¸æ˜¯æå‰ç¼–è¯‘çš„ï¼Œç¼–è¯‘ç»“æžœä¹Ÿä¸èƒ½åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­è¿›è¡Œç§»æ¤ï¼‰ã€‚ ä¸€èˆ¬çš„ç¼–è¯‘å™¨ï¼Œå…¶ä¸€æ®µæºä»£ç æ‰§è¡Œå‰ç»åŽ†ä»¥ä¸‹ä¸‰æ­¥ï¼š åˆ†è¯/è¯æ³•åˆ†æžï¼ˆTokenizing/Lexingï¼‰ è§£æž/è¯­æ³•åˆ†æžï¼ˆParsing Abstract Syntax Treeï¼Œâ€œæŠ½è±¡è¯­æ³•æ ‘â€ï¼‰ ä»£ç ç”Ÿæˆï¼ˆå°† AST è½¬æ¢ä¸ºå¯æ‰§è¡Œçš„ä»£ç ï¼‰ ç„¶è€Œ JavaScript å¼•æ“Žè¦å¤æ‚çš„å¤šï¼Œä¾‹å¦‚åœ¨è¯­æ³•åˆ†æžå’Œä»£ç ç”Ÿæˆé˜¶æ®µæœ‰ç‰¹å®šçš„æ­¥éª¤æ¥å¯¹è¿è¡Œæ€§èƒ½è¿›è¡Œä¼˜åŒ–ï¼Œå¯¹å†—ä½™å…ƒç´ è¿›è¡Œä¼˜åŒ–ã€‚å¤§éƒ¨åˆ†æƒ…å†µä¸‹ç¼–è¯‘å‘ç”Ÿåœ¨æ‰§è¡Œå‰çš„å‡ å¾®ç§’ã€‚åœ¨ä½œç”¨åŸŸèƒŒåŽï¼ŒJavaScript å¼•æ“Žä½¿ç”¨äº†å„ç§æ–¹æ³•ï¼ˆJITï¼Œå»¶è¿Ÿç¼–è¯‘ç”šè‡³é‡ç¼–è¯‘ï¼‰æ¥ä¿è¯æ€§èƒ½æœ€ä½³ã€‚ ç†è§£ä½œç”¨åŸŸ å¤„ç†ç¨‹åºçš„è§’è‰²ä»¬ï¼š å¼•æ“Žï¼šè´Ÿè´£JSç¨‹åºç¼–è¯‘ä»¥åŠæ‰§è¡Œ ç¼–è¯‘å™¨ï¼šè´Ÿè´£è¯­æ³•åˆ†æžä»¥åŠä»£ç ç”Ÿæˆ ä½œç”¨åŸŸï¼šæ”¶é›†å¹¶ç»´æŠ¤ç”±æ‰€æœ‰å£°æ˜Žçš„æ ‡è¯†ç¬¦ç»„æˆçš„ä¸€ç³»åˆ—æŸ¥è¯¢ï¼Œå¹¶å®žæ–½ä¸€å¥—ä¸¥æ ¼çš„è§„åˆ™ä»¥ç¡®ç«‹è®¿é—®æƒé™ å¯¹è¯æ¨¡æ‹Ÿï¼š å˜é‡çš„èµ‹å€¼æ“ä½œè¿‡ç¨‹ ç¼–è¯‘å™¨å˜é‡(å¯¹è±¡)æŸ¥è¯¢çš„æ–¹å¼ LHS æŸ¥è¯¢ï¼ˆèµ‹å€¼ç›®æ ‡çš„æŸ¥è¯¢ï¼Œæ‰¾åˆ°ä»–ï¼Œå¹¶ä¸”æŠŠè¿™ä¸ªä¸œè¥¿ç»™ä»–ã€‚ï¼‰ RHS æŸ¥è¯¢ï¼ˆå–å¾—ç›®æ ‡æºçš„å€¼ï¼Œå¾—åˆ°æŸæŸçš„å€¼ã€‚ï¼‰ å¼•æ“Žä¸Žä½œç”¨åŸŸçš„èŒè´£ ä½œç”¨åŸŸåµŒå¥— ä½œç”¨åŸŸåµŒå¥—å½¢æˆäº†ä½œç”¨åŸŸé“¾ï¼Œä¸€æ—¦åœ¨å½“å‰ä½œç”¨åŸŸæ— æ³•æŸ¥æ‰¾åˆ°ç›®æ ‡ï¼Œå°±ä¼šå‘å¤–ä¼ é€’ï¼ˆäº‹ä»¶å†’æ³¡ï¼‰ï¼Œç›´åˆ°æœ€å¤–å±‚å…¨å±€çŽ¯å¢ƒã€‚ å¼‚å¸¸ ä¸ºä½•åŒºåˆ† LHS å’Œ RHS è‡³å…³é‡è¦ï¼Œå› ä¸ºåœ¨å˜é‡æœªå£°æ˜Žçš„æƒ…å†µä¸‹ï¼Œè¿™ä¸¤ä¸­æŸ¥è¯¢è¡Œä¸ºæ˜¯ä¸ä¸€æ ·çš„ã€‚ å¦‚æžœ RHS æŸ¥è¯¢æ˜¯åœ¨æ‰€æœ‰ä½œç”¨åŸŸä¸­éå¯»ä¸åˆ°æ‰€éœ€è¦çš„å˜é‡ï¼Œå¼•æ“Žå°±ä¼šæŠ›å‡º ReferenceError å¼‚å¸¸ã€‚ å¦‚æžœ LHS æŸ¥è¯¢å­å•Šæ‰€æœ‰ä½œç”¨åŸŸä¸­éå¯»ä¸åˆ°æ‰€éœ€å˜é‡ï¼Œå°±ä¼šåœ¨å…¨å±€ä½œç”¨åŸŸä¸­åˆ›å»ºä¸€ä¸ªå…·æœ‰è¯¥åç§°çš„å˜é‡ï¼Œå¹¶è¿”å›žç»™å¼•æ“Žï¼ˆéžä¸¥æ ¼æ¨¡å¼ï¼‰ ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼ŒLHS æŸ¥è¯¢æ²¡æ‰¾åˆ°å˜é‡åŒ RHS ä¸€æ ·æŠ›å‡º ReferenceError å¼‚å¸¸ ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼ŒRHS æŸ¥è¯¢æ‰¾åˆ°ç›®æ ‡å˜é‡ï¼Œä½†å¯¹è¯¥å˜é‡çš„å€¼è¿›è¡Œä¸åˆç†çš„æ“ä½œï¼Œä¾‹å¦‚å¯¹éžå‡½æ•°ç±»åž‹çš„å€¼è¿›è¡Œå‡½æ•°è°ƒç”¨ï¼Œå¼•ç”¨ undefined æˆ–è€… null ç±»åž‹çš„å€¼ä¸­çš„å±žæ€§ï¼Œä¼šæŠ›å‡º TypeErrorï¼ˆç±»åž‹é”™è¯¯ï¼‰ ReferenceError åŒä½œç”¨åŸŸåˆ¤åˆ«å¤±è´¥ç›¸å…³ï¼Œè€Œ TypeError åˆ™ä»£è¡¨ä½œç”¨åŸŸåˆ¤åˆ«æˆåŠŸï¼Œæ‰¾åˆ°äº†å˜é‡ä½†æ˜¯å¯¹ç»“æžœçš„æ“ä½œæ˜¯éžæ³•æˆ–ä¸åˆç†çš„ã€‚ æ€»ç»“ï¼šä½œç”¨åŸŸå°±æ˜¯ä¸€å¥—è§„åˆ™ï¼Œç”¨äºŽç¡®å®šåœ¨ä½•å¤„ä»¥åŠå¦‚ä½•æŸ¥æ‰¾å˜é‡ï¼ˆæ ‡è¯†ç¬¦ï¼‰ã€‚å¦‚æžœç›¸å¯¹æŸ¥æ‰¾çš„å˜é‡è¿›è¡Œèµ‹å€¼ï¼Œé‚£ä¹ˆå°±ä¼šç”¨ LBS æŸ¥è¯¢ï¼›å¦‚æžœç›®çš„æ˜¯èŽ·å–å˜é‡çš„å€¼ï¼Œå°±ä¼šä½¿ç”¨ RHS æŸ¥è¯¢ã€‚èµ‹å€¼æ“ä½œç¬¦ä¼šå¯¼è‡´ LHS æŸ¥è¯¢ã€‚ â€˜=â€™ æ“ä½œç¬¦æˆ–è°ƒç”¨å‡½æ•°æ˜¯ä¼ å…¥å‚æ•°çš„æ“ä½œéƒ½ä¼šå¯¼è‡´å…³è”ä½œç”¨åŸŸçš„èµ‹å€¼æ“ä½œã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[MVC Backbone]]></title>
      <url>%2F2017%2F03%2F11%2FMVC-Backbone%2F</url>
      <content type="text"><![CDATA[æœ€è¿‘é˜…è¯»äº†ã€ŠåŸºäºŽMVCçš„JavaScript webå¯Œåº”ç”¨å¼€å‘ã€‹ï¼ˆåŽæ–‡ç®€ç§°ã€ŠMVCã€‹ï¼‰ï¼Œæ–‡ç« ç¬¬åäºŒç« ä»‹ç»äº† Backbone.jsï¼Œå†æ¬¡æ¿€å‘äº†æˆ‘å¯¹æ­¤æ¡†æž¶çš„å…´è¶£ã€‚åœ¨çœ‹è¿™æœ¬ä¹¦ä¹‹å‰äº†è§£è¿‡ vueï¼Œä¹Ÿè¢«å…¶æ‰€å¸å¼•ï¼Œè€Œæ­£å¦‚ä½œè€…åˆ†äº«çš„ç»éªŒï¼Œ MVC æ˜¯ MV* å‘å±•çš„å‰èº«ã€‚ä¹Ÿå› æ­¤è®©è‡ªå·±æƒ³è¦æ›´åŠ æ·±å…¥åœ°åŽ»äº†è§£ï¼ŒMVC åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿå€Ÿæ­¤ä»Ž Backbone å…¥æ‰‹æ¥å­¦ä¹ è¿™ç±»åº“ï¼ˆæ¡†æž¶ï¼‰çš„è®¾è®¡æ€æƒ³ã€‚ Backbone çš„ç‰¹ç‚¹ Backbone æ˜¯æž„å»º JavaScript åº”ç”¨ç¨‹åºçš„ä¸€ä¸ªä¼˜ç§€ç±»åº“ï¼Œä»–çš„ä¼˜ç¾Žä¹‹å¤„åœ¨äºŽå…¶ç®€æ´ã€‚è¿™æ˜¯ä¸€ä¸ªè½»é‡ç±»åº“ï¼Œè¦†ç›–äº†åŸºç¡€çš„åŠŸèƒ½ï¼ŒåŒæ—¶æä¾›äº†æœ€å¤§çš„çµæ´»æ€§ã€‚ï¼ˆå¤§å°è¯·å‚é˜…å®˜æ–¹æ–‡ä»¶ï¼‰MVC æ˜¯è´¯ç©¿ Backbone æ ¸å¿ƒçš„æ¨¡å¼ã€‚æä¾›äº†æ¨¡åž‹ã€æŽ§åˆ¶å™¨å’Œè§†å›¾â€”â€”éª¨æž¶ã€‚Backbone å”¯ä¸€ä»¥æ¥ underscore.jsï¼Œå…¶æä¾›éžå¸¸æœ‰ç”¨çš„å·¥å…·å’Œ js å‡½æ•°ã€‚é™¤äº† underscoreï¼Œè¿˜å¯ä»¥ä½¿ç”¨ jQuery zepto æ¥æå‡ Backbone å¤„ç†è§†å›¾çš„èƒ½åŠ› å¼•ç”¨æ¥è‡ªã€ŠMVCã€‹-chapter 12 çŸ¥ä¹Žä¸Šå…³äºŽ Backbone çš„å›žç­”Backbone æœ€é€‚åˆçš„åº”ç”¨åœºæ™¯æ˜¯å•é¡µé¢åº”ç”¨ï¼Œå¹¶ä¸”é¡µé¢ä¸Šæœ‰å¤§é‡æ•°æ®æ¨¡åž‹ï¼Œæ¨¡åž‹ä¹‹é—´éœ€è¦è¿›è¡Œå¤æ‚çš„ä¿¡æ¯æ²Ÿé€šã€‚Backbone åœ¨è¿™ç§åœºæ™¯ä¸‹ï¼Œèƒ½å¾ˆå¥½çš„å®žçŽ°æ¨¡å—é—´æ¾è€¦åˆå’Œäº‹ä»¶é©±åŠ¨ã€‚ å…¶ä»–é€‚ç”¨äº§å“è¿˜æœ‰å¾®åšï¼Œç½‘æ˜“å¾®åšçš„å‰ç«¯è®¾è®¡ä¹Ÿæ˜¯å’Œ Backbone ç±»ä¼¼çš„ä¸€ä¸ªç»“æž„ã€‚ Backbone çš„ä¼˜ç‚¹å’Œä¸€äº›ç»éªŒ Tipï¼š View çš„åˆ’åˆ†å°†é¡µé¢ä¸Šçš„è§†å›¾å…ƒç´ è§£è€¦ï¼Œç²’åº¦ç»†åŒ–ã€‚View é—´é€šè¿‡äº‹ä»¶å’Œ Model é€šè®¯ï¼Œé¿å…äº† DOM äº‹ä»¶çš„æ»¥ç”¨ã€‚Model å’Œ Restful çš„é€šè®¯æ–¹å¼å¯¹äºŽåŽç«¯äººå‘˜éžå¸¸å‹å¥½ã€‚ MVC æž¶æž„æ¸…æ™°ï¼Œ æˆ‘æœ‰ä¸ªå¸¸å¹´å†™ Java æ²¡å†™è¿‡ JS çš„åŒäº‹çœ‹ Backbone å¾ˆå¿«å°±äº†è§£äº†æ•´ä½“è®¾è®¡ï¼Œè™½ç„¶è¿™æ—¶å€™ä»–è¿˜æ˜¯ä¸ä¼šå†™ JSã€‚ Collection/Model æŠ½è±¡äº†ä»¥å‰æ‚ä¹±çš„ AJAX è¯·æ±‚ï¼ŒCRUD è¯·æ±‚å˜å¾—éžå¸¸éžå¸¸æ–¹ä¾¿ã€‚ å¼ºçƒˆå»ºè®® View -&gt; Model å•å‘ä¾èµ–ï¼Œä¸–ç•Œä¼šç¾Žå¥½å¾ˆå¤šã€‚ é…ä¸Šä¸€ä¸ªæ¨¡å—åŒ–åŠ è½½å™¨ä¾‹å¦‚ SeaJS ä¼šå¾ˆçˆ½ã€‚ Backbone çš„ä¸€äº›ç¼ºç‚¹ï¼Œæˆ–è€…è¯´ä¸€äº›å°šæœªå®žçŽ°çš„ Featureï¼š Model å±‚æ¯”è¾ƒç®€å•ï¼Œå¦‚æžœè¦æ”¯æŒ One-To-One æˆ–è€… One-To-Many ç­‰å¤æ‚æ•°æ®å…³ç³»æ—¶æœ‰äº›åŠ›ä¸ä»Žå¿ƒã€‚è¿˜æœ‰ ä¸€ä¸ª Model åªèƒ½å±žäºŽä¸€ä¸ª Collection è¿™ä¸ªè®¾è®¡ï¼Œé¡µé¢å¤æ‚çš„æ—¶å€™ä¼šå¾ˆå—å±€é™ã€‚ä¾‹å¦‚è¿™ä¸ªé—®é¢˜ï¼š http://www.zhihu.com/question/19843899 ï¼ˆè¡¥å……ï¼šBackbone.Relations æ’ä»¶æ˜¯è¿™ä¸ªé—®é¢˜çš„ä¸€ä¸ªè§£å†³æ–¹æ¡ˆ https://github.com/PaulUithol/Backbone-relational By zjhiphopï¼‰ åŒä¸Šï¼ŒModel åªæœ‰åŸºæœ¬çš„ CRUD æ“ä½œï¼Œä¸èƒ½å¾ˆå¥½çš„æ‰©å±•ï¼ŒBackbone.sync æ–¹æ³•å†™çš„ä¸å¤ªçµæ´»ï¼Œè¦æƒ³æ‰©å±•å°±å¾—é‡å†™ sync æ–¹æ³•ã€‚ View å±‚æ²¡æœ‰å¾ˆå¼ºçš„ Page ç®¡ç†æœºåˆ¶ï¼Œæ¯”å¦‚é€šè¿‡ URL åˆ‡æ¢æ”¹å˜æ•´ä¸ªé¡µé¢æ—¶ï¼Œé¡µé¢ä¸Šå°šå­˜çš„ View å¦‚ä½•å¤„ç†ï¼Ÿç›´æŽ¥é”€æ¯çš„è¯ï¼Œæ˜¯å¦è¦é”€æ¯å…³è”çš„ Modelã€Collectionï¼ŸCache ä½ï¼Ÿå¦‚ä½•ç®¡ç† Cacheï¼Ÿ å†…å­˜ç®¡ç†éœ€è¦æ¯”è¾ƒå°å¿ƒï¼Œç¼ºä¹æœºåˆ¶é¿å…åˆ›å»ºé‡å¤ Modelã€‚ extends override çˆ¶ç±»æ–¹æ³•çš„æ—¶å€™å¾—å†™ä¸€ä¸²çš„ä»£ç ï¼Œå°±ä¸èƒ½å®žçŽ°ä¸ª _super æ–¹æ³•ä¹ˆâ€¦â€¦ï¼ˆSuperClass.prototype.someMethod.applyï¼‰ å¯¹è°ƒè¯•éžå¸¸ä¸å‹å¥½ã€‚ ä½œè€…æœ‰ä»£ç æ´ç™–ï¼ˆä¹Ÿæ˜¯åŠ åˆ†é¡¹ï¼‰ï¼Œthis.$el å¤§å®¶å‘¼å”¤äº†è¿™ä¹ˆä¹…æ‰åŠ ä¸Šï¼Œä¼°è®¡ä»Šç”Ÿä¹Ÿçœ‹ä¸åˆ° this._superã€‚æ›´æ–°æ…¢ã€‚ æ€»ä½“æ¥è¯´ Backbone è¿˜å¾ˆè½»ï¼Œæ¡†æž¶å¾ˆæ¼‚äº®ä½†æ˜¯æœ‰äº›ç»†èŠ‚è¿˜æ¯”è¾ƒç²—ç³™ã€‚ç”¨ä¹‹å‰è¦åšå¥½å¯¹ Backbone è¿›è¡Œå¤§é‡æ‰©å±•ç”šè‡³ Hack çš„å‡†å¤‡ã€‚ ä½œè€…ï¼špwæ¥æºï¼šçŸ¥ä¹Ž é“¾æŽ¥ æ¨¡åž‹1Backbone.Model æ¨¡åž‹æ˜¯ä¿å­˜åº”ç”¨ç¨‹åºæ•°æ®çš„åœ°æ–¹ã€‚å¯ä»¥æƒ³è±¡ä¸º APP åŽŸå§‹æ•°æ®ç²¾å¿ƒè®¾è®¡çš„æŠ½è±¡ï¼Œå¹¶ä¸”æ·»åŠ äº†ä¸€äº›å·¥å…·å‡½æ•°å’Œäº‹ä»¶ã€‚ æ¨¡åž‹å’Œå±žæ€§ä½¿ç”¨ set() å’Œ get() æ¥è®¾ç½®å’ŒèŽ·å–å®žä¾‹ä¸­çš„å±žæ€§ã€‚12var user = new User();user.set(&#123;name: "yevvb"&#125;);//hash å½¢å¼çš„è¡¨ç¤ºå¯¹è±¡ é›†åˆé›†åˆå°±æ˜¯å¯¹æ¨¡åž‹å®žä¾‹çš„æ•°æ®è¿›è¡Œç®¡ç†ã€‚æ–‡ç« ä¸­ä¸¾äº†é‡å»º twitter å…³æ³¨å’Œç²‰ä¸çš„ä¾‹å­ï¼ŒFOLLOWERS å’Œ FOLLOWEESï¼Œä¸¤è€…éƒ½æ˜¯ç”± User å®žä¾‹æ¥å¡«å……æ•°æ®ï¼Œè™½ç„¶æ¥è‡ªäºŽåŒä¸€ä¸ª Modelï¼Œä½†æ˜¯åŒ…å«äº†ä¸åŒçš„ Model å®žä¾‹ï¼ˆUser å®žä¾‹ï¼‰ã€‚ æŽ§åˆ¶é›†åˆå†…éƒ¨é¡ºåº123456var Users = Backbone.Collection.extend(&#123; // é€šè¿‡ comparatorï¼ˆï¼‰ å‡½æ•°æ¥å®žçŽ° comparator: function(user)&#123; return user.get("name"); &#125;&#125;); è§†å›¾Backbone è§†å›¾å¹¶ä¸æ˜¯æ¨¡æ¿æœ¬èº«ï¼Œè€Œæ˜¯ä¸€äº›æŽ§åˆ¶ç±»ã€‚ä»£è¡¨äº†ä¸€ä¸ª UI é€»è¾‘å—ï¼Œè´Ÿè´£ä¸€ä¸ªç®€å•çš„ DOM çš„å†…å®¹ã€‚æ¯”å¦‚è¯´ï¼šæŽ§åˆ¶å…ƒç´ çš„æ˜¾éšï¼ŒæŒ‰é’®çš„ä¸åŒçŠ¶æ€ç­‰ç­‰â€¦ 12345var UserView = Backbone.View.extend(&#123; el: $(&quot;.users&quot;)&#125;);new UserView(&#123;id: &quot;followers&quot;&#125;); æ¸²æŸ“è§†å›¾æ¯ä¸ªè§†å›¾éƒ½æœ‰ä¸€ä¸ª render() å‡½æ•°ï¼Œé»˜è®¤æƒ…å†µä¸åšä»»ä½•æ“ä½œã€‚ä¸€æ—¦è§†å›¾ä¿®æ”¹å°±éœ€è¦ repaintsï¼Œå°±åº”è¯¥è°ƒç”¨æ­¤å‡½æ•°ã€‚æ¨¡æ¿å¯ä»¥ä¾èµ–äºŽå…¶ä»–å·¥å…· underscore ç­‰ç­‰éƒ½å¯ä»¥ã€‚ å³ä½¿æ˜¯æœªæ’å…¥åˆ°é¡µé¢ä¸­åŽ»çš„ model å®žä¾‹ï¼Œå…¶ä»æ—§æ‹¥æœ‰è‡ªå·±çš„ el å…ƒç´ ï¼Œè§†å›¾å¯åœ¨ä»»ä½•æ—¶å€™æ¸²æŸ“ï¼Œç„¶åŽä¸€æ¬¡æ€§æ’å…¥åˆ° DOM ä¸­åŽ»ï¼Œè¿™æ ·èƒ½å°½é‡å‡å°‘ reflows å’Œ repaints ä»Žè€ŒèŽ·å¾—é«˜æ€§èƒ½çš„ UI æ¸²æŸ“ã€‚ 12345678var TodoView = Backbone.View.extend(&#123; template: _.template($(&quot;#todo-template&quot;).html()), render: function() &#123; $(this.el).html(this.template(this.model.toJSON())); // è¿”å›žä»¥ä¾¿äºŽé“¾å¼è°ƒç”¨ï¼Œéžå¸¸é‡è¦ return this; &#125;&#125;); å§”æ‰˜äº‹ä»¶äº‹ä»¶å¿…ä¸å¯å°‘ï¼Œä»–æ˜¯ç”¨æˆ·è¡Œä¸ºâ€“äº¤äº’çš„åŸºç¡€ã€‚ Backbone è§†å›¾æä¾›äº†ä¸€ç§æ·»åŠ äº‹ä»¶åˆ° el çš„å¿«æ·æ–¹æ³•ã€‚12345678var TodoView = Backbone.View.extend(&#123; events: &#123; &quot;change input[type=checkbox]&quot; : &quot;toggleDone&quot;, &quot;click .destroy&quot; : &quot;clear&quot;, &#125;, toggleDone: function(e)&#123; /* ... */&#125;, clear: function(e)&#123; /* ... */&#125;&#125;); ç»‘å®šå’Œä¸Šä¸‹æ–‡ä¸€æ—¦è§†å›¾å‘ç”Ÿæ”¹å˜ï¼Œå°±ä¼šè§¦å‘ change äº‹ä»¶ï¼Œä½¿å¾—åº”ç”¨ç¨‹åºçš„è§†å›¾å’Œä¸Žä¹‹å¯¹åº”çš„æ¨¡åž‹æ•°æ®æ˜¯åŒæ­¥ç»‘å®šçš„ã€‚è€Œæ­¤æ—¶å”¯ä¸€éœ€è¦æ³¨æ„çš„æ˜¯ this æŒ‡ç¤ºçš„ä¸Šä¸‹æ–‡ä¼šå‘ç”Ÿå˜åŒ–ã€‚ æŽ§åˆ¶å™¨Backbone çš„æŽ§åˆ¶å™¨å°†åº”ç”¨ç¨‹åºçš„çŠ¶æ€å’Œ URL çš„ hash ç‰‡æ®µå…³è”åœ¨ä¸€èµ·ï¼Œä½¿ URL åœ°å€å¯åˆ†äº«ï¼Œä¹Ÿå¯ä½œä¸ºä¹¦ç­¾ä½¿ç”¨ã€‚æœ¬è´¨ä¸Šï¼ŒæŽ§åˆ¶å™¨ç”±ä¸€äº›è·¯ç”±å’Œå‡½æ•°æž„æˆï¼Œå½“å¯¼èˆªåˆ°è¿™äº›è·¯ç”±æ—¶é‚£äº›å‡½æ•°å°±ä¼šè¢«è°ƒç”¨ã€‚ 123456789101112131415var PageController = Backbone.Controller.extend(&#123; routes: &#123; &quot;&quot;: &quot;index&quot;, &quot;help&quot;: &quot;help&quot;, // #help &quot;search/:query&quot;: &quot;search&quot;, // #search/kiwis &quot;search/:query/p:page&quot;: &quot;search&quot; // #search/kiwis/p7 &#125;, index: function()&#123; /* ... */ &#125;, help: function() &#123; // ... &#125;, search: function(query, page) &#123; // ... &#125;&#125;); ä¸ŽæœåŠ¡å™¨åŒæ­¥çš„é—®é¢˜ç¬¬ä¸€æ¬¡å¦‚ä½•ä»ŽæœåŠ¡å™¨èŽ·å–æ¨¡åž‹æ•°æ®ï¼ˆfetchï¼‰æœåŠ¡å™¨ç«¯å¦‚ä½•å­˜å‚¨å¦‚ä½•è‡ªå®šä¹‰è¡Œä¸ºtodo åº”ç”¨å®žè·µ æ€»ç»“ï¼šbackbone ä¸ºæˆ‘ä»¬è§£è€¦äº†æ¨¡åž‹ã€è§†å›¾å’ŒæŽ§åˆ¶å±‚ï¼Œç»“æž„æ¸…æ™°ç®€æ´ã€‚]]></content>
    </entry>

    
    <entry>
      <title><![CDATA[Hello World]]></title>
      <url>%2F2017%2F01%2F01%2Fhello-world%2F</url>
      <content type="text"><![CDATA[Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new "My New Post" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment]]></content>
    </entry>

    
  
  
</search>
